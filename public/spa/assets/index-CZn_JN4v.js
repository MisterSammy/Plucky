(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function k_(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var Ch={exports:{}},Cr={};var Gg;function M1(){if(Gg)return Cr;Gg=1;var l=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:l,type:a,key:f,ref:o!==void 0?o:null,props:u}}return Cr.Fragment=e,Cr.jsx=i,Cr.jsxs=i,Cr}var Ig;function A1(){return Ig||(Ig=1,Ch.exports=M1()),Ch.exports}var D=A1(),wh={exports:{}},_t={};var Yg;function x1(){if(Yg)return _t;Yg=1;var l=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),b=Symbol.iterator;function S(A){return A===null||typeof A!="object"?null:(A=b&&A[b]||A["@@iterator"],typeof A=="function"?A:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,x={};function C(A,B,$){this.props=A,this.context=B,this.refs=x,this.updater=$||T}C.prototype.isReactComponent={},C.prototype.setState=function(A,B){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,B,"setState")},C.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function G(){}G.prototype=C.prototype;function U(A,B,$){this.props=A,this.context=B,this.refs=x,this.updater=$||T}var X=U.prototype=new G;X.constructor=U,M(X,C.prototype),X.isPureReactComponent=!0;var E=Array.isArray;function z(){}var j={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function W(A,B,$){var it=$.ref;return{$$typeof:l,type:A,key:B,ref:it!==void 0?it:null,props:$}}function K(A,B){return W(A.type,B,A.props)}function Q(A){return typeof A=="object"&&A!==null&&A.$$typeof===l}function Y(A){var B={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function($){return B[$]})}var st=/\/+/g;function tt(A,B){return typeof A=="object"&&A!==null&&A.key!=null?Y(""+A.key):B.toString(36)}function ot(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(z,z):(A.status="pending",A.then(function(B){A.status==="pending"&&(A.status="fulfilled",A.value=B)},function(B){A.status==="pending"&&(A.status="rejected",A.reason=B)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function O(A,B,$,it,nt){var ct=typeof A;(ct==="undefined"||ct==="boolean")&&(A=null);var mt=!1;if(A===null)mt=!0;else switch(ct){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(A.$$typeof){case l:case e:mt=!0;break;case _:return mt=A._init,O(mt(A._payload),B,$,it,nt)}}if(mt)return nt=nt(A),mt=it===""?"."+tt(A,0):it,E(nt)?($="",mt!=null&&($=mt.replace(st,"$&/")+"/"),O(nt,B,$,"",function(de){return de})):nt!=null&&(Q(nt)&&(nt=K(nt,$+(nt.key==null||A&&A.key===nt.key?"":(""+nt.key).replace(st,"$&/")+"/")+mt)),B.push(nt)),1;mt=0;var rt=it===""?".":it+":";if(E(A))for(var wt=0;wt<A.length;wt++)it=A[wt],ct=rt+tt(it,wt),mt+=O(it,B,$,ct,nt);else if(wt=S(A),typeof wt=="function")for(A=wt.call(A),wt=0;!(it=A.next()).done;)it=it.value,ct=rt+tt(it,wt++),mt+=O(it,B,$,ct,nt);else if(ct==="object"){if(typeof A.then=="function")return O(ot(A),B,$,it,nt);throw B=String(A),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return mt}function L(A,B,$){if(A==null)return A;var it=[],nt=0;return O(A,it,"","",function(ct){return B.call($,ct,nt++)}),it}function J(A){if(A._status===-1){var B=A._result;B=B(),B.then(function($){(A._status===0||A._status===-1)&&(A._status=1,A._result=$)},function($){(A._status===0||A._status===-1)&&(A._status=2,A._result=$)}),A._status===-1&&(A._status=0,A._result=B)}if(A._status===1)return A._result.default;throw A._result}var et=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},at={map:L,forEach:function(A,B,$){L(A,function(){B.apply(this,arguments)},$)},count:function(A){var B=0;return L(A,function(){B++}),B},toArray:function(A){return L(A,function(B){return B})||[]},only:function(A){if(!Q(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return _t.Activity=y,_t.Children=at,_t.Component=C,_t.Fragment=i,_t.Profiler=o,_t.PureComponent=U,_t.StrictMode=a,_t.Suspense=m,_t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,_t.__COMPILER_RUNTIME={__proto__:null,c:function(A){return j.H.useMemoCache(A)}},_t.cache=function(A){return function(){return A.apply(null,arguments)}},_t.cacheSignal=function(){return null},_t.cloneElement=function(A,B,$){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var it=M({},A.props),nt=A.key;if(B!=null)for(ct in B.key!==void 0&&(nt=""+B.key),B)!R.call(B,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&B.ref===void 0||(it[ct]=B[ct]);var ct=arguments.length-2;if(ct===1)it.children=$;else if(1<ct){for(var mt=Array(ct),rt=0;rt<ct;rt++)mt[rt]=arguments[rt+2];it.children=mt}return W(A.type,nt,it)},_t.createContext=function(A){return A={$$typeof:f,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:u,_context:A},A},_t.createElement=function(A,B,$){var it,nt={},ct=null;if(B!=null)for(it in B.key!==void 0&&(ct=""+B.key),B)R.call(B,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(nt[it]=B[it]);var mt=arguments.length-2;if(mt===1)nt.children=$;else if(1<mt){for(var rt=Array(mt),wt=0;wt<mt;wt++)rt[wt]=arguments[wt+2];nt.children=rt}if(A&&A.defaultProps)for(it in mt=A.defaultProps,mt)nt[it]===void 0&&(nt[it]=mt[it]);return W(A,ct,nt)},_t.createRef=function(){return{current:null}},_t.forwardRef=function(A){return{$$typeof:d,render:A}},_t.isValidElement=Q,_t.lazy=function(A){return{$$typeof:_,_payload:{_status:-1,_result:A},_init:J}},_t.memo=function(A,B){return{$$typeof:p,type:A,compare:B===void 0?null:B}},_t.startTransition=function(A){var B=j.T,$={};j.T=$;try{var it=A(),nt=j.S;nt!==null&&nt($,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(z,et)}catch(ct){et(ct)}finally{B!==null&&$.types!==null&&(B.types=$.types),j.T=B}},_t.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},_t.use=function(A){return j.H.use(A)},_t.useActionState=function(A,B,$){return j.H.useActionState(A,B,$)},_t.useCallback=function(A,B){return j.H.useCallback(A,B)},_t.useContext=function(A){return j.H.useContext(A)},_t.useDebugValue=function(){},_t.useDeferredValue=function(A,B){return j.H.useDeferredValue(A,B)},_t.useEffect=function(A,B){return j.H.useEffect(A,B)},_t.useEffectEvent=function(A){return j.H.useEffectEvent(A)},_t.useId=function(){return j.H.useId()},_t.useImperativeHandle=function(A,B,$){return j.H.useImperativeHandle(A,B,$)},_t.useInsertionEffect=function(A,B){return j.H.useInsertionEffect(A,B)},_t.useLayoutEffect=function(A,B){return j.H.useLayoutEffect(A,B)},_t.useMemo=function(A,B){return j.H.useMemo(A,B)},_t.useOptimistic=function(A,B){return j.H.useOptimistic(A,B)},_t.useReducer=function(A,B,$){return j.H.useReducer(A,B,$)},_t.useRef=function(A){return j.H.useRef(A)},_t.useState=function(A){return j.H.useState(A)},_t.useSyncExternalStore=function(A,B,$){return j.H.useSyncExternalStore(A,B,$)},_t.useTransition=function(){return j.H.useTransition()},_t.version="19.2.4",_t}var Fg;function sf(){return Fg||(Fg=1,wh.exports=x1()),wh.exports}var De=sf();const _o=k_(De);var Eh={exports:{}},wr={},Oh={exports:{}},Dh={};var Xg;function N1(){return Xg||(Xg=1,(function(l){function e(O,L){var J=O.length;O.push(L);t:for(;0<J;){var et=J-1>>>1,at=O[et];if(0<o(at,L))O[et]=L,O[J]=at,J=et;else break t}}function i(O){return O.length===0?null:O[0]}function a(O){if(O.length===0)return null;var L=O[0],J=O.pop();if(J!==L){O[0]=J;t:for(var et=0,at=O.length,A=at>>>1;et<A;){var B=2*(et+1)-1,$=O[B],it=B+1,nt=O[it];if(0>o($,J))it<at&&0>o(nt,$)?(O[et]=nt,O[it]=J,et=it):(O[et]=$,O[B]=J,et=B);else if(it<at&&0>o(nt,J))O[et]=nt,O[it]=J,et=it;else break t}}return L}function o(O,L){var J=O.sortIndex-L.sortIndex;return J!==0?J:O.id-L.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;l.unstable_now=function(){return u.now()}}else{var f=Date,d=f.now();l.unstable_now=function(){return f.now()-d}}var m=[],p=[],_=1,y=null,b=3,S=!1,T=!1,M=!1,x=!1,C=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function X(O){for(var L=i(p);L!==null;){if(L.callback===null)a(p);else if(L.startTime<=O)a(p),L.sortIndex=L.expirationTime,e(m,L);else break;L=i(p)}}function E(O){if(M=!1,X(O),!T)if(i(m)!==null)T=!0,z||(z=!0,Y());else{var L=i(p);L!==null&&ot(E,L.startTime-O)}}var z=!1,j=-1,R=5,W=-1;function K(){return x?!0:!(l.unstable_now()-W<R)}function Q(){if(x=!1,z){var O=l.unstable_now();W=O;var L=!0;try{t:{T=!1,M&&(M=!1,G(j),j=-1),S=!0;var J=b;try{e:{for(X(O),y=i(m);y!==null&&!(y.expirationTime>O&&K());){var et=y.callback;if(typeof et=="function"){y.callback=null,b=y.priorityLevel;var at=et(y.expirationTime<=O);if(O=l.unstable_now(),typeof at=="function"){y.callback=at,X(O),L=!0;break e}y===i(m)&&a(m),X(O)}else a(m);y=i(m)}if(y!==null)L=!0;else{var A=i(p);A!==null&&ot(E,A.startTime-O),L=!1}}break t}finally{y=null,b=J,S=!1}L=void 0}}finally{L?Y():z=!1}}}var Y;if(typeof U=="function")Y=function(){U(Q)};else if(typeof MessageChannel<"u"){var st=new MessageChannel,tt=st.port2;st.port1.onmessage=Q,Y=function(){tt.postMessage(null)}}else Y=function(){C(Q,0)};function ot(O,L){j=C(function(){O(l.unstable_now())},L)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(O){O.callback=null},l.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<O?Math.floor(1e3/O):5},l.unstable_getCurrentPriorityLevel=function(){return b},l.unstable_next=function(O){switch(b){case 1:case 2:case 3:var L=3;break;default:L=b}var J=b;b=L;try{return O()}finally{b=J}},l.unstable_requestPaint=function(){x=!0},l.unstable_runWithPriority=function(O,L){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var J=b;b=O;try{return L()}finally{b=J}},l.unstable_scheduleCallback=function(O,L,J){var et=l.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?et+J:et):J=et,O){case 1:var at=-1;break;case 2:at=250;break;case 5:at=1073741823;break;case 4:at=1e4;break;default:at=5e3}return at=J+at,O={id:_++,callback:L,priorityLevel:O,startTime:J,expirationTime:at,sortIndex:-1},J>et?(O.sortIndex=J,e(p,O),i(m)===null&&O===i(p)&&(M?(G(j),j=-1):M=!0,ot(E,J-et))):(O.sortIndex=at,e(m,O),T||S||(T=!0,z||(z=!0,Y()))),O},l.unstable_shouldYield=K,l.unstable_wrapCallback=function(O){var L=b;return function(){var J=b;b=L;try{return O.apply(this,arguments)}finally{b=J}}}})(Dh)),Dh}var Zg;function C1(){return Zg||(Zg=1,Oh.exports=N1()),Oh.exports}var Rh={exports:{}},Oe={};var Qg;function w1(){if(Qg)return Oe;Qg=1;var l=sf();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,p,_){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:m,containerInfo:p,implementation:_}}var f=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Oe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Oe.createPortal=function(m,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(m,p,null,_)},Oe.flushSync=function(m){var p=f.T,_=a.p;try{if(f.T=null,a.p=2,m)return m()}finally{f.T=p,a.p=_,a.d.f()}},Oe.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(m,p))},Oe.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},Oe.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var _=p.as,y=d(_,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?a.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:S}):_==="script"&&a.d.X(m,{crossOrigin:y,integrity:b,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Oe.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=d(p.as,p.crossOrigin);a.d.M(m,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(m)},Oe.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,y=d(_,p.crossOrigin);a.d.L(m,_,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Oe.preloadModule=function(m,p){if(typeof m=="string")if(p){var _=d(p.as,p.crossOrigin);a.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(m)},Oe.requestFormReset=function(m){a.d.r(m)},Oe.unstable_batchedUpdates=function(m,p){return m(p)},Oe.useFormState=function(m,p,_){return f.H.useFormState(m,p,_)},Oe.useFormStatus=function(){return f.H.useHostTransitionStatus()},Oe.version="19.2.4",Oe}var Wg;function E1(){if(Wg)return Rh.exports;Wg=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(e){console.error(e)}}return l(),Rh.exports=w1(),Rh.exports}var Kg;function O1(){if(Kg)return wr;Kg=1;var l=C1(),e=sf(),i=E1();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function d(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(a(188))}function p(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,r=n;;){var c=s.return;if(c===null)break;var h=c.alternate;if(h===null){if(r=c.return,r!==null){s=r;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===s)return m(c),t;if(h===r)return m(c),n;h=h.sibling}throw Error(a(188))}if(s.return!==r.return)s=c,r=h;else{for(var g=!1,v=c.child;v;){if(v===s){g=!0,s=c,r=h;break}if(v===r){g=!0,r=c,s=h;break}v=v.sibling}if(!g){for(v=h.child;v;){if(v===s){g=!0,s=h,r=c;break}if(v===r){g=!0,r=h,s=c;break}v=v.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==r)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),U=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),Q=Symbol.iterator;function Y(t){return t===null||typeof t!="object"?null:(t=Q&&t[Q]||t["@@iterator"],typeof t=="function"?t:null)}var st=Symbol.for("react.client.reference");function tt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===st?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case M:return"Fragment";case C:return"Profiler";case x:return"StrictMode";case E:return"Suspense";case z:return"SuspenseList";case W:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case T:return"Portal";case U:return t.displayName||"Context";case G:return(t._context.displayName||"Context")+".Consumer";case X:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case j:return n=t.displayName||null,n!==null?n:tt(t.type)||"Memo";case R:n=t._payload,t=t._init;try{return tt(t(n))}catch{}}return null}var ot=Array.isArray,O=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},et=[],at=-1;function A(t){return{current:t}}function B(t){0>at||(t.current=et[at],et[at]=null,at--)}function $(t,n){at++,et[at]=t.current,t.current=n}var it=A(null),nt=A(null),ct=A(null),mt=A(null);function rt(t,n){switch($(ct,n),$(nt,t),$(it,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?fg(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=fg(n),t=dg(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}B(it),$(it,t)}function wt(){B(it),B(nt),B(ct)}function de(t){t.memoizedState!==null&&$(mt,t);var n=it.current,s=dg(n,t.type);n!==s&&($(nt,t),$(it,s))}function _e(t){nt.current===t&&(B(it),B(nt)),mt.current===t&&(B(mt),Mr._currentValue=J)}var Te,zn;function Be(t){if(Te===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Te=n&&n[1]||"",zn=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Te+t+zn}var lt=!1;function ft(t,n){if(!t||lt)return"";lt=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(H){var q=H}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(H){q=H}t.call(Z.prototype)}}else{try{throw Error()}catch(H){q=H}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(H){if(H&&q&&typeof H.stack=="string")return[H.stack,q.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=r.DetermineComponentFrameRoot(),g=h[0],v=h[1];if(g&&v){var N=g.split(`
`),P=v.split(`
`);for(c=r=0;r<N.length&&!N[r].includes("DetermineComponentFrameRoot");)r++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(r===N.length||c===P.length)for(r=N.length-1,c=P.length-1;1<=r&&0<=c&&N[r]!==P[c];)c--;for(;1<=r&&0<=c;r--,c--)if(N[r]!==P[c]){if(r!==1||c!==1)do if(r--,c--,0>c||N[r]!==P[c]){var I=`
`+N[r].replace(" at new "," at ");return t.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",t.displayName)),I}while(1<=r&&0<=c);break}}}finally{lt=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Be(s):""}function It(t,n){switch(t.tag){case 26:case 27:case 5:return Be(t.type);case 16:return Be("Lazy");case 13:return t.child!==n&&n!==null?Be("Suspense Fallback"):Be("Suspense");case 19:return Be("SuspenseList");case 0:case 15:return ft(t.type,!1);case 11:return ft(t.type.render,!1);case 1:return ft(t.type,!0);case 31:return Be("Activity");default:return""}}function kt(t){try{var n="",s=null;do n+=It(t,s),s=t,t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var St=Object.prototype.hasOwnProperty,jt=l.unstable_scheduleCallback,ae=l.unstable_cancelCallback,cn=l.unstable_shouldYield,In=l.unstable_requestPaint,me=l.unstable_now,za=l.unstable_getCurrentPriorityLevel,Ei=l.unstable_ImmediatePriority,Jr=l.unstable_UserBlockingPriority,Oi=l.unstable_NormalPriority,fc=l.unstable_LowPriority,$r=l.unstable_IdlePriority,dc=l.log,mc=l.unstable_setDisableYieldValue,ps=null,Ee=null;function un(t){if(typeof dc=="function"&&mc(t),Ee&&typeof Ee.setStrictMode=="function")try{Ee.setStrictMode(ps,t)}catch{}}var We=Math.clz32?Math.clz32:cv,lv=Math.log,ov=Math.LN2;function cv(t){return t>>>=0,t===0?32:31-(lv(t)/ov|0)|0}var tl=256,el=262144,nl=4194304;function Ws(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function sl(t,n,s){var r=t.pendingLanes;if(r===0)return 0;var c=0,h=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var v=r&134217727;return v!==0?(r=v&~h,r!==0?c=Ws(r):(g&=v,g!==0?c=Ws(g):s||(s=v&~t,s!==0&&(c=Ws(s))))):(v=r&~h,v!==0?c=Ws(v):g!==0?c=Ws(g):s||(s=r&~t,s!==0&&(c=Ws(s)))),c===0?0:n!==0&&n!==c&&(n&h)===0&&(h=c&-c,s=n&-n,h>=s||h===32&&(s&4194048)!==0)?n:c}function Va(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function uv(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xf(){var t=nl;return nl<<=1,(nl&62914560)===0&&(nl=4194304),t}function pc(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Pa(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function hv(t,n,s,r,c,h){var g=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var v=t.entanglements,N=t.expirationTimes,P=t.hiddenUpdates;for(s=g&~s;0<s;){var I=31-We(s),Z=1<<I;v[I]=0,N[I]=-1;var q=P[I];if(q!==null)for(P[I]=null,I=0;I<q.length;I++){var H=q[I];H!==null&&(H.lane&=-536870913)}s&=~Z}r!==0&&Zf(t,r,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(g&~n))}function Zf(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var r=31-We(n);t.entangledLanes|=n,t.entanglements[r]=t.entanglements[r]|1073741824|s&261930}function Qf(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var r=31-We(s),c=1<<r;c&n|t[r]&n&&(t[r]|=n),s&=~c}}function Wf(t,n){var s=n&-n;return s=(s&42)!==0?1:gc(s),(s&(t.suspendedLanes|n))!==0?0:s}function gc(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function _c(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Kf(){var t=L.p;return t!==0?t:(t=window.event,t===void 0?32:Vg(t.type))}function Jf(t,n){var s=L.p;try{return L.p=t,n()}finally{L.p=s}}var gs=Math.random().toString(36).slice(2),Me="__reactFiber$"+gs,Ue="__reactProps$"+gs,Di="__reactContainer$"+gs,yc="__reactEvents$"+gs,fv="__reactListeners$"+gs,dv="__reactHandles$"+gs,$f="__reactResources$"+gs,qa="__reactMarker$"+gs;function vc(t){delete t[Me],delete t[Ue],delete t[yc],delete t[fv],delete t[dv]}function Ri(t){var n=t[Me];if(n)return n;for(var s=t.parentNode;s;){if(n=s[Di]||s[Me]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=bg(t);t!==null;){if(s=t[Me])return s;t=bg(t)}return n}t=s,s=t.parentNode}return null}function ki(t){if(t=t[Me]||t[Di]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Ba(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function ji(t){var n=t[$f];return n||(n=t[$f]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ye(t){t[qa]=!0}var td=new Set,ed={};function Ks(t,n){zi(t,n),zi(t+"Capture",n)}function zi(t,n){for(ed[t]=n,t=0;t<n.length;t++)td.add(n[t])}var mv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nd={},sd={};function pv(t){return St.call(sd,t)?!0:St.call(nd,t)?!1:mv.test(t)?sd[t]=!0:(nd[t]=!0,!1)}function il(t,n,s){if(pv(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var r=n.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function al(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Yn(t,n,s,r){if(r===null)t.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+r)}}function hn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function id(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function gv(t,n,s){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,h=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){s=""+g,h.call(this,g)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function bc(t){if(!t._valueTracker){var n=id(t)?"checked":"value";t._valueTracker=gv(t,n,""+t[n])}}function ad(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),r="";return t&&(r=id(t)?t.checked?"true":"false":t.value),t=r,t!==s?(n.setValue(t),!0):!1}function rl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var _v=/[\n"\\]/g;function fn(t){return t.replace(_v,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Sc(t,n,s,r,c,h,g,v){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+hn(n)):t.value!==""+hn(n)&&(t.value=""+hn(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Tc(t,g,hn(n)):s!=null?Tc(t,g,hn(s)):r!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.name=""+hn(v):t.removeAttribute("name")}function rd(t,n,s,r,c,h,g,v){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),n!=null||s!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){bc(t);return}s=s!=null?""+hn(s):"",n=n!=null?""+hn(n):s,v||n===t.value||(t.value=n),t.defaultValue=n}r=r??c,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=v?t.checked:!!r,t.defaultChecked=!!r,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),bc(t)}function Tc(t,n,s){n==="number"&&rl(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Vi(t,n,s,r){if(t=t.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=n.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&r&&(t[s].defaultSelected=!0)}else{for(s=""+hn(s),n=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,r&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function ld(t,n,s){if(n!=null&&(n=""+hn(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+hn(s):""}function od(t,n,s,r){if(n==null){if(r!=null){if(s!=null)throw Error(a(92));if(ot(r)){if(1<r.length)throw Error(a(93));r=r[0]}s=r}s==null&&(s=""),n=s}s=hn(n),t.defaultValue=s,r=t.textContent,r===s&&r!==""&&r!==null&&(t.value=r),bc(t)}function Pi(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var yv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cd(t,n,s){var r=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?r?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":r?t.setProperty(n,s):typeof s!="number"||s===0||yv.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function ud(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var r in s)!s.hasOwnProperty(r)||n!=null&&n.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var c in n)r=n[c],n.hasOwnProperty(c)&&s[c]!==r&&cd(t,c,r)}else for(var h in n)n.hasOwnProperty(h)&&cd(t,h,n[h])}function Mc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ll(t){return bv.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Fn(){}var Ac=null;function xc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qi=null,Bi=null;function hd(t){var n=ki(t);if(n&&(t=n.stateNode)){var s=t[Ue]||null;t:switch(t=n.stateNode,n.type){case"input":if(Sc(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+fn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var r=s[n];if(r!==t&&r.form===t.form){var c=r[Ue]||null;if(!c)throw Error(a(90));Sc(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)r=s[n],r.form===t.form&&ad(r)}break t;case"textarea":ld(t,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Vi(t,!!s.multiple,n,!1)}}}var Nc=!1;function fd(t,n,s){if(Nc)return t(n,s);Nc=!0;try{var r=t(n);return r}finally{if(Nc=!1,(qi!==null||Bi!==null)&&(Zl(),qi&&(n=qi,t=Bi,Bi=qi=null,hd(n),t)))for(n=0;n<t.length;n++)hd(t[n])}}function Ua(t,n){var s=t.stateNode;if(s===null)return null;var r=s[Ue]||null;if(r===null)return null;s=r[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cc=!1;if(Xn)try{var La={};Object.defineProperty(La,"passive",{get:function(){Cc=!0}}),window.addEventListener("test",La,La),window.removeEventListener("test",La,La)}catch{Cc=!1}var _s=null,wc=null,ol=null;function dd(){if(ol)return ol;var t,n=wc,s=n.length,r,c="value"in _s?_s.value:_s.textContent,h=c.length;for(t=0;t<s&&n[t]===c[t];t++);var g=s-t;for(r=1;r<=g&&n[s-r]===c[h-r];r++);return ol=c.slice(t,1<r?1-r:void 0)}function cl(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ul(){return!0}function md(){return!1}function Le(t){function n(s,r,c,h,g){this._reactName=s,this._targetInst=c,this.type=r,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var v in t)t.hasOwnProperty(v)&&(s=t[v],this[v]=s?s(h):h[v]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?ul:md,this.isPropagationStopped=md,this}return y(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ul)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ul)},persist:function(){},isPersistent:ul}),n}var Js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hl=Le(Js),Ha=y({},Js,{view:0,detail:0}),Sv=Le(Ha),Ec,Oc,Ga,fl=y({},Ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ga&&(Ga&&t.type==="mousemove"?(Ec=t.screenX-Ga.screenX,Oc=t.screenY-Ga.screenY):Oc=Ec=0,Ga=t),Ec)},movementY:function(t){return"movementY"in t?t.movementY:Oc}}),pd=Le(fl),Tv=y({},fl,{dataTransfer:0}),Mv=Le(Tv),Av=y({},Ha,{relatedTarget:0}),Dc=Le(Av),xv=y({},Js,{animationName:0,elapsedTime:0,pseudoElement:0}),Nv=Le(xv),Cv=y({},Js,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wv=Le(Cv),Ev=y({},Js,{data:0}),gd=Le(Ev),Ov={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kv(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Rv[t])?!!n[t]:!1}function Rc(){return kv}var jv=y({},Ha,{key:function(t){if(t.key){var n=Ov[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=cl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Dv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rc,charCode:function(t){return t.type==="keypress"?cl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?cl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zv=Le(jv),Vv=y({},fl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_d=Le(Vv),Pv=y({},Ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rc}),qv=Le(Pv),Bv=y({},Js,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uv=Le(Bv),Lv=y({},fl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Hv=Le(Lv),Gv=y({},Js,{newState:0,oldState:0}),Iv=Le(Gv),Yv=[9,13,27,32],kc=Xn&&"CompositionEvent"in window,Ia=null;Xn&&"documentMode"in document&&(Ia=document.documentMode);var Fv=Xn&&"TextEvent"in window&&!Ia,yd=Xn&&(!kc||Ia&&8<Ia&&11>=Ia),vd=" ",bd=!1;function Sd(t,n){switch(t){case"keyup":return Yv.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Td(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ui=!1;function Xv(t,n){switch(t){case"compositionend":return Td(n);case"keypress":return n.which!==32?null:(bd=!0,vd);case"textInput":return t=n.data,t===vd&&bd?null:t;default:return null}}function Zv(t,n){if(Ui)return t==="compositionend"||!kc&&Sd(t,n)?(t=dd(),ol=wc=_s=null,Ui=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return yd&&n.locale!=="ko"?null:n.data;default:return null}}var Qv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Md(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Qv[t.type]:n==="textarea"}function Ad(t,n,s,r){qi?Bi?Bi.push(r):Bi=[r]:qi=r,n=eo(n,"onChange"),0<n.length&&(s=new hl("onChange","change",null,s,r),t.push({event:s,listeners:n}))}var Ya=null,Fa=null;function Wv(t){rg(t,0)}function dl(t){var n=Ba(t);if(ad(n))return t}function xd(t,n){if(t==="change")return n}var Nd=!1;if(Xn){var jc;if(Xn){var zc="oninput"in document;if(!zc){var Cd=document.createElement("div");Cd.setAttribute("oninput","return;"),zc=typeof Cd.oninput=="function"}jc=zc}else jc=!1;Nd=jc&&(!document.documentMode||9<document.documentMode)}function wd(){Ya&&(Ya.detachEvent("onpropertychange",Ed),Fa=Ya=null)}function Ed(t){if(t.propertyName==="value"&&dl(Fa)){var n=[];Ad(n,Fa,t,xc(t)),fd(Wv,n)}}function Kv(t,n,s){t==="focusin"?(wd(),Ya=n,Fa=s,Ya.attachEvent("onpropertychange",Ed)):t==="focusout"&&wd()}function Jv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return dl(Fa)}function $v(t,n){if(t==="click")return dl(n)}function t0(t,n){if(t==="input"||t==="change")return dl(n)}function e0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Ke=typeof Object.is=="function"?Object.is:e0;function Xa(t,n){if(Ke(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),r=Object.keys(n);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var c=s[r];if(!St.call(n,c)||!Ke(t[c],n[c]))return!1}return!0}function Od(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dd(t,n){var s=Od(t);t=0;for(var r;s;){if(s.nodeType===3){if(r=t+s.textContent.length,t<=n&&r>=n)return{node:s,offset:n-t};t=r}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Od(s)}}function Rd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Rd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function kd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=rl(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=rl(t.document)}return n}function Vc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var n0=Xn&&"documentMode"in document&&11>=document.documentMode,Li=null,Pc=null,Za=null,qc=!1;function jd(t,n,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;qc||Li==null||Li!==rl(r)||(r=Li,"selectionStart"in r&&Vc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Za&&Xa(Za,r)||(Za=r,r=eo(Pc,"onSelect"),0<r.length&&(n=new hl("onSelect","select",null,n,s),t.push({event:n,listeners:r}),n.target=Li)))}function $s(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Hi={animationend:$s("Animation","AnimationEnd"),animationiteration:$s("Animation","AnimationIteration"),animationstart:$s("Animation","AnimationStart"),transitionrun:$s("Transition","TransitionRun"),transitionstart:$s("Transition","TransitionStart"),transitioncancel:$s("Transition","TransitionCancel"),transitionend:$s("Transition","TransitionEnd")},Bc={},zd={};Xn&&(zd=document.createElement("div").style,"AnimationEvent"in window||(delete Hi.animationend.animation,delete Hi.animationiteration.animation,delete Hi.animationstart.animation),"TransitionEvent"in window||delete Hi.transitionend.transition);function ti(t){if(Bc[t])return Bc[t];if(!Hi[t])return t;var n=Hi[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in zd)return Bc[t]=n[s];return t}var Vd=ti("animationend"),Pd=ti("animationiteration"),qd=ti("animationstart"),s0=ti("transitionrun"),i0=ti("transitionstart"),a0=ti("transitioncancel"),Bd=ti("transitionend"),Ud=new Map,Uc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uc.push("scrollEnd");function An(t,n){Ud.set(t,n),Ks(n,[t])}var ml=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},dn=[],Gi=0,Lc=0;function pl(){for(var t=Gi,n=Lc=Gi=0;n<t;){var s=dn[n];dn[n++]=null;var r=dn[n];dn[n++]=null;var c=dn[n];dn[n++]=null;var h=dn[n];if(dn[n++]=null,r!==null&&c!==null){var g=r.pending;g===null?c.next=c:(c.next=g.next,g.next=c),r.pending=c}h!==0&&Ld(s,c,h)}}function gl(t,n,s,r){dn[Gi++]=t,dn[Gi++]=n,dn[Gi++]=s,dn[Gi++]=r,Lc|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function Hc(t,n,s,r){return gl(t,n,s,r),_l(t)}function ei(t,n){return gl(t,null,null,n),_l(t)}function Ld(t,n,s){t.lanes|=s;var r=t.alternate;r!==null&&(r.lanes|=s);for(var c=!1,h=t.return;h!==null;)h.childLanes|=s,r=h.alternate,r!==null&&(r.childLanes|=s),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,c&&n!==null&&(c=31-We(s),t=h.hiddenUpdates,r=t[c],r===null?t[c]=[n]:r.push(n),n.lane=s|536870912),h):null}function _l(t){if(50<gr)throw gr=0,Ku=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ii={};function r0(t,n,s,r){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Je(t,n,s,r){return new r0(t,n,s,r)}function Gc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zn(t,n){var s=t.alternate;return s===null?(s=Je(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Hd(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function yl(t,n,s,r,c,h){var g=0;if(r=t,typeof t=="function")Gc(t)&&(g=1);else if(typeof t=="string")g=h1(t,s,it.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case W:return t=Je(31,s,n,c),t.elementType=W,t.lanes=h,t;case M:return ni(s.children,c,h,n);case x:g=8,c|=24;break;case C:return t=Je(12,s,n,c|2),t.elementType=C,t.lanes=h,t;case E:return t=Je(13,s,n,c),t.elementType=E,t.lanes=h,t;case z:return t=Je(19,s,n,c),t.elementType=z,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case U:g=10;break t;case G:g=9;break t;case X:g=11;break t;case j:g=14;break t;case R:g=16,r=null;break t}g=29,s=Error(a(130,t===null?"null":typeof t,"")),r=null}return n=Je(g,s,n,c),n.elementType=t,n.type=r,n.lanes=h,n}function ni(t,n,s,r){return t=Je(7,t,r,n),t.lanes=s,t}function Ic(t,n,s){return t=Je(6,t,null,n),t.lanes=s,t}function Gd(t){var n=Je(18,null,null,0);return n.stateNode=t,n}function Yc(t,n,s){return n=Je(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Id=new WeakMap;function mn(t,n){if(typeof t=="object"&&t!==null){var s=Id.get(t);return s!==void 0?s:(n={value:t,source:n,stack:kt(n)},Id.set(t,n),n)}return{value:t,source:n,stack:kt(n)}}var Yi=[],Fi=0,vl=null,Qa=0,pn=[],gn=0,ys=null,Vn=1,Pn="";function Qn(t,n){Yi[Fi++]=Qa,Yi[Fi++]=vl,vl=t,Qa=n}function Yd(t,n,s){pn[gn++]=Vn,pn[gn++]=Pn,pn[gn++]=ys,ys=t;var r=Vn;t=Pn;var c=32-We(r)-1;r&=~(1<<c),s+=1;var h=32-We(n)+c;if(30<h){var g=c-c%5;h=(r&(1<<g)-1).toString(32),r>>=g,c-=g,Vn=1<<32-We(n)+c|s<<c|r,Pn=h+t}else Vn=1<<h|s<<c|r,Pn=t}function Fc(t){t.return!==null&&(Qn(t,1),Yd(t,1,0))}function Xc(t){for(;t===vl;)vl=Yi[--Fi],Yi[Fi]=null,Qa=Yi[--Fi],Yi[Fi]=null;for(;t===ys;)ys=pn[--gn],pn[gn]=null,Pn=pn[--gn],pn[gn]=null,Vn=pn[--gn],pn[gn]=null}function Fd(t,n){pn[gn++]=Vn,pn[gn++]=Pn,pn[gn++]=ys,Vn=n.id,Pn=n.overflow,ys=t}var Ae=null,Yt=null,Et=!1,vs=null,_n=!1,Zc=Error(a(519));function bs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wa(mn(n,t)),Zc}function Xd(t){var n=t.stateNode,s=t.type,r=t.memoizedProps;switch(n[Me]=t,n[Ue]=r,s){case"dialog":Mt("cancel",n),Mt("close",n);break;case"iframe":case"object":case"embed":Mt("load",n);break;case"video":case"audio":for(s=0;s<yr.length;s++)Mt(yr[s],n);break;case"source":Mt("error",n);break;case"img":case"image":case"link":Mt("error",n),Mt("load",n);break;case"details":Mt("toggle",n);break;case"input":Mt("invalid",n),rd(n,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Mt("invalid",n);break;case"textarea":Mt("invalid",n),od(n,r.value,r.defaultValue,r.children)}s=r.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||r.suppressHydrationWarning===!0||ug(n.textContent,s)?(r.popover!=null&&(Mt("beforetoggle",n),Mt("toggle",n)),r.onScroll!=null&&Mt("scroll",n),r.onScrollEnd!=null&&Mt("scrollend",n),r.onClick!=null&&(n.onclick=Fn),n=!0):n=!1,n||bs(t,!0)}function Zd(t){for(Ae=t.return;Ae;)switch(Ae.tag){case 5:case 31:case 13:_n=!1;return;case 27:case 3:_n=!0;return;default:Ae=Ae.return}}function Xi(t){if(t!==Ae)return!1;if(!Et)return Zd(t),Et=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||fh(t.type,t.memoizedProps)),s=!s),s&&Yt&&bs(t),Zd(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Yt=vg(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Yt=vg(t)}else n===27?(n=Yt,js(t.type)?(t=_h,_h=null,Yt=t):Yt=n):Yt=Ae?vn(t.stateNode.nextSibling):null;return!0}function si(){Yt=Ae=null,Et=!1}function Qc(){var t=vs;return t!==null&&(Ye===null?Ye=t:Ye.push.apply(Ye,t),vs=null),t}function Wa(t){vs===null?vs=[t]:vs.push(t)}var Wc=A(null),ii=null,Wn=null;function Ss(t,n,s){$(Wc,n._currentValue),n._currentValue=s}function Kn(t){t._currentValue=Wc.current,B(Wc)}function Kc(t,n,s){for(;t!==null;){var r=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,r!==null&&(r.childLanes|=n)):r!==null&&(r.childLanes&n)!==n&&(r.childLanes|=n),t===s)break;t=t.return}}function Jc(t,n,s,r){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var g=c.child;h=h.firstContext;t:for(;h!==null;){var v=h;h=c;for(var N=0;N<n.length;N++)if(v.context===n[N]){h.lanes|=s,v=h.alternate,v!==null&&(v.lanes|=s),Kc(h.return,s,t),r||(g=null);break t}h=v.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(a(341));g.lanes|=s,h=g.alternate,h!==null&&(h.lanes|=s),Kc(g,s,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Zi(t,n,s,r){t=null;for(var c=n,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var v=c.type;Ke(c.pendingProps.value,g.value)||(t!==null?t.push(v):t=[v])}}else if(c===mt.current){if(g=c.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Mr):t=[Mr])}c=c.return}t!==null&&Jc(n,t,s,r),n.flags|=262144}function bl(t){for(t=t.firstContext;t!==null;){if(!Ke(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ai(t){ii=t,Wn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function xe(t){return Qd(ii,t)}function Sl(t,n){return ii===null&&ai(t),Qd(t,n)}function Qd(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Wn===null){if(t===null)throw Error(a(308));Wn=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Wn=Wn.next=n;return s}var l0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,r){t.push(r)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},o0=l.unstable_scheduleCallback,c0=l.unstable_NormalPriority,re={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $c(){return{controller:new l0,data:new Map,refCount:0}}function Ka(t){t.refCount--,t.refCount===0&&o0(c0,function(){t.controller.abort()})}var Ja=null,tu=0,Qi=0,Wi=null;function u0(t,n){if(Ja===null){var s=Ja=[];tu=0,Qi=sh(),Wi={status:"pending",value:void 0,then:function(r){s.push(r)}}}return tu++,n.then(Wd,Wd),n}function Wd(){if(--tu===0&&Ja!==null){Wi!==null&&(Wi.status="fulfilled");var t=Ja;Ja=null,Qi=0,Wi=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function h0(t,n){var s=[],r={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){r.status="fulfilled",r.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(r.status="rejected",r.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),r}var Kd=O.S;O.S=function(t,n){jp=me(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&u0(t,n),Kd!==null&&Kd(t,n)};var ri=A(null);function eu(){var t=ri.current;return t!==null?t:Ht.pooledCache}function Tl(t,n){n===null?$(ri,ri.current):$(ri,n.pool)}function Jd(){var t=eu();return t===null?null:{parent:re._currentValue,pool:t}}var Ki=Error(a(460)),nu=Error(a(474)),Ml=Error(a(542)),Al={then:function(){}};function $d(t){return t=t.status,t==="fulfilled"||t==="rejected"}function tm(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(Fn,Fn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,nm(t),t;default:if(typeof n.status=="string")n.then(Fn,Fn);else{if(t=Ht,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(r){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=r}},function(r){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=r}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,nm(t),t}throw oi=n,Ki}}function li(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(oi=s,Ki):s}}var oi=null;function em(){if(oi===null)throw Error(a(459));var t=oi;return oi=null,t}function nm(t){if(t===Ki||t===Ml)throw Error(a(483))}var Ji=null,$a=0;function xl(t){var n=$a;return $a+=1,Ji===null&&(Ji=[]),tm(Ji,t,n)}function tr(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Nl(t,n){throw n.$$typeof===b?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function sm(t){function n(k,w){if(t){var V=k.deletions;V===null?(k.deletions=[w],k.flags|=16):V.push(w)}}function s(k,w){if(!t)return null;for(;w!==null;)n(k,w),w=w.sibling;return null}function r(k){for(var w=new Map;k!==null;)k.key!==null?w.set(k.key,k):w.set(k.index,k),k=k.sibling;return w}function c(k,w){return k=Zn(k,w),k.index=0,k.sibling=null,k}function h(k,w,V){return k.index=V,t?(V=k.alternate,V!==null?(V=V.index,V<w?(k.flags|=67108866,w):V):(k.flags|=67108866,w)):(k.flags|=1048576,w)}function g(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function v(k,w,V,F){return w===null||w.tag!==6?(w=Ic(V,k.mode,F),w.return=k,w):(w=c(w,V),w.return=k,w)}function N(k,w,V,F){var dt=V.type;return dt===M?I(k,w,V.props.children,F,V.key):w!==null&&(w.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===R&&li(dt)===w.type)?(w=c(w,V.props),tr(w,V),w.return=k,w):(w=yl(V.type,V.key,V.props,null,k.mode,F),tr(w,V),w.return=k,w)}function P(k,w,V,F){return w===null||w.tag!==4||w.stateNode.containerInfo!==V.containerInfo||w.stateNode.implementation!==V.implementation?(w=Yc(V,k.mode,F),w.return=k,w):(w=c(w,V.children||[]),w.return=k,w)}function I(k,w,V,F,dt){return w===null||w.tag!==7?(w=ni(V,k.mode,F,dt),w.return=k,w):(w=c(w,V),w.return=k,w)}function Z(k,w,V){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=Ic(""+w,k.mode,V),w.return=k,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case S:return V=yl(w.type,w.key,w.props,null,k.mode,V),tr(V,w),V.return=k,V;case T:return w=Yc(w,k.mode,V),w.return=k,w;case R:return w=li(w),Z(k,w,V)}if(ot(w)||Y(w))return w=ni(w,k.mode,V,null),w.return=k,w;if(typeof w.then=="function")return Z(k,xl(w),V);if(w.$$typeof===U)return Z(k,Sl(k,w),V);Nl(k,w)}return null}function q(k,w,V,F){var dt=w!==null?w.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return dt!==null?null:v(k,w,""+V,F);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case S:return V.key===dt?N(k,w,V,F):null;case T:return V.key===dt?P(k,w,V,F):null;case R:return V=li(V),q(k,w,V,F)}if(ot(V)||Y(V))return dt!==null?null:I(k,w,V,F,null);if(typeof V.then=="function")return q(k,w,xl(V),F);if(V.$$typeof===U)return q(k,w,Sl(k,V),F);Nl(k,V)}return null}function H(k,w,V,F,dt){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return k=k.get(V)||null,v(w,k,""+F,dt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case S:return k=k.get(F.key===null?V:F.key)||null,N(w,k,F,dt);case T:return k=k.get(F.key===null?V:F.key)||null,P(w,k,F,dt);case R:return F=li(F),H(k,w,V,F,dt)}if(ot(F)||Y(F))return k=k.get(V)||null,I(w,k,F,dt,null);if(typeof F.then=="function")return H(k,w,V,xl(F),dt);if(F.$$typeof===U)return H(k,w,V,Sl(w,F),dt);Nl(w,F)}return null}function ut(k,w,V,F){for(var dt=null,Ot=null,ht=w,bt=w=0,Nt=null;ht!==null&&bt<V.length;bt++){ht.index>bt?(Nt=ht,ht=null):Nt=ht.sibling;var Dt=q(k,ht,V[bt],F);if(Dt===null){ht===null&&(ht=Nt);break}t&&ht&&Dt.alternate===null&&n(k,ht),w=h(Dt,w,bt),Ot===null?dt=Dt:Ot.sibling=Dt,Ot=Dt,ht=Nt}if(bt===V.length)return s(k,ht),Et&&Qn(k,bt),dt;if(ht===null){for(;bt<V.length;bt++)ht=Z(k,V[bt],F),ht!==null&&(w=h(ht,w,bt),Ot===null?dt=ht:Ot.sibling=ht,Ot=ht);return Et&&Qn(k,bt),dt}for(ht=r(ht);bt<V.length;bt++)Nt=H(ht,k,bt,V[bt],F),Nt!==null&&(t&&Nt.alternate!==null&&ht.delete(Nt.key===null?bt:Nt.key),w=h(Nt,w,bt),Ot===null?dt=Nt:Ot.sibling=Nt,Ot=Nt);return t&&ht.forEach(function(Bs){return n(k,Bs)}),Et&&Qn(k,bt),dt}function pt(k,w,V,F){if(V==null)throw Error(a(151));for(var dt=null,Ot=null,ht=w,bt=w=0,Nt=null,Dt=V.next();ht!==null&&!Dt.done;bt++,Dt=V.next()){ht.index>bt?(Nt=ht,ht=null):Nt=ht.sibling;var Bs=q(k,ht,Dt.value,F);if(Bs===null){ht===null&&(ht=Nt);break}t&&ht&&Bs.alternate===null&&n(k,ht),w=h(Bs,w,bt),Ot===null?dt=Bs:Ot.sibling=Bs,Ot=Bs,ht=Nt}if(Dt.done)return s(k,ht),Et&&Qn(k,bt),dt;if(ht===null){for(;!Dt.done;bt++,Dt=V.next())Dt=Z(k,Dt.value,F),Dt!==null&&(w=h(Dt,w,bt),Ot===null?dt=Dt:Ot.sibling=Dt,Ot=Dt);return Et&&Qn(k,bt),dt}for(ht=r(ht);!Dt.done;bt++,Dt=V.next())Dt=H(ht,k,bt,Dt.value,F),Dt!==null&&(t&&Dt.alternate!==null&&ht.delete(Dt.key===null?bt:Dt.key),w=h(Dt,w,bt),Ot===null?dt=Dt:Ot.sibling=Dt,Ot=Dt);return t&&ht.forEach(function(T1){return n(k,T1)}),Et&&Qn(k,bt),dt}function Bt(k,w,V,F){if(typeof V=="object"&&V!==null&&V.type===M&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case S:t:{for(var dt=V.key;w!==null;){if(w.key===dt){if(dt=V.type,dt===M){if(w.tag===7){s(k,w.sibling),F=c(w,V.props.children),F.return=k,k=F;break t}}else if(w.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===R&&li(dt)===w.type){s(k,w.sibling),F=c(w,V.props),tr(F,V),F.return=k,k=F;break t}s(k,w);break}else n(k,w);w=w.sibling}V.type===M?(F=ni(V.props.children,k.mode,F,V.key),F.return=k,k=F):(F=yl(V.type,V.key,V.props,null,k.mode,F),tr(F,V),F.return=k,k=F)}return g(k);case T:t:{for(dt=V.key;w!==null;){if(w.key===dt)if(w.tag===4&&w.stateNode.containerInfo===V.containerInfo&&w.stateNode.implementation===V.implementation){s(k,w.sibling),F=c(w,V.children||[]),F.return=k,k=F;break t}else{s(k,w);break}else n(k,w);w=w.sibling}F=Yc(V,k.mode,F),F.return=k,k=F}return g(k);case R:return V=li(V),Bt(k,w,V,F)}if(ot(V))return ut(k,w,V,F);if(Y(V)){if(dt=Y(V),typeof dt!="function")throw Error(a(150));return V=dt.call(V),pt(k,w,V,F)}if(typeof V.then=="function")return Bt(k,w,xl(V),F);if(V.$$typeof===U)return Bt(k,w,Sl(k,V),F);Nl(k,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,w!==null&&w.tag===6?(s(k,w.sibling),F=c(w,V),F.return=k,k=F):(s(k,w),F=Ic(V,k.mode,F),F.return=k,k=F),g(k)):s(k,w)}return function(k,w,V,F){try{$a=0;var dt=Bt(k,w,V,F);return Ji=null,dt}catch(ht){if(ht===Ki||ht===Ml)throw ht;var Ot=Je(29,ht,null,k.mode);return Ot.lanes=F,Ot.return=k,Ot}}}var ci=sm(!0),im=sm(!1),Ts=!1;function su(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function iu(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ms(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function As(t,n,s){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(Rt&2)!==0){var c=r.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),r.pending=n,n=_l(t),Ld(t,null,s),n}return gl(t,r,n,s),_l(t)}function er(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var r=n.lanes;r&=t.pendingLanes,s|=r,n.lanes=s,Qf(t,s)}}function au(t,n){var s=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var c=null,h=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};h===null?c=h=g:h=h.next=g,s=s.next}while(s!==null);h===null?c=h=n:h=h.next=n}else c=h=n;s={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:r.shared,callbacks:r.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var ru=!1;function nr(){if(ru){var t=Wi;if(t!==null)throw t}}function sr(t,n,s,r){ru=!1;var c=t.updateQueue;Ts=!1;var h=c.firstBaseUpdate,g=c.lastBaseUpdate,v=c.shared.pending;if(v!==null){c.shared.pending=null;var N=v,P=N.next;N.next=null,g===null?h=P:g.next=P,g=N;var I=t.alternate;I!==null&&(I=I.updateQueue,v=I.lastBaseUpdate,v!==g&&(v===null?I.firstBaseUpdate=P:v.next=P,I.lastBaseUpdate=N))}if(h!==null){var Z=c.baseState;g=0,I=P=N=null,v=h;do{var q=v.lane&-536870913,H=q!==v.lane;if(H?(xt&q)===q:(r&q)===q){q!==0&&q===Qi&&(ru=!0),I!==null&&(I=I.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});t:{var ut=t,pt=v;q=n;var Bt=s;switch(pt.tag){case 1:if(ut=pt.payload,typeof ut=="function"){Z=ut.call(Bt,Z,q);break t}Z=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=pt.payload,q=typeof ut=="function"?ut.call(Bt,Z,q):ut,q==null)break t;Z=y({},Z,q);break t;case 2:Ts=!0}}q=v.callback,q!==null&&(t.flags|=64,H&&(t.flags|=8192),H=c.callbacks,H===null?c.callbacks=[q]:H.push(q))}else H={lane:q,tag:v.tag,payload:v.payload,callback:v.callback,next:null},I===null?(P=I=H,N=Z):I=I.next=H,g|=q;if(v=v.next,v===null){if(v=c.shared.pending,v===null)break;H=v,v=H.next,H.next=null,c.lastBaseUpdate=H,c.shared.pending=null}}while(!0);I===null&&(N=Z),c.baseState=N,c.firstBaseUpdate=P,c.lastBaseUpdate=I,h===null&&(c.shared.lanes=0),Es|=g,t.lanes=g,t.memoizedState=Z}}function am(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function rm(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)am(s[t],n)}var $i=A(null),Cl=A(0);function lm(t,n){t=rs,$(Cl,t),$($i,n),rs=t|n.baseLanes}function lu(){$(Cl,rs),$($i,$i.current)}function ou(){rs=Cl.current,B($i),B(Cl)}var $e=A(null),yn=null;function xs(t){var n=t.alternate;$(ne,ne.current&1),$($e,t),yn===null&&(n===null||$i.current!==null||n.memoizedState!==null)&&(yn=t)}function cu(t){$(ne,ne.current),$($e,t),yn===null&&(yn=t)}function om(t){t.tag===22?($(ne,ne.current),$($e,t),yn===null&&(yn=t)):Ns()}function Ns(){$(ne,ne.current),$($e,$e.current)}function tn(t){B($e),yn===t&&(yn=null),B(ne)}var ne=A(0);function wl(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||ph(s)||gh(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Jn=0,yt=null,Pt=null,le=null,El=!1,ta=!1,ui=!1,Ol=0,ir=0,ea=null,f0=0;function Jt(){throw Error(a(321))}function uu(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!Ke(t[s],n[s]))return!1;return!0}function hu(t,n,s,r,c,h){return Jn=h,yt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,O.H=t===null||t.memoizedState===null?Ym:Nu,ui=!1,h=s(r,c),ui=!1,ta&&(h=um(n,s,r,c)),cm(t),h}function cm(t){O.H=lr;var n=Pt!==null&&Pt.next!==null;if(Jn=0,le=Pt=yt=null,El=!1,ir=0,ea=null,n)throw Error(a(300));t===null||oe||(t=t.dependencies,t!==null&&bl(t)&&(oe=!0))}function um(t,n,s,r){yt=t;var c=0;do{if(ta&&(ea=null),ir=0,ta=!1,25<=c)throw Error(a(301));if(c+=1,le=Pt=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}O.H=Fm,h=n(s,r)}while(ta);return h}function d0(){var t=O.H,n=t.useState()[0];return n=typeof n.then=="function"?ar(n):n,t=t.useState()[0],(Pt!==null?Pt.memoizedState:null)!==t&&(yt.flags|=1024),n}function fu(){var t=Ol!==0;return Ol=0,t}function du(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function mu(t){if(El){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}El=!1}Jn=0,le=Pt=yt=null,ta=!1,ir=Ol=0,ea=null}function ze(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return le===null?yt.memoizedState=le=t:le=le.next=t,le}function se(){if(Pt===null){var t=yt.alternate;t=t!==null?t.memoizedState:null}else t=Pt.next;var n=le===null?yt.memoizedState:le.next;if(n!==null)le=n,Pt=t;else{if(t===null)throw yt.alternate===null?Error(a(467)):Error(a(310));Pt=t,t={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},le===null?yt.memoizedState=le=t:le=le.next=t}return le}function Dl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ar(t){var n=ir;return ir+=1,ea===null&&(ea=[]),t=tm(ea,t,n),n=yt,(le===null?n.memoizedState:le.next)===null&&(n=n.alternate,O.H=n===null||n.memoizedState===null?Ym:Nu),t}function Rl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ar(t);if(t.$$typeof===U)return xe(t)}throw Error(a(438,String(t)))}function pu(t){var n=null,s=yt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var r=yt.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(n={data:r.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Dl(),yt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),r=0;r<t;r++)s[r]=K;return n.index++,s}function $n(t,n){return typeof n=="function"?n(t):n}function kl(t){var n=se();return gu(n,Pt,t)}function gu(t,n,s){var r=t.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=s;var c=t.baseQueue,h=r.pending;if(h!==null){if(c!==null){var g=c.next;c.next=h.next,h.next=g}n.baseQueue=c=h,r.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{n=c.next;var v=g=null,N=null,P=n,I=!1;do{var Z=P.lane&-536870913;if(Z!==P.lane?(xt&Z)===Z:(Jn&Z)===Z){var q=P.revertLane;if(q===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Z===Qi&&(I=!0);else if((Jn&q)===q){P=P.next,q===Qi&&(I=!0);continue}else Z={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},N===null?(v=N=Z,g=h):N=N.next=Z,yt.lanes|=q,Es|=q;Z=P.action,ui&&s(h,Z),h=P.hasEagerState?P.eagerState:s(h,Z)}else q={lane:Z,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},N===null?(v=N=q,g=h):N=N.next=q,yt.lanes|=Z,Es|=Z;P=P.next}while(P!==null&&P!==n);if(N===null?g=h:N.next=v,!Ke(h,t.memoizedState)&&(oe=!0,I&&(s=Wi,s!==null)))throw s;t.memoizedState=h,t.baseState=g,t.baseQueue=N,r.lastRenderedState=h}return c===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function _u(t){var n=se(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var r=s.dispatch,c=s.pending,h=n.memoizedState;if(c!==null){s.pending=null;var g=c=c.next;do h=t(h,g.action),g=g.next;while(g!==c);Ke(h,n.memoizedState)||(oe=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),s.lastRenderedState=h}return[h,r]}function hm(t,n,s){var r=yt,c=se(),h=Et;if(h){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!Ke((Pt||c).memoizedState,s);if(g&&(c.memoizedState=s,oe=!0),c=c.queue,bu(mm.bind(null,r,c,t),[t]),c.getSnapshot!==n||g||le!==null&&le.memoizedState.tag&1){if(r.flags|=2048,na(9,{destroy:void 0},dm.bind(null,r,c,s,n),null),Ht===null)throw Error(a(349));h||(Jn&127)!==0||fm(r,n,s)}return s}function fm(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=yt.updateQueue,n===null?(n=Dl(),yt.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function dm(t,n,s,r){n.value=s,n.getSnapshot=r,pm(n)&&gm(t)}function mm(t,n,s){return s(function(){pm(n)&&gm(t)})}function pm(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!Ke(t,s)}catch{return!0}}function gm(t){var n=ei(t,2);n!==null&&Fe(n,t,2)}function yu(t){var n=ze();if(typeof t=="function"){var s=t;if(t=s(),ui){un(!0);try{s()}finally{un(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:t},n}function _m(t,n,s,r){return t.baseState=s,gu(t,Pt,typeof r=="function"?r:$n)}function m0(t,n,s,r,c){if(Vl(t))throw Error(a(485));if(t=n.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){h.listeners.push(g)}};O.T!==null?s(!0):h.isTransition=!1,r(h),s=n.pending,s===null?(h.next=n.pending=h,ym(n,h)):(h.next=s.next,n.pending=s.next=h)}}function ym(t,n){var s=n.action,r=n.payload,c=t.state;if(n.isTransition){var h=O.T,g={};O.T=g;try{var v=s(c,r),N=O.S;N!==null&&N(g,v),vm(t,n,v)}catch(P){vu(t,n,P)}finally{h!==null&&g.types!==null&&(h.types=g.types),O.T=h}}else try{h=s(c,r),vm(t,n,h)}catch(P){vu(t,n,P)}}function vm(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(r){bm(t,n,r)},function(r){return vu(t,n,r)}):bm(t,n,s)}function bm(t,n,s){n.status="fulfilled",n.value=s,Sm(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,ym(t,s)))}function vu(t,n,s){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do n.status="rejected",n.reason=s,Sm(n),n=n.next;while(n!==r)}t.action=null}function Sm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Tm(t,n){return n}function Mm(t,n){if(Et){var s=Ht.formState;if(s!==null){t:{var r=yt;if(Et){if(Yt){e:{for(var c=Yt,h=_n;c.nodeType!==8;){if(!h){c=null;break e}if(c=vn(c.nextSibling),c===null){c=null;break e}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){Yt=vn(c.nextSibling),r=c.data==="F!";break t}}bs(r)}r=!1}r&&(n=s[0])}}return s=ze(),s.memoizedState=s.baseState=n,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tm,lastRenderedState:n},s.queue=r,s=Hm.bind(null,yt,r),r.dispatch=s,r=yu(!1),h=xu.bind(null,yt,!1,r.queue),r=ze(),c={state:n,dispatch:null,action:t,pending:null},r.queue=c,s=m0.bind(null,yt,c,h,s),c.dispatch=s,r.memoizedState=t,[n,s,!1]}function Am(t){var n=se();return xm(n,Pt,t)}function xm(t,n,s){if(n=gu(t,n,Tm)[0],t=kl($n)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var r=ar(n)}catch(g){throw g===Ki?Ml:g}else r=n;n=se();var c=n.queue,h=c.dispatch;return s!==n.memoizedState&&(yt.flags|=2048,na(9,{destroy:void 0},p0.bind(null,c,s),null)),[r,h,t]}function p0(t,n){t.action=n}function Nm(t){var n=se(),s=Pt;if(s!==null)return xm(n,s,t);se(),n=n.memoizedState,s=se();var r=s.queue.dispatch;return s.memoizedState=t,[n,r,!1]}function na(t,n,s,r){return t={tag:t,create:s,deps:r,inst:n,next:null},n=yt.updateQueue,n===null&&(n=Dl(),yt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(r=s.next,s.next=t,t.next=r,n.lastEffect=t),t}function Cm(){return se().memoizedState}function jl(t,n,s,r){var c=ze();yt.flags|=t,c.memoizedState=na(1|n,{destroy:void 0},s,r===void 0?null:r)}function zl(t,n,s,r){var c=se();r=r===void 0?null:r;var h=c.memoizedState.inst;Pt!==null&&r!==null&&uu(r,Pt.memoizedState.deps)?c.memoizedState=na(n,h,s,r):(yt.flags|=t,c.memoizedState=na(1|n,h,s,r))}function wm(t,n){jl(8390656,8,t,n)}function bu(t,n){zl(2048,8,t,n)}function g0(t){yt.flags|=4;var n=yt.updateQueue;if(n===null)n=Dl(),yt.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function Em(t){var n=se().memoizedState;return g0({ref:n,nextImpl:t}),function(){if((Rt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Om(t,n){return zl(4,2,t,n)}function Dm(t,n){return zl(4,4,t,n)}function Rm(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function km(t,n,s){s=s!=null?s.concat([t]):null,zl(4,4,Rm.bind(null,n,t),s)}function Su(){}function jm(t,n){var s=se();n=n===void 0?null:n;var r=s.memoizedState;return n!==null&&uu(n,r[1])?r[0]:(s.memoizedState=[t,n],t)}function zm(t,n){var s=se();n=n===void 0?null:n;var r=s.memoizedState;if(n!==null&&uu(n,r[1]))return r[0];if(r=t(),ui){un(!0);try{t()}finally{un(!1)}}return s.memoizedState=[r,n],r}function Tu(t,n,s){return s===void 0||(Jn&1073741824)!==0&&(xt&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Vp(),yt.lanes|=t,Es|=t,s)}function Vm(t,n,s,r){return Ke(s,n)?s:$i.current!==null?(t=Tu(t,s,r),Ke(t,n)||(oe=!0),t):(Jn&42)===0||(Jn&1073741824)!==0&&(xt&261930)===0?(oe=!0,t.memoizedState=s):(t=Vp(),yt.lanes|=t,Es|=t,n)}function Pm(t,n,s,r,c){var h=L.p;L.p=h!==0&&8>h?h:8;var g=O.T,v={};O.T=v,xu(t,!1,n,s);try{var N=c(),P=O.S;if(P!==null&&P(v,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var I=h0(N,r);rr(t,n,I,sn(t))}else rr(t,n,r,sn(t))}catch(Z){rr(t,n,{then:function(){},status:"rejected",reason:Z},sn())}finally{L.p=h,g!==null&&v.types!==null&&(g.types=v.types),O.T=g}}function _0(){}function Mu(t,n,s,r){if(t.tag!==5)throw Error(a(476));var c=qm(t).queue;Pm(t,c,n,J,s===null?_0:function(){return Bm(t),s(r)})}function qm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:J},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Bm(t){var n=qm(t);n.next===null&&(n=t.alternate.memoizedState),rr(t,n.next.queue,{},sn())}function Au(){return xe(Mr)}function Um(){return se().memoizedState}function Lm(){return se().memoizedState}function y0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=sn();t=Ms(s);var r=As(n,t,s);r!==null&&(Fe(r,n,s),er(r,n,s)),n={cache:$c()},t.payload=n;return}n=n.return}}function v0(t,n,s){var r=sn();s={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Vl(t)?Gm(n,s):(s=Hc(t,n,s,r),s!==null&&(Fe(s,t,r),Im(s,n,r)))}function Hm(t,n,s){var r=sn();rr(t,n,s,r)}function rr(t,n,s,r){var c={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Vl(t))Gm(n,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var g=n.lastRenderedState,v=h(g,s);if(c.hasEagerState=!0,c.eagerState=v,Ke(v,g))return gl(t,n,c,0),Ht===null&&pl(),!1}catch{}if(s=Hc(t,n,c,r),s!==null)return Fe(s,t,r),Im(s,n,r),!0}return!1}function xu(t,n,s,r){if(r={lane:2,revertLane:sh(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Vl(t)){if(n)throw Error(a(479))}else n=Hc(t,s,r,2),n!==null&&Fe(n,t,2)}function Vl(t){var n=t.alternate;return t===yt||n!==null&&n===yt}function Gm(t,n){ta=El=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Im(t,n,s){if((s&4194048)!==0){var r=n.lanes;r&=t.pendingLanes,s|=r,n.lanes=s,Qf(t,s)}}var lr={readContext:xe,use:Rl,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useLayoutEffect:Jt,useInsertionEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useSyncExternalStore:Jt,useId:Jt,useHostTransitionStatus:Jt,useFormState:Jt,useActionState:Jt,useOptimistic:Jt,useMemoCache:Jt,useCacheRefresh:Jt};lr.useEffectEvent=Jt;var Ym={readContext:xe,use:Rl,useCallback:function(t,n){return ze().memoizedState=[t,n===void 0?null:n],t},useContext:xe,useEffect:wm,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,jl(4194308,4,Rm.bind(null,n,t),s)},useLayoutEffect:function(t,n){return jl(4194308,4,t,n)},useInsertionEffect:function(t,n){jl(4,2,t,n)},useMemo:function(t,n){var s=ze();n=n===void 0?null:n;var r=t();if(ui){un(!0);try{t()}finally{un(!1)}}return s.memoizedState=[r,n],r},useReducer:function(t,n,s){var r=ze();if(s!==void 0){var c=s(n);if(ui){un(!0);try{s(n)}finally{un(!1)}}}else c=n;return r.memoizedState=r.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},r.queue=t,t=t.dispatch=v0.bind(null,yt,t),[r.memoizedState,t]},useRef:function(t){var n=ze();return t={current:t},n.memoizedState=t},useState:function(t){t=yu(t);var n=t.queue,s=Hm.bind(null,yt,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Su,useDeferredValue:function(t,n){var s=ze();return Tu(s,t,n)},useTransition:function(){var t=yu(!1);return t=Pm.bind(null,yt,t.queue,!0,!1),ze().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var r=yt,c=ze();if(Et){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Ht===null)throw Error(a(349));(xt&127)!==0||fm(r,n,s)}c.memoizedState=s;var h={value:s,getSnapshot:n};return c.queue=h,wm(mm.bind(null,r,h,t),[t]),r.flags|=2048,na(9,{destroy:void 0},dm.bind(null,r,h,s,n),null),s},useId:function(){var t=ze(),n=Ht.identifierPrefix;if(Et){var s=Pn,r=Vn;s=(r&~(1<<32-We(r)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Ol++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=f0++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Au,useFormState:Mm,useActionState:Mm,useOptimistic:function(t){var n=ze();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=xu.bind(null,yt,!0,s),s.dispatch=n,[t,n]},useMemoCache:pu,useCacheRefresh:function(){return ze().memoizedState=y0.bind(null,yt)},useEffectEvent:function(t){var n=ze(),s={impl:t};return n.memoizedState=s,function(){if((Rt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Nu={readContext:xe,use:Rl,useCallback:jm,useContext:xe,useEffect:bu,useImperativeHandle:km,useInsertionEffect:Om,useLayoutEffect:Dm,useMemo:zm,useReducer:kl,useRef:Cm,useState:function(){return kl($n)},useDebugValue:Su,useDeferredValue:function(t,n){var s=se();return Vm(s,Pt.memoizedState,t,n)},useTransition:function(){var t=kl($n)[0],n=se().memoizedState;return[typeof t=="boolean"?t:ar(t),n]},useSyncExternalStore:hm,useId:Um,useHostTransitionStatus:Au,useFormState:Am,useActionState:Am,useOptimistic:function(t,n){var s=se();return _m(s,Pt,t,n)},useMemoCache:pu,useCacheRefresh:Lm};Nu.useEffectEvent=Em;var Fm={readContext:xe,use:Rl,useCallback:jm,useContext:xe,useEffect:bu,useImperativeHandle:km,useInsertionEffect:Om,useLayoutEffect:Dm,useMemo:zm,useReducer:_u,useRef:Cm,useState:function(){return _u($n)},useDebugValue:Su,useDeferredValue:function(t,n){var s=se();return Pt===null?Tu(s,t,n):Vm(s,Pt.memoizedState,t,n)},useTransition:function(){var t=_u($n)[0],n=se().memoizedState;return[typeof t=="boolean"?t:ar(t),n]},useSyncExternalStore:hm,useId:Um,useHostTransitionStatus:Au,useFormState:Nm,useActionState:Nm,useOptimistic:function(t,n){var s=se();return Pt!==null?_m(s,Pt,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:pu,useCacheRefresh:Lm};Fm.useEffectEvent=Em;function Cu(t,n,s,r){n=t.memoizedState,s=s(r,n),s=s==null?n:y({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var wu={enqueueSetState:function(t,n,s){t=t._reactInternals;var r=sn(),c=Ms(r);c.payload=n,s!=null&&(c.callback=s),n=As(t,c,r),n!==null&&(Fe(n,t,r),er(n,t,r))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var r=sn(),c=Ms(r);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=As(t,c,r),n!==null&&(Fe(n,t,r),er(n,t,r))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=sn(),r=Ms(s);r.tag=2,n!=null&&(r.callback=n),n=As(t,r,s),n!==null&&(Fe(n,t,s),er(n,t,s))}};function Xm(t,n,s,r,c,h,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,h,g):n.prototype&&n.prototype.isPureReactComponent?!Xa(s,r)||!Xa(c,h):!0}function Zm(t,n,s,r){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,r),n.state!==t&&wu.enqueueReplaceState(n,n.state,null)}function hi(t,n){var s=n;if("ref"in n){s={};for(var r in n)r!=="ref"&&(s[r]=n[r])}if(t=t.defaultProps){s===n&&(s=y({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}function Qm(t){ml(t)}function Wm(t){console.error(t)}function Km(t){ml(t)}function Pl(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(r){setTimeout(function(){throw r})}}function Jm(t,n,s){try{var r=t.onCaughtError;r(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Eu(t,n,s){return s=Ms(s),s.tag=3,s.payload={element:null},s.callback=function(){Pl(t,n)},s}function $m(t){return t=Ms(t),t.tag=3,t}function tp(t,n,s,r){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var h=r.value;t.payload=function(){return c(h)},t.callback=function(){Jm(n,s,r)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Jm(n,s,r),typeof c!="function"&&(Os===null?Os=new Set([this]):Os.add(this));var v=r.stack;this.componentDidCatch(r.value,{componentStack:v!==null?v:""})})}function b0(t,n,s,r,c){if(s.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(n=s.alternate,n!==null&&Zi(n,s,c,!0),s=$e.current,s!==null){switch(s.tag){case 31:case 13:return yn===null?Ql():s.alternate===null&&$t===0&&($t=3),s.flags&=-257,s.flags|=65536,s.lanes=c,r===Al?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([r]):n.add(r),th(t,r,c)),!1;case 22:return s.flags|=65536,r===Al?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([r])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([r]):s.add(r)),th(t,r,c)),!1}throw Error(a(435,s.tag))}return th(t,r,c),Ql(),!1}if(Et)return n=$e.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,r!==Zc&&(t=Error(a(422),{cause:r}),Wa(mn(t,s)))):(r!==Zc&&(n=Error(a(423),{cause:r}),Wa(mn(n,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,r=mn(r,s),c=Eu(t.stateNode,r,c),au(t,c),$t!==4&&($t=2)),!1;var h=Error(a(520),{cause:r});if(h=mn(h,s),pr===null?pr=[h]:pr.push(h),$t!==4&&($t=2),n===null)return!0;r=mn(r,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=Eu(s.stateNode,r,t),au(s,t),!1;case 1:if(n=s.type,h=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Os===null||!Os.has(h))))return s.flags|=65536,c&=-c,s.lanes|=c,c=$m(c),tp(c,t,s,r),au(s,c),!1}s=s.return}while(s!==null);return!1}var Ou=Error(a(461)),oe=!1;function Ne(t,n,s,r){n.child=t===null?im(n,null,s,r):ci(n,t.child,s,r)}function ep(t,n,s,r,c){s=s.render;var h=n.ref;if("ref"in r){var g={};for(var v in r)v!=="ref"&&(g[v]=r[v])}else g=r;return ai(n),r=hu(t,n,s,g,h,c),v=fu(),t!==null&&!oe?(du(t,n,c),ts(t,n,c)):(Et&&v&&Fc(n),n.flags|=1,Ne(t,n,r,c),n.child)}function np(t,n,s,r,c){if(t===null){var h=s.type;return typeof h=="function"&&!Gc(h)&&h.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=h,sp(t,n,h,r,c)):(t=yl(s.type,null,r,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,!qu(t,c)){var g=h.memoizedProps;if(s=s.compare,s=s!==null?s:Xa,s(g,r)&&t.ref===n.ref)return ts(t,n,c)}return n.flags|=1,t=Zn(h,r),t.ref=n.ref,t.return=n,n.child=t}function sp(t,n,s,r,c){if(t!==null){var h=t.memoizedProps;if(Xa(h,r)&&t.ref===n.ref)if(oe=!1,n.pendingProps=r=h,qu(t,c))(t.flags&131072)!==0&&(oe=!0);else return n.lanes=t.lanes,ts(t,n,c)}return Du(t,n,s,r,c)}function ip(t,n,s,r){var c=r.children,h=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|s:s,t!==null){for(r=n.child=t.child,c=0;r!==null;)c=c|r.lanes|r.childLanes,r=r.sibling;r=c&~h}else r=0,n.child=null;return ap(t,n,h,s,r)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Tl(n,h!==null?h.cachePool:null),h!==null?lm(n,h):lu(),om(n);else return r=n.lanes=536870912,ap(t,n,h!==null?h.baseLanes|s:s,s,r)}else h!==null?(Tl(n,h.cachePool),lm(n,h),Ns(),n.memoizedState=null):(t!==null&&Tl(n,null),lu(),Ns());return Ne(t,n,c,s),n.child}function or(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ap(t,n,s,r,c){var h=eu();return h=h===null?null:{parent:re._currentValue,pool:h},n.memoizedState={baseLanes:s,cachePool:h},t!==null&&Tl(n,null),lu(),om(n),t!==null&&Zi(t,n,r,!0),n.childLanes=c,null}function ql(t,n){return n=Ul({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function rp(t,n,s){return ci(n,t.child,null,s),t=ql(n,n.pendingProps),t.flags|=2,tn(n),n.memoizedState=null,t}function S0(t,n,s){var r=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Et){if(r.mode==="hidden")return t=ql(n,r),n.lanes=536870912,or(null,t);if(cu(n),(t=Yt)?(t=yg(t,_n),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ys!==null?{id:Vn,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},s=Gd(t),s.return=n,n.child=s,Ae=n,Yt=null)):t=null,t===null)throw bs(n);return n.lanes=536870912,null}return ql(n,r)}var h=t.memoizedState;if(h!==null){var g=h.dehydrated;if(cu(n),c)if(n.flags&256)n.flags&=-257,n=rp(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(oe||Zi(t,n,s,!1),c=(s&t.childLanes)!==0,oe||c){if(r=Ht,r!==null&&(g=Wf(r,s),g!==0&&g!==h.retryLane))throw h.retryLane=g,ei(t,g),Fe(r,t,g),Ou;Ql(),n=rp(t,n,s)}else t=h.treeContext,Yt=vn(g.nextSibling),Ae=n,Et=!0,vs=null,_n=!1,t!==null&&Fd(n,t),n=ql(n,r),n.flags|=4096;return n}return t=Zn(t.child,{mode:r.mode,children:r.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Bl(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Du(t,n,s,r,c){return ai(n),s=hu(t,n,s,r,void 0,c),r=fu(),t!==null&&!oe?(du(t,n,c),ts(t,n,c)):(Et&&r&&Fc(n),n.flags|=1,Ne(t,n,s,c),n.child)}function lp(t,n,s,r,c,h){return ai(n),n.updateQueue=null,s=um(n,r,s,c),cm(t),r=fu(),t!==null&&!oe?(du(t,n,h),ts(t,n,h)):(Et&&r&&Fc(n),n.flags|=1,Ne(t,n,s,h),n.child)}function op(t,n,s,r,c){if(ai(n),n.stateNode===null){var h=Ii,g=s.contextType;typeof g=="object"&&g!==null&&(h=xe(g)),h=new s(r,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=wu,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=r,h.state=n.memoizedState,h.refs={},su(n),g=s.contextType,h.context=typeof g=="object"&&g!==null?xe(g):Ii,h.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Cu(n,s,g,r),h.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(g=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),g!==h.state&&wu.enqueueReplaceState(h,h.state,null),sr(n,r,h,c),nr(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),r=!0}else if(t===null){h=n.stateNode;var v=n.memoizedProps,N=hi(s,v);h.props=N;var P=h.context,I=s.contextType;g=Ii,typeof I=="object"&&I!==null&&(g=xe(I));var Z=s.getDerivedStateFromProps;I=typeof Z=="function"||typeof h.getSnapshotBeforeUpdate=="function",v=n.pendingProps!==v,I||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v||P!==g)&&Zm(n,h,r,g),Ts=!1;var q=n.memoizedState;h.state=q,sr(n,r,h,c),nr(),P=n.memoizedState,v||q!==P||Ts?(typeof Z=="function"&&(Cu(n,s,Z,r),P=n.memoizedState),(N=Ts||Xm(n,s,N,r,q,P,g))?(I||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=P),h.props=r,h.state=P,h.context=g,r=N):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),r=!1)}else{h=n.stateNode,iu(t,n),g=n.memoizedProps,I=hi(s,g),h.props=I,Z=n.pendingProps,q=h.context,P=s.contextType,N=Ii,typeof P=="object"&&P!==null&&(N=xe(P)),v=s.getDerivedStateFromProps,(P=typeof v=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==Z||q!==N)&&Zm(n,h,r,N),Ts=!1,q=n.memoizedState,h.state=q,sr(n,r,h,c),nr();var H=n.memoizedState;g!==Z||q!==H||Ts||t!==null&&t.dependencies!==null&&bl(t.dependencies)?(typeof v=="function"&&(Cu(n,s,v,r),H=n.memoizedState),(I=Ts||Xm(n,s,I,r,q,H,N)||t!==null&&t.dependencies!==null&&bl(t.dependencies))?(P||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(r,H,N),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(r,H,N)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=H),h.props=r,h.state=H,h.context=N,r=I):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),r=!1)}return h=r,Bl(t,n),r=(n.flags&128)!==0,h||r?(h=n.stateNode,s=r&&typeof s.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,t!==null&&r?(n.child=ci(n,t.child,null,c),n.child=ci(n,null,s,c)):Ne(t,n,s,c),n.memoizedState=h.state,t=n.child):t=ts(t,n,c),t}function cp(t,n,s,r){return si(),n.flags|=256,Ne(t,n,s,r),n.child}var Ru={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ku(t){return{baseLanes:t,cachePool:Jd()}}function ju(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=nn),t}function up(t,n,s){var r=n.pendingProps,c=!1,h=(n.flags&128)!==0,g;if((g=h)||(g=t!==null&&t.memoizedState===null?!1:(ne.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Et){if(c?xs(n):Ns(),(t=Yt)?(t=yg(t,_n),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ys!==null?{id:Vn,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},s=Gd(t),s.return=n,n.child=s,Ae=n,Yt=null)):t=null,t===null)throw bs(n);return gh(t)?n.lanes=32:n.lanes=536870912,null}var v=r.children;return r=r.fallback,c?(Ns(),c=n.mode,v=Ul({mode:"hidden",children:v},c),r=ni(r,c,s,null),v.return=n,r.return=n,v.sibling=r,n.child=v,r=n.child,r.memoizedState=ku(s),r.childLanes=ju(t,g,s),n.memoizedState=Ru,or(null,r)):(xs(n),zu(n,v))}var N=t.memoizedState;if(N!==null&&(v=N.dehydrated,v!==null)){if(h)n.flags&256?(xs(n),n.flags&=-257,n=Vu(t,n,s)):n.memoizedState!==null?(Ns(),n.child=t.child,n.flags|=128,n=null):(Ns(),v=r.fallback,c=n.mode,r=Ul({mode:"visible",children:r.children},c),v=ni(v,c,s,null),v.flags|=2,r.return=n,v.return=n,r.sibling=v,n.child=r,ci(n,t.child,null,s),r=n.child,r.memoizedState=ku(s),r.childLanes=ju(t,g,s),n.memoizedState=Ru,n=or(null,r));else if(xs(n),gh(v)){if(g=v.nextSibling&&v.nextSibling.dataset,g)var P=g.dgst;g=P,r=Error(a(419)),r.stack="",r.digest=g,Wa({value:r,source:null,stack:null}),n=Vu(t,n,s)}else if(oe||Zi(t,n,s,!1),g=(s&t.childLanes)!==0,oe||g){if(g=Ht,g!==null&&(r=Wf(g,s),r!==0&&r!==N.retryLane))throw N.retryLane=r,ei(t,r),Fe(g,t,r),Ou;ph(v)||Ql(),n=Vu(t,n,s)}else ph(v)?(n.flags|=192,n.child=t.child,n=null):(t=N.treeContext,Yt=vn(v.nextSibling),Ae=n,Et=!0,vs=null,_n=!1,t!==null&&Fd(n,t),n=zu(n,r.children),n.flags|=4096);return n}return c?(Ns(),v=r.fallback,c=n.mode,N=t.child,P=N.sibling,r=Zn(N,{mode:"hidden",children:r.children}),r.subtreeFlags=N.subtreeFlags&65011712,P!==null?v=Zn(P,v):(v=ni(v,c,s,null),v.flags|=2),v.return=n,r.return=n,r.sibling=v,n.child=r,or(null,r),r=n.child,v=t.child.memoizedState,v===null?v=ku(s):(c=v.cachePool,c!==null?(N=re._currentValue,c=c.parent!==N?{parent:N,pool:N}:c):c=Jd(),v={baseLanes:v.baseLanes|s,cachePool:c}),r.memoizedState=v,r.childLanes=ju(t,g,s),n.memoizedState=Ru,or(t.child,r)):(xs(n),s=t.child,t=s.sibling,s=Zn(s,{mode:"visible",children:r.children}),s.return=n,s.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=s,n.memoizedState=null,s)}function zu(t,n){return n=Ul({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Ul(t,n){return t=Je(22,t,null,n),t.lanes=0,t}function Vu(t,n,s){return ci(n,t.child,null,s),t=zu(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function hp(t,n,s){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n),Kc(t.return,n,s)}function Pu(t,n,s,r,c,h){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:c,treeForkCount:h}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=r,g.tail=s,g.tailMode=c,g.treeForkCount=h)}function fp(t,n,s){var r=n.pendingProps,c=r.revealOrder,h=r.tail;r=r.children;var g=ne.current,v=(g&2)!==0;if(v?(g=g&1|2,n.flags|=128):g&=1,$(ne,g),Ne(t,n,r,s),r=Et?Qa:0,!v&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hp(t,s,n);else if(t.tag===19)hp(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)t=s.alternate,t!==null&&wl(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),Pu(n,!1,c,s,h,r);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&wl(t)===null){n.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}Pu(n,!0,s,null,h,r);break;case"together":Pu(n,!1,null,null,void 0,r);break;default:n.memoizedState=null}return n.child}function ts(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Es|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(Zi(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=Zn(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Zn(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function qu(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&bl(t)))}function T0(t,n,s){switch(n.tag){case 3:rt(n,n.stateNode.containerInfo),Ss(n,re,t.memoizedState.cache),si();break;case 27:case 5:de(n);break;case 4:rt(n,n.stateNode.containerInfo);break;case 10:Ss(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,cu(n),null;break;case 13:var r=n.memoizedState;if(r!==null)return r.dehydrated!==null?(xs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?up(t,n,s):(xs(n),t=ts(t,n,s),t!==null?t.sibling:null);xs(n);break;case 19:var c=(t.flags&128)!==0;if(r=(s&n.childLanes)!==0,r||(Zi(t,n,s,!1),r=(s&n.childLanes)!==0),c){if(r)return fp(t,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),$(ne,ne.current),r)break;return null;case 22:return n.lanes=0,ip(t,n,s,n.pendingProps);case 24:Ss(n,re,t.memoizedState.cache)}return ts(t,n,s)}function dp(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)oe=!0;else{if(!qu(t,s)&&(n.flags&128)===0)return oe=!1,T0(t,n,s);oe=(t.flags&131072)!==0}else oe=!1,Et&&(n.flags&1048576)!==0&&Yd(n,Qa,n.index);switch(n.lanes=0,n.tag){case 16:t:{var r=n.pendingProps;if(t=li(n.elementType),n.type=t,typeof t=="function")Gc(t)?(r=hi(t,r),n.tag=1,n=op(null,n,t,r,s)):(n.tag=0,n=Du(null,n,t,r,s));else{if(t!=null){var c=t.$$typeof;if(c===X){n.tag=11,n=ep(null,n,t,r,s);break t}else if(c===j){n.tag=14,n=np(null,n,t,r,s);break t}}throw n=tt(t)||t,Error(a(306,n,""))}}return n;case 0:return Du(t,n,n.type,n.pendingProps,s);case 1:return r=n.type,c=hi(r,n.pendingProps),op(t,n,r,c,s);case 3:t:{if(rt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));r=n.pendingProps;var h=n.memoizedState;c=h.element,iu(t,n),sr(n,r,null,s);var g=n.memoizedState;if(r=g.cache,Ss(n,re,r),r!==h.cache&&Jc(n,[re],s,!0),nr(),r=g.element,h.isDehydrated)if(h={element:r,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=cp(t,n,r,s);break t}else if(r!==c){c=mn(Error(a(424)),n),Wa(c),n=cp(t,n,r,s);break t}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Yt=vn(t.firstChild),Ae=n,Et=!0,vs=null,_n=!0,s=im(n,null,r,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(si(),r===c){n=ts(t,n,s);break t}Ne(t,n,r,s)}n=n.child}return n;case 26:return Bl(t,n),t===null?(s=Ag(n.type,null,n.pendingProps,null))?n.memoizedState=s:Et||(s=n.type,t=n.pendingProps,r=no(ct.current).createElement(s),r[Me]=n,r[Ue]=t,Ce(r,s,t),ye(r),n.stateNode=r):n.memoizedState=Ag(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return de(n),t===null&&Et&&(r=n.stateNode=Sg(n.type,n.pendingProps,ct.current),Ae=n,_n=!0,c=Yt,js(n.type)?(_h=c,Yt=vn(r.firstChild)):Yt=c),Ne(t,n,n.pendingProps.children,s),Bl(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Et&&((c=r=Yt)&&(r=J0(r,n.type,n.pendingProps,_n),r!==null?(n.stateNode=r,Ae=n,Yt=vn(r.firstChild),_n=!1,c=!0):c=!1),c||bs(n)),de(n),c=n.type,h=n.pendingProps,g=t!==null?t.memoizedProps:null,r=h.children,fh(c,h)?r=null:g!==null&&fh(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=hu(t,n,d0,null,null,s),Mr._currentValue=c),Bl(t,n),Ne(t,n,r,s),n.child;case 6:return t===null&&Et&&((t=s=Yt)&&(s=$0(s,n.pendingProps,_n),s!==null?(n.stateNode=s,Ae=n,Yt=null,t=!0):t=!1),t||bs(n)),null;case 13:return up(t,n,s);case 4:return rt(n,n.stateNode.containerInfo),r=n.pendingProps,t===null?n.child=ci(n,null,r,s):Ne(t,n,r,s),n.child;case 11:return ep(t,n,n.type,n.pendingProps,s);case 7:return Ne(t,n,n.pendingProps,s),n.child;case 8:return Ne(t,n,n.pendingProps.children,s),n.child;case 12:return Ne(t,n,n.pendingProps.children,s),n.child;case 10:return r=n.pendingProps,Ss(n,n.type,r.value),Ne(t,n,r.children,s),n.child;case 9:return c=n.type._context,r=n.pendingProps.children,ai(n),c=xe(c),r=r(c),n.flags|=1,Ne(t,n,r,s),n.child;case 14:return np(t,n,n.type,n.pendingProps,s);case 15:return sp(t,n,n.type,n.pendingProps,s);case 19:return fp(t,n,s);case 31:return S0(t,n,s);case 22:return ip(t,n,s,n.pendingProps);case 24:return ai(n),r=xe(re),t===null?(c=eu(),c===null&&(c=Ht,h=$c(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=s),c=h),n.memoizedState={parent:r,cache:c},su(n),Ss(n,re,c)):((t.lanes&s)!==0&&(iu(t,n),sr(n,null,null,s),nr()),c=t.memoizedState,h=n.memoizedState,c.parent!==r?(c={parent:r,cache:r},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Ss(n,re,r)):(r=h.cache,Ss(n,re,r),r!==c.cache&&Jc(n,[re],s,!0))),Ne(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function es(t){t.flags|=4}function Bu(t,n,s,r,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(Up())t.flags|=8192;else throw oi=Al,nu}else t.flags&=-16777217}function mp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Eg(n))if(Up())t.flags|=8192;else throw oi=Al,nu}function Ll(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Xf():536870912,t.lanes|=n,ra|=n)}function cr(t,n){if(!Et)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ft(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,r=0;if(n)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,r|=c.subtreeFlags&65011712,r|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=r,t.childLanes=s,n}function M0(t,n,s){var r=n.pendingProps;switch(Xc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(n),null;case 1:return Ft(n),null;case 3:return s=n.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Kn(re),wt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Xi(n)?es(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Qc())),Ft(n),null;case 26:var c=n.type,h=n.memoizedState;return t===null?(es(n),h!==null?(Ft(n),mp(n,h)):(Ft(n),Bu(n,c,null,r,s))):h?h!==t.memoizedState?(es(n),Ft(n),mp(n,h)):(Ft(n),n.flags&=-16777217):(t=t.memoizedProps,t!==r&&es(n),Ft(n),Bu(n,c,t,r,s)),null;case 27:if(_e(n),s=ct.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==r&&es(n);else{if(!r){if(n.stateNode===null)throw Error(a(166));return Ft(n),null}t=it.current,Xi(n)?Xd(n):(t=Sg(c,r,s),n.stateNode=t,es(n))}return Ft(n),null;case 5:if(_e(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==r&&es(n);else{if(!r){if(n.stateNode===null)throw Error(a(166));return Ft(n),null}if(h=it.current,Xi(n))Xd(n);else{var g=no(ct.current);switch(h){case 1:h=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:h=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":h=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":h=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":h=g.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof r.is=="string"?g.createElement("select",{is:r.is}):g.createElement("select"),r.multiple?h.multiple=!0:r.size&&(h.size=r.size);break;default:h=typeof r.is=="string"?g.createElement(c,{is:r.is}):g.createElement(c)}}h[Me]=n,h[Ue]=r;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)h.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=h;t:switch(Ce(h,c,r),c){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&es(n)}}return Ft(n),Bu(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==r&&es(n);else{if(typeof r!="string"&&n.stateNode===null)throw Error(a(166));if(t=ct.current,Xi(n)){if(t=n.stateNode,s=n.memoizedProps,r=null,c=Ae,c!==null)switch(c.tag){case 27:case 5:r=c.memoizedProps}t[Me]=n,t=!!(t.nodeValue===s||r!==null&&r.suppressHydrationWarning===!0||ug(t.nodeValue,s)),t||bs(n,!0)}else t=no(t).createTextNode(r),t[Me]=n,n.stateNode=t}return Ft(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(r=Xi(n),s!==null){if(t===null){if(!r)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Me]=n}else si(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ft(n),t=!1}else s=Qc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(tn(n),n):(tn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Ft(n),null;case 13:if(r=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Xi(n),r!==null&&r.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[Me]=n}else si(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ft(n),c=!1}else c=Qc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(tn(n),n):(tn(n),null)}return tn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=r!==null,t=t!==null&&t.memoizedState!==null,s&&(r=n.child,c=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(c=r.alternate.memoizedState.cachePool.pool),h=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),h!==c&&(r.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),Ll(n,n.updateQueue),Ft(n),null);case 4:return wt(),t===null&&lh(n.stateNode.containerInfo),Ft(n),null;case 10:return Kn(n.type),Ft(n),null;case 19:if(B(ne),r=n.memoizedState,r===null)return Ft(n),null;if(c=(n.flags&128)!==0,h=r.rendering,h===null)if(c)cr(r,!1);else{if($t!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(h=wl(t),h!==null){for(n.flags|=128,cr(r,!1),t=h.updateQueue,n.updateQueue=t,Ll(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Hd(s,t),s=s.sibling;return $(ne,ne.current&1|2),Et&&Qn(n,r.treeForkCount),n.child}t=t.sibling}r.tail!==null&&me()>Fl&&(n.flags|=128,c=!0,cr(r,!1),n.lanes=4194304)}else{if(!c)if(t=wl(h),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,Ll(n,t),cr(r,!0),r.tail===null&&r.tailMode==="hidden"&&!h.alternate&&!Et)return Ft(n),null}else 2*me()-r.renderingStartTime>Fl&&s!==536870912&&(n.flags|=128,c=!0,cr(r,!1),n.lanes=4194304);r.isBackwards?(h.sibling=n.child,n.child=h):(t=r.last,t!==null?t.sibling=h:n.child=h,r.last=h)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=me(),t.sibling=null,s=ne.current,$(ne,c?s&1|2:s&1),Et&&Qn(n,r.treeForkCount),t):(Ft(n),null);case 22:case 23:return tn(n),ou(),r=n.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(n.flags|=8192):r&&(n.flags|=8192),r?(s&536870912)!==0&&(n.flags&128)===0&&(Ft(n),n.subtreeFlags&6&&(n.flags|=8192)):Ft(n),s=n.updateQueue,s!==null&&Ll(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),r=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),r!==s&&(n.flags|=2048),t!==null&&B(ri),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Kn(re),Ft(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function A0(t,n){switch(Xc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Kn(re),wt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return _e(n),null;case 31:if(n.memoizedState!==null){if(tn(n),n.alternate===null)throw Error(a(340));si()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(tn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));si()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return B(ne),null;case 4:return wt(),null;case 10:return Kn(n.type),null;case 22:case 23:return tn(n),ou(),t!==null&&B(ri),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Kn(re),null;case 25:return null;default:return null}}function pp(t,n){switch(Xc(n),n.tag){case 3:Kn(re),wt();break;case 26:case 27:case 5:_e(n);break;case 4:wt();break;case 31:n.memoizedState!==null&&tn(n);break;case 13:tn(n);break;case 19:B(ne);break;case 10:Kn(n.type);break;case 22:case 23:tn(n),ou(),t!==null&&B(ri);break;case 24:Kn(re)}}function ur(t,n){try{var s=n.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var c=r.next;s=c;do{if((s.tag&t)===t){r=void 0;var h=s.create,g=s.inst;r=h(),g.destroy=r}s=s.next}while(s!==c)}}catch(v){Vt(n,n.return,v)}}function Cs(t,n,s){try{var r=n.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var h=c.next;r=h;do{if((r.tag&t)===t){var g=r.inst,v=g.destroy;if(v!==void 0){g.destroy=void 0,c=n;var N=s,P=v;try{P()}catch(I){Vt(c,N,I)}}}r=r.next}while(r!==h)}}catch(I){Vt(n,n.return,I)}}function gp(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{rm(n,s)}catch(r){Vt(t,t.return,r)}}}function _p(t,n,s){s.props=hi(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(r){Vt(t,n,r)}}function hr(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof s=="function"?t.refCleanup=s(r):s.current=r}}catch(c){Vt(t,n,c)}}function qn(t,n){var s=t.ref,r=t.refCleanup;if(s!==null)if(typeof r=="function")try{r()}catch(c){Vt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Vt(t,n,c)}else s.current=null}function yp(t){var n=t.type,s=t.memoizedProps,r=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&r.focus();break t;case"img":s.src?r.src=s.src:s.srcSet&&(r.srcset=s.srcSet)}}catch(c){Vt(t,t.return,c)}}function Uu(t,n,s){try{var r=t.stateNode;F0(r,t.type,s,n),r[Ue]=n}catch(c){Vt(t,t.return,c)}}function vp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&js(t.type)||t.tag===4}function Lu(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||vp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&js(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hu(t,n,s){var r=t.tag;if(r===5||r===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Fn));else if(r!==4&&(r===27&&js(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Hu(t,n,s),t=t.sibling;t!==null;)Hu(t,n,s),t=t.sibling}function Hl(t,n,s){var r=t.tag;if(r===5||r===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(r!==4&&(r===27&&js(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Hl(t,n,s),t=t.sibling;t!==null;)Hl(t,n,s),t=t.sibling}function bp(t){var n=t.stateNode,s=t.memoizedProps;try{for(var r=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Ce(n,r,s),n[Me]=t,n[Ue]=s}catch(h){Vt(t,t.return,h)}}var ns=!1,ce=!1,Gu=!1,Sp=typeof WeakSet=="function"?WeakSet:Set,ve=null;function x0(t,n){if(t=t.containerInfo,uh=co,t=kd(t),Vc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var c=r.anchorOffset,h=r.focusNode;r=r.focusOffset;try{s.nodeType,h.nodeType}catch{s=null;break t}var g=0,v=-1,N=-1,P=0,I=0,Z=t,q=null;e:for(;;){for(var H;Z!==s||c!==0&&Z.nodeType!==3||(v=g+c),Z!==h||r!==0&&Z.nodeType!==3||(N=g+r),Z.nodeType===3&&(g+=Z.nodeValue.length),(H=Z.firstChild)!==null;)q=Z,Z=H;for(;;){if(Z===t)break e;if(q===s&&++P===c&&(v=g),q===h&&++I===r&&(N=g),(H=Z.nextSibling)!==null)break;Z=q,q=Z.parentNode}Z=H}s=v===-1||N===-1?null:{start:v,end:N}}else s=null}s=s||{start:0,end:0}}else s=null;for(hh={focusedElem:t,selectionRange:s},co=!1,ve=n;ve!==null;)if(n=ve,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ve=t;else for(;ve!==null;){switch(n=ve,h=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)c=t[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,s=n,c=h.memoizedProps,h=h.memoizedState,r=s.stateNode;try{var ut=hi(s.type,c);t=r.getSnapshotBeforeUpdate(ut,h),r.__reactInternalSnapshotBeforeUpdate=t}catch(pt){Vt(s,s.return,pt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)mh(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":mh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,ve=t;break}ve=n.return}}function Tp(t,n,s){var r=s.flags;switch(s.tag){case 0:case 11:case 15:is(t,s),r&4&&ur(5,s);break;case 1:if(is(t,s),r&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(g){Vt(s,s.return,g)}else{var c=hi(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Vt(s,s.return,g)}}r&64&&gp(s),r&512&&hr(s,s.return);break;case 3:if(is(t,s),r&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{rm(t,n)}catch(g){Vt(s,s.return,g)}}break;case 27:n===null&&r&4&&bp(s);case 26:case 5:is(t,s),n===null&&r&4&&yp(s),r&512&&hr(s,s.return);break;case 12:is(t,s);break;case 31:is(t,s),r&4&&xp(t,s);break;case 13:is(t,s),r&4&&Np(t,s),r&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=j0.bind(null,s),t1(t,s))));break;case 22:if(r=s.memoizedState!==null||ns,!r){n=n!==null&&n.memoizedState!==null||ce,c=ns;var h=ce;ns=r,(ce=n)&&!h?as(t,s,(s.subtreeFlags&8772)!==0):is(t,s),ns=c,ce=h}break;case 30:break;default:is(t,s)}}function Mp(t){var n=t.alternate;n!==null&&(t.alternate=null,Mp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&vc(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Zt=null,He=!1;function ss(t,n,s){for(s=s.child;s!==null;)Ap(t,n,s),s=s.sibling}function Ap(t,n,s){if(Ee&&typeof Ee.onCommitFiberUnmount=="function")try{Ee.onCommitFiberUnmount(ps,s)}catch{}switch(s.tag){case 26:ce||qn(s,n),ss(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:ce||qn(s,n);var r=Zt,c=He;js(s.type)&&(Zt=s.stateNode,He=!1),ss(t,n,s),br(s.stateNode),Zt=r,He=c;break;case 5:ce||qn(s,n);case 6:if(r=Zt,c=He,Zt=null,ss(t,n,s),Zt=r,He=c,Zt!==null)if(He)try{(Zt.nodeType===9?Zt.body:Zt.nodeName==="HTML"?Zt.ownerDocument.body:Zt).removeChild(s.stateNode)}catch(h){Vt(s,n,h)}else try{Zt.removeChild(s.stateNode)}catch(h){Vt(s,n,h)}break;case 18:Zt!==null&&(He?(t=Zt,gg(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),ma(t)):gg(Zt,s.stateNode));break;case 4:r=Zt,c=He,Zt=s.stateNode.containerInfo,He=!0,ss(t,n,s),Zt=r,He=c;break;case 0:case 11:case 14:case 15:Cs(2,s,n),ce||Cs(4,s,n),ss(t,n,s);break;case 1:ce||(qn(s,n),r=s.stateNode,typeof r.componentWillUnmount=="function"&&_p(s,n,r)),ss(t,n,s);break;case 21:ss(t,n,s);break;case 22:ce=(r=ce)||s.memoizedState!==null,ss(t,n,s),ce=r;break;default:ss(t,n,s)}}function xp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ma(t)}catch(s){Vt(n,n.return,s)}}}function Np(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ma(t)}catch(s){Vt(n,n.return,s)}}function N0(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Sp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Sp),n;default:throw Error(a(435,t.tag))}}function Gl(t,n){var s=N0(t);n.forEach(function(r){if(!s.has(r)){s.add(r);var c=z0.bind(null,t,r);r.then(c,c)}})}function Ge(t,n){var s=n.deletions;if(s!==null)for(var r=0;r<s.length;r++){var c=s[r],h=t,g=n,v=g;t:for(;v!==null;){switch(v.tag){case 27:if(js(v.type)){Zt=v.stateNode,He=!1;break t}break;case 5:Zt=v.stateNode,He=!1;break t;case 3:case 4:Zt=v.stateNode.containerInfo,He=!0;break t}v=v.return}if(Zt===null)throw Error(a(160));Ap(h,g,c),Zt=null,He=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Cp(n,t),n=n.sibling}var xn=null;function Cp(t,n){var s=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ge(n,t),Ie(t),r&4&&(Cs(3,t,t.return),ur(3,t),Cs(5,t,t.return));break;case 1:Ge(n,t),Ie(t),r&512&&(ce||s===null||qn(s,s.return)),r&64&&ns&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?r:s.concat(r))));break;case 26:var c=xn;if(Ge(n,t),Ie(t),r&512&&(ce||s===null||qn(s,s.return)),r&4){var h=s!==null?s.memoizedState:null;if(r=t.memoizedState,s===null)if(r===null)if(t.stateNode===null){t:{r=t.type,s=t.memoizedProps,c=c.ownerDocument||c;e:switch(r){case"title":h=c.getElementsByTagName("title")[0],(!h||h[qa]||h[Me]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(r),c.head.insertBefore(h,c.querySelector("head > title"))),Ce(h,r,s),h[Me]=t,ye(h),r=h;break t;case"link":var g=Cg("link","href",c).get(r+(s.href||""));if(g){for(var v=0;v<g.length;v++)if(h=g[v],h.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&h.getAttribute("rel")===(s.rel==null?null:s.rel)&&h.getAttribute("title")===(s.title==null?null:s.title)&&h.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(v,1);break e}}h=c.createElement(r),Ce(h,r,s),c.head.appendChild(h);break;case"meta":if(g=Cg("meta","content",c).get(r+(s.content||""))){for(v=0;v<g.length;v++)if(h=g[v],h.getAttribute("content")===(s.content==null?null:""+s.content)&&h.getAttribute("name")===(s.name==null?null:s.name)&&h.getAttribute("property")===(s.property==null?null:s.property)&&h.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&h.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(v,1);break e}}h=c.createElement(r),Ce(h,r,s),c.head.appendChild(h);break;default:throw Error(a(468,r))}h[Me]=t,ye(h),r=h}t.stateNode=r}else wg(c,t.type,t.stateNode);else t.stateNode=Ng(c,r,t.memoizedProps);else h!==r?(h===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):h.count--,r===null?wg(c,t.type,t.stateNode):Ng(c,r,t.memoizedProps)):r===null&&t.stateNode!==null&&Uu(t,t.memoizedProps,s.memoizedProps)}break;case 27:Ge(n,t),Ie(t),r&512&&(ce||s===null||qn(s,s.return)),s!==null&&r&4&&Uu(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Ge(n,t),Ie(t),r&512&&(ce||s===null||qn(s,s.return)),t.flags&32){c=t.stateNode;try{Pi(c,"")}catch(ut){Vt(t,t.return,ut)}}r&4&&t.stateNode!=null&&(c=t.memoizedProps,Uu(t,c,s!==null?s.memoizedProps:c)),r&1024&&(Gu=!0);break;case 6:if(Ge(n,t),Ie(t),r&4){if(t.stateNode===null)throw Error(a(162));r=t.memoizedProps,s=t.stateNode;try{s.nodeValue=r}catch(ut){Vt(t,t.return,ut)}}break;case 3:if(ao=null,c=xn,xn=so(n.containerInfo),Ge(n,t),xn=c,Ie(t),r&4&&s!==null&&s.memoizedState.isDehydrated)try{ma(n.containerInfo)}catch(ut){Vt(t,t.return,ut)}Gu&&(Gu=!1,wp(t));break;case 4:r=xn,xn=so(t.stateNode.containerInfo),Ge(n,t),Ie(t),xn=r;break;case 12:Ge(n,t),Ie(t);break;case 31:Ge(n,t),Ie(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Gl(t,r)));break;case 13:Ge(n,t),Ie(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Yl=me()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Gl(t,r)));break;case 22:c=t.memoizedState!==null;var N=s!==null&&s.memoizedState!==null,P=ns,I=ce;if(ns=P||c,ce=I||N,Ge(n,t),ce=I,ns=P,Ie(t),r&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||N||ns||ce||fi(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){N=s=n;try{if(h=N.stateNode,c)g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{v=N.stateNode;var Z=N.memoizedProps.style,q=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;v.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ut){Vt(N,N.return,ut)}}}else if(n.tag===6){if(s===null){N=n;try{N.stateNode.nodeValue=c?"":N.memoizedProps}catch(ut){Vt(N,N.return,ut)}}}else if(n.tag===18){if(s===null){N=n;try{var H=N.stateNode;c?_g(H,!0):_g(N.stateNode,!1)}catch(ut){Vt(N,N.return,ut)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}r&4&&(r=t.updateQueue,r!==null&&(s=r.retryQueue,s!==null&&(r.retryQueue=null,Gl(t,s))));break;case 19:Ge(n,t),Ie(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Gl(t,r)));break;case 30:break;case 21:break;default:Ge(n,t),Ie(t)}}function Ie(t){var n=t.flags;if(n&2){try{for(var s,r=t.return;r!==null;){if(vp(r)){s=r;break}r=r.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var c=s.stateNode,h=Lu(t);Hl(t,h,c);break;case 5:var g=s.stateNode;s.flags&32&&(Pi(g,""),s.flags&=-33);var v=Lu(t);Hl(t,v,g);break;case 3:case 4:var N=s.stateNode.containerInfo,P=Lu(t);Hu(t,P,N);break;default:throw Error(a(161))}}catch(I){Vt(t,t.return,I)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function wp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;wp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function is(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Tp(t,n.alternate,n),n=n.sibling}function fi(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Cs(4,n,n.return),fi(n);break;case 1:qn(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&_p(n,n.return,s),fi(n);break;case 27:br(n.stateNode);case 26:case 5:qn(n,n.return),fi(n);break;case 22:n.memoizedState===null&&fi(n);break;case 30:fi(n);break;default:fi(n)}t=t.sibling}}function as(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var r=n.alternate,c=t,h=n,g=h.flags;switch(h.tag){case 0:case 11:case 15:as(c,h,s),ur(4,h);break;case 1:if(as(c,h,s),r=h,c=r.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Vt(r,r.return,P)}if(r=h,c=r.updateQueue,c!==null){var v=r.stateNode;try{var N=c.shared.hiddenCallbacks;if(N!==null)for(c.shared.hiddenCallbacks=null,c=0;c<N.length;c++)am(N[c],v)}catch(P){Vt(r,r.return,P)}}s&&g&64&&gp(h),hr(h,h.return);break;case 27:bp(h);case 26:case 5:as(c,h,s),s&&r===null&&g&4&&yp(h),hr(h,h.return);break;case 12:as(c,h,s);break;case 31:as(c,h,s),s&&g&4&&xp(c,h);break;case 13:as(c,h,s),s&&g&4&&Np(c,h);break;case 22:h.memoizedState===null&&as(c,h,s),hr(h,h.return);break;case 30:break;default:as(c,h,s)}n=n.sibling}}function Iu(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Ka(s))}function Yu(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ka(t))}function Nn(t,n,s,r){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ep(t,n,s,r),n=n.sibling}function Ep(t,n,s,r){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Nn(t,n,s,r),c&2048&&ur(9,n);break;case 1:Nn(t,n,s,r);break;case 3:Nn(t,n,s,r),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ka(t)));break;case 12:if(c&2048){Nn(t,n,s,r),t=n.stateNode;try{var h=n.memoizedProps,g=h.id,v=h.onPostCommit;typeof v=="function"&&v(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Vt(n,n.return,N)}}else Nn(t,n,s,r);break;case 31:Nn(t,n,s,r);break;case 13:Nn(t,n,s,r);break;case 23:break;case 22:h=n.stateNode,g=n.alternate,n.memoizedState!==null?h._visibility&2?Nn(t,n,s,r):fr(t,n):h._visibility&2?Nn(t,n,s,r):(h._visibility|=2,sa(t,n,s,r,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Iu(g,n);break;case 24:Nn(t,n,s,r),c&2048&&Yu(n.alternate,n);break;default:Nn(t,n,s,r)}}function sa(t,n,s,r,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=t,g=n,v=s,N=r,P=g.flags;switch(g.tag){case 0:case 11:case 15:sa(h,g,v,N,c),ur(8,g);break;case 23:break;case 22:var I=g.stateNode;g.memoizedState!==null?I._visibility&2?sa(h,g,v,N,c):fr(h,g):(I._visibility|=2,sa(h,g,v,N,c)),c&&P&2048&&Iu(g.alternate,g);break;case 24:sa(h,g,v,N,c),c&&P&2048&&Yu(g.alternate,g);break;default:sa(h,g,v,N,c)}n=n.sibling}}function fr(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,r=n,c=r.flags;switch(r.tag){case 22:fr(s,r),c&2048&&Iu(r.alternate,r);break;case 24:fr(s,r),c&2048&&Yu(r.alternate,r);break;default:fr(s,r)}n=n.sibling}}var dr=8192;function ia(t,n,s){if(t.subtreeFlags&dr)for(t=t.child;t!==null;)Op(t,n,s),t=t.sibling}function Op(t,n,s){switch(t.tag){case 26:ia(t,n,s),t.flags&dr&&t.memoizedState!==null&&f1(s,xn,t.memoizedState,t.memoizedProps);break;case 5:ia(t,n,s);break;case 3:case 4:var r=xn;xn=so(t.stateNode.containerInfo),ia(t,n,s),xn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=dr,dr=16777216,ia(t,n,s),dr=r):ia(t,n,s));break;default:ia(t,n,s)}}function Dp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function mr(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];ve=r,kp(r,t)}Dp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Rp(t),t=t.sibling}function Rp(t){switch(t.tag){case 0:case 11:case 15:mr(t),t.flags&2048&&Cs(9,t,t.return);break;case 3:mr(t);break;case 12:mr(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Il(t)):mr(t);break;default:mr(t)}}function Il(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];ve=r,kp(r,t)}Dp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Cs(8,n,n.return),Il(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Il(n));break;default:Il(n)}t=t.sibling}}function kp(t,n){for(;ve!==null;){var s=ve;switch(s.tag){case 0:case 11:case 15:Cs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var r=s.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Ka(s.memoizedState.cache)}if(r=s.child,r!==null)r.return=s,ve=r;else t:for(s=t;ve!==null;){r=ve;var c=r.sibling,h=r.return;if(Mp(r),r===s){ve=null;break t}if(c!==null){c.return=h,ve=c;break t}ve=h}}}var C0={getCacheForType:function(t){var n=xe(re),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return xe(re).controller.signal}},w0=typeof WeakMap=="function"?WeakMap:Map,Rt=0,Ht=null,Tt=null,xt=0,zt=0,en=null,ws=!1,aa=!1,Fu=!1,rs=0,$t=0,Es=0,di=0,Xu=0,nn=0,ra=0,pr=null,Ye=null,Zu=!1,Yl=0,jp=0,Fl=1/0,Xl=null,Os=null,pe=0,Ds=null,la=null,ls=0,Qu=0,Wu=null,zp=null,gr=0,Ku=null;function sn(){return(Rt&2)!==0&&xt!==0?xt&-xt:O.T!==null?sh():Kf()}function Vp(){if(nn===0)if((xt&536870912)===0||Et){var t=el;el<<=1,(el&3932160)===0&&(el=262144),nn=t}else nn=536870912;return t=$e.current,t!==null&&(t.flags|=32),nn}function Fe(t,n,s){(t===Ht&&(zt===2||zt===9)||t.cancelPendingCommit!==null)&&(oa(t,0),Rs(t,xt,nn,!1)),Pa(t,s),((Rt&2)===0||t!==Ht)&&(t===Ht&&((Rt&2)===0&&(di|=s),$t===4&&Rs(t,xt,nn,!1)),Bn(t))}function Pp(t,n,s){if((Rt&6)!==0)throw Error(a(327));var r=!s&&(n&127)===0&&(n&t.expiredLanes)===0||Va(t,n),c=r?D0(t,n):$u(t,n,!0),h=r;do{if(c===0){aa&&!r&&Rs(t,n,0,!1);break}else{if(s=t.current.alternate,h&&!E0(s)){c=$u(t,n,!1),h=!1;continue}if(c===2){if(h=n,t.errorRecoveryDisabledLanes&h)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var v=t;c=pr;var N=v.current.memoizedState.isDehydrated;if(N&&(oa(v,g).flags|=256),g=$u(v,g,!1),g!==2){if(Fu&&!N){v.errorRecoveryDisabledLanes|=h,di|=h,c=4;break t}h=Ye,Ye=c,h!==null&&(Ye===null?Ye=h:Ye.push.apply(Ye,h))}c=g}if(h=!1,c!==2)continue}}if(c===1){oa(t,0),Rs(t,n,0,!0);break}t:{switch(r=t,h=c,h){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Rs(r,n,nn,!ws);break t;case 2:Ye=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Yl+300-me(),10<c)){if(Rs(r,n,nn,!ws),sl(r,0,!0)!==0)break t;ls=n,r.timeoutHandle=mg(qp.bind(null,r,s,Ye,Xl,Zu,n,nn,di,ra,ws,h,"Throttled",-0,0),c);break t}qp(r,s,Ye,Xl,Zu,n,nn,di,ra,ws,h,null,-0,0)}}break}while(!0);Bn(t)}function qp(t,n,s,r,c,h,g,v,N,P,I,Z,q,H){if(t.timeoutHandle=-1,Z=n.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},Op(n,h,Z);var ut=(h&62914560)===h?Yl-me():(h&4194048)===h?jp-me():0;if(ut=d1(Z,ut),ut!==null){ls=h,t.cancelPendingCommit=ut(Fp.bind(null,t,n,h,s,r,c,g,v,N,I,Z,null,q,H)),Rs(t,h,g,!P);return}}Fp(t,n,h,s,r,c,g,v,N)}function E0(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var r=0;r<s.length;r++){var c=s[r],h=c.getSnapshot;c=c.value;try{if(!Ke(h(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Rs(t,n,s,r){n&=~Xu,n&=~di,t.suspendedLanes|=n,t.pingedLanes&=~n,r&&(t.warmLanes|=n),r=t.expirationTimes;for(var c=n;0<c;){var h=31-We(c),g=1<<h;r[h]=-1,c&=~g}s!==0&&Zf(t,s,n)}function Zl(){return(Rt&6)===0?(_r(0),!1):!0}function Ju(){if(Tt!==null){if(zt===0)var t=Tt.return;else t=Tt,Wn=ii=null,mu(t),Ji=null,$a=0,t=Tt;for(;t!==null;)pp(t.alternate,t),t=t.return;Tt=null}}function oa(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Q0(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),ls=0,Ju(),Ht=t,Tt=s=Zn(t.current,null),xt=n,zt=0,en=null,ws=!1,aa=Va(t,n),Fu=!1,ra=nn=Xu=di=Es=$t=0,Ye=pr=null,Zu=!1,(n&8)!==0&&(n|=n&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=n;0<r;){var c=31-We(r),h=1<<c;n|=t[c],r&=~h}return rs=n,pl(),s}function Bp(t,n){yt=null,O.H=lr,n===Ki||n===Ml?(n=em(),zt=3):n===nu?(n=em(),zt=4):zt=n===Ou?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,en=n,Tt===null&&($t=1,Pl(t,mn(n,t.current)))}function Up(){var t=$e.current;return t===null?!0:(xt&4194048)===xt?yn===null:(xt&62914560)===xt||(xt&536870912)!==0?t===yn:!1}function Lp(){var t=O.H;return O.H=lr,t===null?lr:t}function Hp(){var t=O.A;return O.A=C0,t}function Ql(){$t=4,ws||(xt&4194048)!==xt&&$e.current!==null||(aa=!0),(Es&134217727)===0&&(di&134217727)===0||Ht===null||Rs(Ht,xt,nn,!1)}function $u(t,n,s){var r=Rt;Rt|=2;var c=Lp(),h=Hp();(Ht!==t||xt!==n)&&(Xl=null,oa(t,n)),n=!1;var g=$t;t:do try{if(zt!==0&&Tt!==null){var v=Tt,N=en;switch(zt){case 8:Ju(),g=6;break t;case 3:case 2:case 9:case 6:$e.current===null&&(n=!0);var P=zt;if(zt=0,en=null,ca(t,v,N,P),s&&aa){g=0;break t}break;default:P=zt,zt=0,en=null,ca(t,v,N,P)}}O0(),g=$t;break}catch(I){Bp(t,I)}while(!0);return n&&t.shellSuspendCounter++,Wn=ii=null,Rt=r,O.H=c,O.A=h,Tt===null&&(Ht=null,xt=0,pl()),g}function O0(){for(;Tt!==null;)Gp(Tt)}function D0(t,n){var s=Rt;Rt|=2;var r=Lp(),c=Hp();Ht!==t||xt!==n?(Xl=null,Fl=me()+500,oa(t,n)):aa=Va(t,n);t:do try{if(zt!==0&&Tt!==null){n=Tt;var h=en;e:switch(zt){case 1:zt=0,en=null,ca(t,n,h,1);break;case 2:case 9:if($d(h)){zt=0,en=null,Ip(n);break}n=function(){zt!==2&&zt!==9||Ht!==t||(zt=7),Bn(t)},h.then(n,n);break t;case 3:zt=7;break t;case 4:zt=5;break t;case 7:$d(h)?(zt=0,en=null,Ip(n)):(zt=0,en=null,ca(t,n,h,7));break;case 5:var g=null;switch(Tt.tag){case 26:g=Tt.memoizedState;case 5:case 27:var v=Tt;if(g?Eg(g):v.stateNode.complete){zt=0,en=null;var N=v.sibling;if(N!==null)Tt=N;else{var P=v.return;P!==null?(Tt=P,Wl(P)):Tt=null}break e}}zt=0,en=null,ca(t,n,h,5);break;case 6:zt=0,en=null,ca(t,n,h,6);break;case 8:Ju(),$t=6;break t;default:throw Error(a(462))}}R0();break}catch(I){Bp(t,I)}while(!0);return Wn=ii=null,O.H=r,O.A=c,Rt=s,Tt!==null?0:(Ht=null,xt=0,pl(),$t)}function R0(){for(;Tt!==null&&!cn();)Gp(Tt)}function Gp(t){var n=dp(t.alternate,t,rs);t.memoizedProps=t.pendingProps,n===null?Wl(t):Tt=n}function Ip(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=lp(s,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=lp(s,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:mu(n);default:pp(s,n),n=Tt=Hd(n,rs),n=dp(s,n,rs)}t.memoizedProps=t.pendingProps,n===null?Wl(t):Tt=n}function ca(t,n,s,r){Wn=ii=null,mu(n),Ji=null,$a=0;var c=n.return;try{if(b0(t,c,n,s,xt)){$t=1,Pl(t,mn(s,t.current)),Tt=null;return}}catch(h){if(c!==null)throw Tt=c,h;$t=1,Pl(t,mn(s,t.current)),Tt=null;return}n.flags&32768?(Et||r===1?t=!0:aa||(xt&536870912)!==0?t=!1:(ws=t=!0,(r===2||r===9||r===3||r===6)&&(r=$e.current,r!==null&&r.tag===13&&(r.flags|=16384))),Yp(n,t)):Wl(n)}function Wl(t){var n=t;do{if((n.flags&32768)!==0){Yp(n,ws);return}t=n.return;var s=M0(n.alternate,n,rs);if(s!==null){Tt=s;return}if(n=n.sibling,n!==null){Tt=n;return}Tt=n=t}while(n!==null);$t===0&&($t=5)}function Yp(t,n){do{var s=A0(t.alternate,t);if(s!==null){s.flags&=32767,Tt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Tt=t;return}Tt=t=s}while(t!==null);$t=6,Tt=null}function Fp(t,n,s,r,c,h,g,v,N){t.cancelPendingCommit=null;do Kl();while(pe!==0);if((Rt&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(h=n.lanes|n.childLanes,h|=Lc,hv(t,s,h,g,v,N),t===Ht&&(Tt=Ht=null,xt=0),la=n,Ds=t,ls=s,Qu=h,Wu=c,zp=r,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,V0(Oi,function(){return Kp(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||r){r=O.T,O.T=null,c=L.p,L.p=2,g=Rt,Rt|=4;try{x0(t,n,s)}finally{Rt=g,L.p=c,O.T=r}}pe=1,Xp(),Zp(),Qp()}}function Xp(){if(pe===1){pe=0;var t=Ds,n=la,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=O.T,O.T=null;var r=L.p;L.p=2;var c=Rt;Rt|=4;try{Cp(n,t);var h=hh,g=kd(t.containerInfo),v=h.focusedElem,N=h.selectionRange;if(g!==v&&v&&v.ownerDocument&&Rd(v.ownerDocument.documentElement,v)){if(N!==null&&Vc(v)){var P=N.start,I=N.end;if(I===void 0&&(I=P),"selectionStart"in v)v.selectionStart=P,v.selectionEnd=Math.min(I,v.value.length);else{var Z=v.ownerDocument||document,q=Z&&Z.defaultView||window;if(q.getSelection){var H=q.getSelection(),ut=v.textContent.length,pt=Math.min(N.start,ut),Bt=N.end===void 0?pt:Math.min(N.end,ut);!H.extend&&pt>Bt&&(g=Bt,Bt=pt,pt=g);var k=Dd(v,pt),w=Dd(v,Bt);if(k&&w&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==w.node||H.focusOffset!==w.offset)){var V=Z.createRange();V.setStart(k.node,k.offset),H.removeAllRanges(),pt>Bt?(H.addRange(V),H.extend(w.node,w.offset)):(V.setEnd(w.node,w.offset),H.addRange(V))}}}}for(Z=[],H=v;H=H.parentNode;)H.nodeType===1&&Z.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<Z.length;v++){var F=Z[v];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}co=!!uh,hh=uh=null}finally{Rt=c,L.p=r,O.T=s}}t.current=n,pe=2}}function Zp(){if(pe===2){pe=0;var t=Ds,n=la,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=O.T,O.T=null;var r=L.p;L.p=2;var c=Rt;Rt|=4;try{Tp(t,n.alternate,n)}finally{Rt=c,L.p=r,O.T=s}}pe=3}}function Qp(){if(pe===4||pe===3){pe=0,In();var t=Ds,n=la,s=ls,r=zp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?pe=5:(pe=0,la=Ds=null,Wp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Os=null),_c(s),n=n.stateNode,Ee&&typeof Ee.onCommitFiberRoot=="function")try{Ee.onCommitFiberRoot(ps,n,void 0,(n.current.flags&128)===128)}catch{}if(r!==null){n=O.T,c=L.p,L.p=2,O.T=null;try{for(var h=t.onRecoverableError,g=0;g<r.length;g++){var v=r[g];h(v.value,{componentStack:v.stack})}}finally{O.T=n,L.p=c}}(ls&3)!==0&&Kl(),Bn(t),c=t.pendingLanes,(s&261930)!==0&&(c&42)!==0?t===Ku?gr++:(gr=0,Ku=t):gr=0,_r(0)}}function Wp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Ka(n)))}function Kl(){return Xp(),Zp(),Qp(),Kp()}function Kp(){if(pe!==5)return!1;var t=Ds,n=Qu;Qu=0;var s=_c(ls),r=O.T,c=L.p;try{L.p=32>s?32:s,O.T=null,s=Wu,Wu=null;var h=Ds,g=ls;if(pe=0,la=Ds=null,ls=0,(Rt&6)!==0)throw Error(a(331));var v=Rt;if(Rt|=4,Rp(h.current),Ep(h,h.current,g,s),Rt=v,_r(0,!1),Ee&&typeof Ee.onPostCommitFiberRoot=="function")try{Ee.onPostCommitFiberRoot(ps,h)}catch{}return!0}finally{L.p=c,O.T=r,Wp(t,n)}}function Jp(t,n,s){n=mn(s,n),n=Eu(t.stateNode,n,2),t=As(t,n,2),t!==null&&(Pa(t,2),Bn(t))}function Vt(t,n,s){if(t.tag===3)Jp(t,t,s);else for(;n!==null;){if(n.tag===3){Jp(n,t,s);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Os===null||!Os.has(r))){t=mn(s,t),s=$m(2),r=As(n,s,2),r!==null&&(tp(s,r,n,t),Pa(r,2),Bn(r));break}}n=n.return}}function th(t,n,s){var r=t.pingCache;if(r===null){r=t.pingCache=new w0;var c=new Set;r.set(n,c)}else c=r.get(n),c===void 0&&(c=new Set,r.set(n,c));c.has(s)||(Fu=!0,c.add(s),t=k0.bind(null,t,n,s),n.then(t,t))}function k0(t,n,s){var r=t.pingCache;r!==null&&r.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Ht===t&&(xt&s)===s&&($t===4||$t===3&&(xt&62914560)===xt&&300>me()-Yl?(Rt&2)===0&&oa(t,0):Xu|=s,ra===xt&&(ra=0)),Bn(t)}function $p(t,n){n===0&&(n=Xf()),t=ei(t,n),t!==null&&(Pa(t,n),Bn(t))}function j0(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),$p(t,s)}function z0(t,n){var s=0;switch(t.tag){case 31:case 13:var r=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(a(314))}r!==null&&r.delete(n),$p(t,s)}function V0(t,n){return jt(t,n)}var Jl=null,ua=null,eh=!1,$l=!1,nh=!1,ks=0;function Bn(t){t!==ua&&t.next===null&&(ua===null?Jl=ua=t:ua=ua.next=t),$l=!0,eh||(eh=!0,q0())}function _r(t,n){if(!nh&&$l){nh=!0;do for(var s=!1,r=Jl;r!==null;){if(t!==0){var c=r.pendingLanes;if(c===0)var h=0;else{var g=r.suspendedLanes,v=r.pingedLanes;h=(1<<31-We(42|t)+1)-1,h&=c&~(g&~v),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(s=!0,sg(r,h))}else h=xt,h=sl(r,r===Ht?h:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(h&3)===0||Va(r,h)||(s=!0,sg(r,h));r=r.next}while(s);nh=!1}}function P0(){tg()}function tg(){$l=eh=!1;var t=0;ks!==0&&Z0()&&(t=ks);for(var n=me(),s=null,r=Jl;r!==null;){var c=r.next,h=eg(r,n);h===0?(r.next=null,s===null?Jl=c:s.next=c,c===null&&(ua=s)):(s=r,(t!==0||(h&3)!==0)&&($l=!0)),r=c}pe!==0&&pe!==5||_r(t),ks!==0&&(ks=0)}function eg(t,n){for(var s=t.suspendedLanes,r=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var g=31-We(h),v=1<<g,N=c[g];N===-1?((v&s)===0||(v&r)!==0)&&(c[g]=uv(v,n)):N<=n&&(t.expiredLanes|=v),h&=~v}if(n=Ht,s=xt,s=sl(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,s===0||t===n&&(zt===2||zt===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&ae(r),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Va(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(r!==null&&ae(r),_c(s)){case 2:case 8:s=Jr;break;case 32:s=Oi;break;case 268435456:s=$r;break;default:s=Oi}return r=ng.bind(null,t),s=jt(s,r),t.callbackPriority=n,t.callbackNode=s,n}return r!==null&&r!==null&&ae(r),t.callbackPriority=2,t.callbackNode=null,2}function ng(t,n){if(pe!==0&&pe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Kl()&&t.callbackNode!==s)return null;var r=xt;return r=sl(t,t===Ht?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(Pp(t,r,n),eg(t,me()),t.callbackNode!=null&&t.callbackNode===s?ng.bind(null,t):null)}function sg(t,n){if(Kl())return null;Pp(t,n,!0)}function q0(){W0(function(){(Rt&6)!==0?jt(Ei,P0):tg()})}function sh(){if(ks===0){var t=Qi;t===0&&(t=tl,tl<<=1,(tl&261888)===0&&(tl=256)),ks=t}return ks}function ig(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ll(""+t)}function ag(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function B0(t,n,s,r,c){if(n==="submit"&&s&&s.stateNode===c){var h=ig((c[Ue]||null).action),g=r.submitter;g&&(n=(n=g[Ue]||null)?ig(n.formAction):g.getAttribute("formAction"),n!==null&&(h=n,g=null));var v=new hl("action","action",null,r,c);t.push({event:v,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ks!==0){var N=g?ag(c,g):new FormData(c);Mu(s,{pending:!0,data:N,method:c.method,action:h},null,N)}}else typeof h=="function"&&(v.preventDefault(),N=g?ag(c,g):new FormData(c),Mu(s,{pending:!0,data:N,method:c.method,action:h},h,N))},currentTarget:c}]})}}for(var ih=0;ih<Uc.length;ih++){var ah=Uc[ih],U0=ah.toLowerCase(),L0=ah[0].toUpperCase()+ah.slice(1);An(U0,"on"+L0)}An(Vd,"onAnimationEnd"),An(Pd,"onAnimationIteration"),An(qd,"onAnimationStart"),An("dblclick","onDoubleClick"),An("focusin","onFocus"),An("focusout","onBlur"),An(s0,"onTransitionRun"),An(i0,"onTransitionStart"),An(a0,"onTransitionCancel"),An(Bd,"onTransitionEnd"),zi("onMouseEnter",["mouseout","mouseover"]),zi("onMouseLeave",["mouseout","mouseover"]),zi("onPointerEnter",["pointerout","pointerover"]),zi("onPointerLeave",["pointerout","pointerover"]),Ks("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ks("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ks("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ks("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ks("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ks("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),H0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yr));function rg(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var r=t[s],c=r.event;r=r.listeners;t:{var h=void 0;if(n)for(var g=r.length-1;0<=g;g--){var v=r[g],N=v.instance,P=v.currentTarget;if(v=v.listener,N!==h&&c.isPropagationStopped())break t;h=v,c.currentTarget=P;try{h(c)}catch(I){ml(I)}c.currentTarget=null,h=N}else for(g=0;g<r.length;g++){if(v=r[g],N=v.instance,P=v.currentTarget,v=v.listener,N!==h&&c.isPropagationStopped())break t;h=v,c.currentTarget=P;try{h(c)}catch(I){ml(I)}c.currentTarget=null,h=N}}}}function Mt(t,n){var s=n[yc];s===void 0&&(s=n[yc]=new Set);var r=t+"__bubble";s.has(r)||(lg(n,t,2,!1),s.add(r))}function rh(t,n,s){var r=0;n&&(r|=4),lg(s,t,r,n)}var to="_reactListening"+Math.random().toString(36).slice(2);function lh(t){if(!t[to]){t[to]=!0,td.forEach(function(s){s!=="selectionchange"&&(H0.has(s)||rh(s,!1,t),rh(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[to]||(n[to]=!0,rh("selectionchange",!1,n))}}function lg(t,n,s,r){switch(Vg(n)){case 2:var c=g1;break;case 8:c=_1;break;default:c=Th}s=c.bind(null,n,s,t),c=void 0,!Cc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),r?c!==void 0?t.addEventListener(n,s,{capture:!0,passive:c}):t.addEventListener(n,s,!0):c!==void 0?t.addEventListener(n,s,{passive:c}):t.addEventListener(n,s,!1)}function oh(t,n,s,r,c){var h=r;if((n&1)===0&&(n&2)===0&&r!==null)t:for(;;){if(r===null)return;var g=r.tag;if(g===3||g===4){var v=r.stateNode.containerInfo;if(v===c)break;if(g===4)for(g=r.return;g!==null;){var N=g.tag;if((N===3||N===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;v!==null;){if(g=Ri(v),g===null)return;if(N=g.tag,N===5||N===6||N===26||N===27){r=h=g;continue t}v=v.parentNode}}r=r.return}fd(function(){var P=h,I=xc(s),Z=[];t:{var q=Ud.get(t);if(q!==void 0){var H=hl,ut=t;switch(t){case"keypress":if(cl(s)===0)break t;case"keydown":case"keyup":H=zv;break;case"focusin":ut="focus",H=Dc;break;case"focusout":ut="blur",H=Dc;break;case"beforeblur":case"afterblur":H=Dc;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=pd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Mv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=qv;break;case Vd:case Pd:case qd:H=Nv;break;case Bd:H=Uv;break;case"scroll":case"scrollend":H=Sv;break;case"wheel":H=Hv;break;case"copy":case"cut":case"paste":H=wv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=_d;break;case"toggle":case"beforetoggle":H=Iv}var pt=(n&4)!==0,Bt=!pt&&(t==="scroll"||t==="scrollend"),k=pt?q!==null?q+"Capture":null:q;pt=[];for(var w=P,V;w!==null;){var F=w;if(V=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||V===null||k===null||(F=Ua(w,k),F!=null&&pt.push(vr(w,F,V))),Bt)break;w=w.return}0<pt.length&&(q=new H(q,ut,null,s,I),Z.push({event:q,listeners:pt}))}}if((n&7)===0){t:{if(q=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",q&&s!==Ac&&(ut=s.relatedTarget||s.fromElement)&&(Ri(ut)||ut[Di]))break t;if((H||q)&&(q=I.window===I?I:(q=I.ownerDocument)?q.defaultView||q.parentWindow:window,H?(ut=s.relatedTarget||s.toElement,H=P,ut=ut?Ri(ut):null,ut!==null&&(Bt=u(ut),pt=ut.tag,ut!==Bt||pt!==5&&pt!==27&&pt!==6)&&(ut=null)):(H=null,ut=P),H!==ut)){if(pt=pd,F="onMouseLeave",k="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(pt=_d,F="onPointerLeave",k="onPointerEnter",w="pointer"),Bt=H==null?q:Ba(H),V=ut==null?q:Ba(ut),q=new pt(F,w+"leave",H,s,I),q.target=Bt,q.relatedTarget=V,F=null,Ri(I)===P&&(pt=new pt(k,w+"enter",ut,s,I),pt.target=V,pt.relatedTarget=Bt,F=pt),Bt=F,H&&ut)e:{for(pt=G0,k=H,w=ut,V=0,F=k;F;F=pt(F))V++;F=0;for(var dt=w;dt;dt=pt(dt))F++;for(;0<V-F;)k=pt(k),V--;for(;0<F-V;)w=pt(w),F--;for(;V--;){if(k===w||w!==null&&k===w.alternate){pt=k;break e}k=pt(k),w=pt(w)}pt=null}else pt=null;H!==null&&og(Z,q,H,pt,!1),ut!==null&&Bt!==null&&og(Z,Bt,ut,pt,!0)}}t:{if(q=P?Ba(P):window,H=q.nodeName&&q.nodeName.toLowerCase(),H==="select"||H==="input"&&q.type==="file")var Ot=xd;else if(Md(q))if(Nd)Ot=t0;else{Ot=Jv;var ht=Kv}else H=q.nodeName,!H||H.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?P&&Mc(P.elementType)&&(Ot=xd):Ot=$v;if(Ot&&(Ot=Ot(t,P))){Ad(Z,Ot,s,I);break t}ht&&ht(t,q,P),t==="focusout"&&P&&q.type==="number"&&P.memoizedProps.value!=null&&Tc(q,"number",q.value)}switch(ht=P?Ba(P):window,t){case"focusin":(Md(ht)||ht.contentEditable==="true")&&(Li=ht,Pc=P,Za=null);break;case"focusout":Za=Pc=Li=null;break;case"mousedown":qc=!0;break;case"contextmenu":case"mouseup":case"dragend":qc=!1,jd(Z,s,I);break;case"selectionchange":if(n0)break;case"keydown":case"keyup":jd(Z,s,I)}var bt;if(kc)t:{switch(t){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else Ui?Sd(t,s)&&(Nt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Nt="onCompositionStart");Nt&&(yd&&s.locale!=="ko"&&(Ui||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&Ui&&(bt=dd()):(_s=I,wc="value"in _s?_s.value:_s.textContent,Ui=!0)),ht=eo(P,Nt),0<ht.length&&(Nt=new gd(Nt,t,null,s,I),Z.push({event:Nt,listeners:ht}),bt?Nt.data=bt:(bt=Td(s),bt!==null&&(Nt.data=bt)))),(bt=Fv?Xv(t,s):Zv(t,s))&&(Nt=eo(P,"onBeforeInput"),0<Nt.length&&(ht=new gd("onBeforeInput","beforeinput",null,s,I),Z.push({event:ht,listeners:Nt}),ht.data=bt)),B0(Z,t,P,s,I)}rg(Z,n)})}function vr(t,n,s){return{instance:t,listener:n,currentTarget:s}}function eo(t,n){for(var s=n+"Capture",r=[];t!==null;){var c=t,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Ua(t,s),c!=null&&r.unshift(vr(t,c,h)),c=Ua(t,n),c!=null&&r.push(vr(t,c,h))),t.tag===3)return r;t=t.return}return[]}function G0(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function og(t,n,s,r,c){for(var h=n._reactName,g=[];s!==null&&s!==r;){var v=s,N=v.alternate,P=v.stateNode;if(v=v.tag,N!==null&&N===r)break;v!==5&&v!==26&&v!==27||P===null||(N=P,c?(P=Ua(s,h),P!=null&&g.unshift(vr(s,P,N))):c||(P=Ua(s,h),P!=null&&g.push(vr(s,P,N)))),s=s.return}g.length!==0&&t.push({event:n,listeners:g})}var I0=/\r\n?/g,Y0=/\u0000|\uFFFD/g;function cg(t){return(typeof t=="string"?t:""+t).replace(I0,`
`).replace(Y0,"")}function ug(t,n){return n=cg(n),cg(t)===n}function qt(t,n,s,r,c,h){switch(s){case"children":typeof r=="string"?n==="body"||n==="textarea"&&r===""||Pi(t,r):(typeof r=="number"||typeof r=="bigint")&&n!=="body"&&Pi(t,""+r);break;case"className":al(t,"class",r);break;case"tabIndex":al(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":al(t,s,r);break;case"style":ud(t,r,h);break;case"data":if(n!=="object"){al(t,"data",r);break}case"src":case"href":if(r===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(s);break}r=ll(""+r),t.setAttribute(s,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(s==="formAction"?(n!=="input"&&qt(t,n,"name",c.name,c,null),qt(t,n,"formEncType",c.formEncType,c,null),qt(t,n,"formMethod",c.formMethod,c,null),qt(t,n,"formTarget",c.formTarget,c,null)):(qt(t,n,"encType",c.encType,c,null),qt(t,n,"method",c.method,c,null),qt(t,n,"target",c.target,c,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(s);break}r=ll(""+r),t.setAttribute(s,r);break;case"onClick":r!=null&&(t.onclick=Fn);break;case"onScroll":r!=null&&Mt("scroll",t);break;case"onScrollEnd":r!=null&&Mt("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(a(61));if(s=r.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}s=ll(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(s,""+r):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":r===!0?t.setAttribute(s,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(s,r):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(s,r):t.removeAttribute(s);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(s):t.setAttribute(s,r);break;case"popover":Mt("beforetoggle",t),Mt("toggle",t),il(t,"popover",r);break;case"xlinkActuate":Yn(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Yn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Yn(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Yn(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Yn(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Yn(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Yn(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Yn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Yn(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":il(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=vv.get(s)||s,il(t,s,r))}}function ch(t,n,s,r,c,h){switch(s){case"style":ud(t,r,h);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(a(61));if(s=r.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof r=="string"?Pi(t,r):(typeof r=="number"||typeof r=="bigint")&&Pi(t,""+r);break;case"onScroll":r!=null&&Mt("scroll",t);break;case"onScrollEnd":r!=null&&Mt("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ed.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),h=t[Ue]||null,h=h!=null?h[s]:null,typeof h=="function"&&t.removeEventListener(n,h,c),typeof r=="function")){typeof h!="function"&&h!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,r,c);break t}s in t?t[s]=r:r===!0?t.setAttribute(s,""):il(t,s,r)}}}function Ce(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",t),Mt("load",t);var r=!1,c=!1,h;for(h in s)if(s.hasOwnProperty(h)){var g=s[h];if(g!=null)switch(h){case"src":r=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:qt(t,n,h,g,s,null)}}c&&qt(t,n,"srcSet",s.srcSet,s,null),r&&qt(t,n,"src",s.src,s,null);return;case"input":Mt("invalid",t);var v=h=g=c=null,N=null,P=null;for(r in s)if(s.hasOwnProperty(r)){var I=s[r];if(I!=null)switch(r){case"name":c=I;break;case"type":g=I;break;case"checked":N=I;break;case"defaultChecked":P=I;break;case"value":h=I;break;case"defaultValue":v=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(a(137,n));break;default:qt(t,n,r,I,s,null)}}rd(t,h,v,N,P,g,c,!1);return;case"select":Mt("invalid",t),r=g=h=null;for(c in s)if(s.hasOwnProperty(c)&&(v=s[c],v!=null))switch(c){case"value":h=v;break;case"defaultValue":g=v;break;case"multiple":r=v;default:qt(t,n,c,v,s,null)}n=h,s=g,t.multiple=!!r,n!=null?Vi(t,!!r,n,!1):s!=null&&Vi(t,!!r,s,!0);return;case"textarea":Mt("invalid",t),h=c=r=null;for(g in s)if(s.hasOwnProperty(g)&&(v=s[g],v!=null))switch(g){case"value":r=v;break;case"defaultValue":c=v;break;case"children":h=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(a(91));break;default:qt(t,n,g,v,s,null)}od(t,r,c,h);return;case"option":for(N in s)s.hasOwnProperty(N)&&(r=s[N],r!=null)&&(N==="selected"?t.selected=r&&typeof r!="function"&&typeof r!="symbol":qt(t,n,N,r,s,null));return;case"dialog":Mt("beforetoggle",t),Mt("toggle",t),Mt("cancel",t),Mt("close",t);break;case"iframe":case"object":Mt("load",t);break;case"video":case"audio":for(r=0;r<yr.length;r++)Mt(yr[r],t);break;case"image":Mt("error",t),Mt("load",t);break;case"details":Mt("toggle",t);break;case"embed":case"source":case"link":Mt("error",t),Mt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(r=s[P],r!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:qt(t,n,P,r,s,null)}return;default:if(Mc(n)){for(I in s)s.hasOwnProperty(I)&&(r=s[I],r!==void 0&&ch(t,n,I,r,s,void 0));return}}for(v in s)s.hasOwnProperty(v)&&(r=s[v],r!=null&&qt(t,n,v,r,s,null))}function F0(t,n,s,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,g=null,v=null,N=null,P=null,I=null;for(H in s){var Z=s[H];if(s.hasOwnProperty(H)&&Z!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":N=Z;default:r.hasOwnProperty(H)||qt(t,n,H,null,r,Z)}}for(var q in r){var H=r[q];if(Z=s[q],r.hasOwnProperty(q)&&(H!=null||Z!=null))switch(q){case"type":h=H;break;case"name":c=H;break;case"checked":P=H;break;case"defaultChecked":I=H;break;case"value":g=H;break;case"defaultValue":v=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==Z&&qt(t,n,q,H,r,Z)}}Sc(t,g,v,N,P,I,h,c);return;case"select":H=g=v=q=null;for(h in s)if(N=s[h],s.hasOwnProperty(h)&&N!=null)switch(h){case"value":break;case"multiple":H=N;default:r.hasOwnProperty(h)||qt(t,n,h,null,r,N)}for(c in r)if(h=r[c],N=s[c],r.hasOwnProperty(c)&&(h!=null||N!=null))switch(c){case"value":q=h;break;case"defaultValue":v=h;break;case"multiple":g=h;default:h!==N&&qt(t,n,c,h,r,N)}n=v,s=g,r=H,q!=null?Vi(t,!!s,q,!1):!!r!=!!s&&(n!=null?Vi(t,!!s,n,!0):Vi(t,!!s,s?[]:"",!1));return;case"textarea":H=q=null;for(v in s)if(c=s[v],s.hasOwnProperty(v)&&c!=null&&!r.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:qt(t,n,v,null,r,c)}for(g in r)if(c=r[g],h=s[g],r.hasOwnProperty(g)&&(c!=null||h!=null))switch(g){case"value":q=c;break;case"defaultValue":H=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==h&&qt(t,n,g,c,r,h)}ld(t,q,H);return;case"option":for(var ut in s)q=s[ut],s.hasOwnProperty(ut)&&q!=null&&!r.hasOwnProperty(ut)&&(ut==="selected"?t.selected=!1:qt(t,n,ut,null,r,q));for(N in r)q=r[N],H=s[N],r.hasOwnProperty(N)&&q!==H&&(q!=null||H!=null)&&(N==="selected"?t.selected=q&&typeof q!="function"&&typeof q!="symbol":qt(t,n,N,q,r,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in s)q=s[pt],s.hasOwnProperty(pt)&&q!=null&&!r.hasOwnProperty(pt)&&qt(t,n,pt,null,r,q);for(P in r)if(q=r[P],H=s[P],r.hasOwnProperty(P)&&q!==H&&(q!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:qt(t,n,P,q,r,H)}return;default:if(Mc(n)){for(var Bt in s)q=s[Bt],s.hasOwnProperty(Bt)&&q!==void 0&&!r.hasOwnProperty(Bt)&&ch(t,n,Bt,void 0,r,q);for(I in r)q=r[I],H=s[I],!r.hasOwnProperty(I)||q===H||q===void 0&&H===void 0||ch(t,n,I,q,r,H);return}}for(var k in s)q=s[k],s.hasOwnProperty(k)&&q!=null&&!r.hasOwnProperty(k)&&qt(t,n,k,null,r,q);for(Z in r)q=r[Z],H=s[Z],!r.hasOwnProperty(Z)||q===H||q==null&&H==null||qt(t,n,Z,q,r,H)}function hg(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function X0(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),r=0;r<s.length;r++){var c=s[r],h=c.transferSize,g=c.initiatorType,v=c.duration;if(h&&v&&hg(g)){for(g=0,v=c.responseEnd,r+=1;r<s.length;r++){var N=s[r],P=N.startTime;if(P>v)break;var I=N.transferSize,Z=N.initiatorType;I&&hg(Z)&&(N=N.responseEnd,g+=I*(N<v?1:(v-P)/(N-P)))}if(--r,n+=8*(h+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var uh=null,hh=null;function no(t){return t.nodeType===9?t:t.ownerDocument}function fg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dg(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function fh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var dh=null;function Z0(){var t=window.event;return t&&t.type==="popstate"?t===dh?!1:(dh=t,!0):(dh=null,!1)}var mg=typeof setTimeout=="function"?setTimeout:void 0,Q0=typeof clearTimeout=="function"?clearTimeout:void 0,pg=typeof Promise=="function"?Promise:void 0,W0=typeof queueMicrotask=="function"?queueMicrotask:typeof pg<"u"?function(t){return pg.resolve(null).then(t).catch(K0)}:mg;function K0(t){setTimeout(function(){throw t})}function js(t){return t==="head"}function gg(t,n){var s=n,r=0;do{var c=s.nextSibling;if(t.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(r===0){t.removeChild(c),ma(n);return}r--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")r++;else if(s==="html")br(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,br(s);for(var h=s.firstChild;h;){var g=h.nextSibling,v=h.nodeName;h[qa]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&h.rel.toLowerCase()==="stylesheet"||s.removeChild(h),h=g}}else s==="body"&&br(t.ownerDocument.body);s=c}while(s);ma(n)}function _g(t,n){var s=t;t=0;do{var r=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),r&&r.nodeType===8)if(s=r.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=r}while(s)}function mh(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":mh(s),vc(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function J0(t,n,s,r){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[qa])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=vn(t.nextSibling),t===null)break}return null}function $0(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=vn(t.nextSibling),t===null))return null;return t}function yg(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=vn(t.nextSibling),t===null))return null;return t}function ph(t){return t.data==="$?"||t.data==="$~"}function gh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function t1(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var r=function(){n(),s.removeEventListener("DOMContentLoaded",r)};s.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function vn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var _h=null;function vg(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return vn(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function bg(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function Sg(t,n,s){switch(n=no(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function br(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);vc(t)}var bn=new Map,Tg=new Set;function so(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var os=L.d;L.d={f:e1,r:n1,D:s1,C:i1,L:a1,m:r1,X:o1,S:l1,M:c1};function e1(){var t=os.f(),n=Zl();return t||n}function n1(t){var n=ki(t);n!==null&&n.tag===5&&n.type==="form"?Bm(n):os.r(t)}var ha=typeof document>"u"?null:document;function Mg(t,n,s){var r=ha;if(r&&typeof n=="string"&&n){var c=fn(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Tg.has(c)||(Tg.add(c),t={rel:t,crossOrigin:s,href:n},r.querySelector(c)===null&&(n=r.createElement("link"),Ce(n,"link",t),ye(n),r.head.appendChild(n)))}}function s1(t){os.D(t),Mg("dns-prefetch",t,null)}function i1(t,n){os.C(t,n),Mg("preconnect",t,n)}function a1(t,n,s){os.L(t,n,s);var r=ha;if(r&&t&&n){var c='link[rel="preload"][as="'+fn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+fn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+fn(s.imageSizes)+'"]')):c+='[href="'+fn(t)+'"]';var h=c;switch(n){case"style":h=fa(t);break;case"script":h=da(t)}bn.has(h)||(t=y({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),bn.set(h,t),r.querySelector(c)!==null||n==="style"&&r.querySelector(Sr(h))||n==="script"&&r.querySelector(Tr(h))||(n=r.createElement("link"),Ce(n,"link",t),ye(n),r.head.appendChild(n)))}}function r1(t,n){os.m(t,n);var s=ha;if(s&&t){var r=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+fn(r)+'"][href="'+fn(t)+'"]',h=c;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=da(t)}if(!bn.has(h)&&(t=y({rel:"modulepreload",href:t},n),bn.set(h,t),s.querySelector(c)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Tr(h)))return}r=s.createElement("link"),Ce(r,"link",t),ye(r),s.head.appendChild(r)}}}function l1(t,n,s){os.S(t,n,s);var r=ha;if(r&&t){var c=ji(r).hoistableStyles,h=fa(t);n=n||"default";var g=c.get(h);if(!g){var v={loading:0,preload:null};if(g=r.querySelector(Sr(h)))v.loading=5;else{t=y({rel:"stylesheet",href:t,"data-precedence":n},s),(s=bn.get(h))&&yh(t,s);var N=g=r.createElement("link");ye(N),Ce(N,"link",t),N._p=new Promise(function(P,I){N.onload=P,N.onerror=I}),N.addEventListener("load",function(){v.loading|=1}),N.addEventListener("error",function(){v.loading|=2}),v.loading|=4,io(g,n,r)}g={type:"stylesheet",instance:g,count:1,state:v},c.set(h,g)}}}function o1(t,n){os.X(t,n);var s=ha;if(s&&t){var r=ji(s).hoistableScripts,c=da(t),h=r.get(c);h||(h=s.querySelector(Tr(c)),h||(t=y({src:t,async:!0},n),(n=bn.get(c))&&vh(t,n),h=s.createElement("script"),ye(h),Ce(h,"link",t),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},r.set(c,h))}}function c1(t,n){os.M(t,n);var s=ha;if(s&&t){var r=ji(s).hoistableScripts,c=da(t),h=r.get(c);h||(h=s.querySelector(Tr(c)),h||(t=y({src:t,async:!0,type:"module"},n),(n=bn.get(c))&&vh(t,n),h=s.createElement("script"),ye(h),Ce(h,"link",t),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},r.set(c,h))}}function Ag(t,n,s,r){var c=(c=ct.current)?so(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=fa(s.href),s=ji(c).hoistableStyles,r=s.get(n),r||(r={type:"style",instance:null,count:0,state:null},s.set(n,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=fa(s.href);var h=ji(c).hoistableStyles,g=h.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,g),(h=c.querySelector(Sr(t)))&&!h._p&&(g.instance=h,g.state.loading=5),bn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},bn.set(t,s),h||u1(c,t,s,g.state))),n&&r===null)throw Error(a(528,""));return g}if(n&&r!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=da(s),s=ji(c).hoistableScripts,r=s.get(n),r||(r={type:"script",instance:null,count:0,state:null},s.set(n,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function fa(t){return'href="'+fn(t)+'"'}function Sr(t){return'link[rel="stylesheet"]['+t+"]"}function xg(t){return y({},t,{"data-precedence":t.precedence,precedence:null})}function u1(t,n,s,r){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?r.loading=1:(n=t.createElement("link"),r.preload=n,n.addEventListener("load",function(){return r.loading|=1}),n.addEventListener("error",function(){return r.loading|=2}),Ce(n,"link",s),ye(n),t.head.appendChild(n))}function da(t){return'[src="'+fn(t)+'"]'}function Tr(t){return"script[async]"+t}function Ng(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var r=t.querySelector('style[data-href~="'+fn(s.href)+'"]');if(r)return n.instance=r,ye(r),r;var c=y({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),ye(r),Ce(r,"style",c),io(r,s.precedence,t),n.instance=r;case"stylesheet":c=fa(s.href);var h=t.querySelector(Sr(c));if(h)return n.state.loading|=4,n.instance=h,ye(h),h;r=xg(s),(c=bn.get(c))&&yh(r,c),h=(t.ownerDocument||t).createElement("link"),ye(h);var g=h;return g._p=new Promise(function(v,N){g.onload=v,g.onerror=N}),Ce(h,"link",r),n.state.loading|=4,io(h,s.precedence,t),n.instance=h;case"script":return h=da(s.src),(c=t.querySelector(Tr(h)))?(n.instance=c,ye(c),c):(r=s,(c=bn.get(h))&&(r=y({},s),vh(r,c)),t=t.ownerDocument||t,c=t.createElement("script"),ye(c),Ce(c,"link",r),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(r=n.instance,n.state.loading|=4,io(r,s.precedence,t));return n.instance}function io(t,n,s){for(var r=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=r.length?r[r.length-1]:null,h=c,g=0;g<r.length;g++){var v=r[g];if(v.dataset.precedence===n)h=v;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function yh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function vh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var ao=null;function Cg(t,n,s){if(ao===null){var r=new Map,c=ao=new Map;c.set(s,r)}else c=ao,r=c.get(s),r||(r=new Map,c.set(s,r));if(r.has(t))return r;for(r.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var h=s[c];if(!(h[qa]||h[Me]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var g=h.getAttribute(n)||"";g=t+g;var v=r.get(g);v?v.push(h):r.set(g,[h])}}return r}function wg(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function h1(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Eg(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function f1(t,n,s,r){if(s.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=fa(r.href),h=n.querySelector(Sr(c));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=ro.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=h,ye(h);return}h=n.ownerDocument||n,r=xg(r),(c=bn.get(c))&&yh(r,c),h=h.createElement("link"),ye(h);var g=h;g._p=new Promise(function(v,N){g.onload=v,g.onerror=N}),Ce(h,"link",r),s.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=ro.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var bh=0;function d1(t,n){return t.stylesheets&&t.count===0&&oo(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var r=setTimeout(function(){if(t.stylesheets&&oo(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+n);0<t.imgBytes&&bh===0&&(bh=62500*X0());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&oo(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>bh?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(c)}}:null}function ro(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)oo(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var lo=null;function oo(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,lo=new Map,n.forEach(m1,t),lo=null,ro.call(t))}function m1(t,n){if(!(n.state.loading&4)){var s=lo.get(t);if(s)var r=s.get(null);else{s=new Map,lo.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var g=c[h];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),r=g)}r&&s.set(null,r)}c=n.instance,g=c.getAttribute("data-precedence"),h=s.get(g)||r,h===r&&s.set(null,c),s.set(g,c),this.count++,r=ro.bind(this),c.addEventListener("load",r),c.addEventListener("error",r),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Mr={$$typeof:U,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function p1(t,n,s,r,c,h,g,v,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pc(0),this.hiddenUpdates=pc(null),this.identifierPrefix=r,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Og(t,n,s,r,c,h,g,v,N,P,I,Z){return t=new p1(t,n,s,g,N,P,I,Z,v),n=1,h===!0&&(n|=24),h=Je(3,null,null,n),t.current=h,h.stateNode=t,n=$c(),n.refCount++,t.pooledCache=n,n.refCount++,h.memoizedState={element:r,isDehydrated:s,cache:n},su(h),t}function Dg(t){return t?(t=Ii,t):Ii}function Rg(t,n,s,r,c,h){c=Dg(c),r.context===null?r.context=c:r.pendingContext=c,r=Ms(n),r.payload={element:s},h=h===void 0?null:h,h!==null&&(r.callback=h),s=As(t,r,n),s!==null&&(Fe(s,t,n),er(s,t,n))}function kg(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Sh(t,n){kg(t,n),(t=t.alternate)&&kg(t,n)}function jg(t){if(t.tag===13||t.tag===31){var n=ei(t,67108864);n!==null&&Fe(n,t,67108864),Sh(t,67108864)}}function zg(t){if(t.tag===13||t.tag===31){var n=sn();n=gc(n);var s=ei(t,n);s!==null&&Fe(s,t,n),Sh(t,n)}}var co=!0;function g1(t,n,s,r){var c=O.T;O.T=null;var h=L.p;try{L.p=2,Th(t,n,s,r)}finally{L.p=h,O.T=c}}function _1(t,n,s,r){var c=O.T;O.T=null;var h=L.p;try{L.p=8,Th(t,n,s,r)}finally{L.p=h,O.T=c}}function Th(t,n,s,r){if(co){var c=Mh(r);if(c===null)oh(t,n,r,uo,s),Pg(t,r);else if(v1(c,t,n,s,r))r.stopPropagation();else if(Pg(t,r),n&4&&-1<y1.indexOf(t)){for(;c!==null;){var h=ki(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var g=Ws(h.pendingLanes);if(g!==0){var v=h;for(v.pendingLanes|=2,v.entangledLanes|=2;g;){var N=1<<31-We(g);v.entanglements[1]|=N,g&=~N}Bn(h),(Rt&6)===0&&(Fl=me()+500,_r(0))}}break;case 31:case 13:v=ei(h,2),v!==null&&Fe(v,h,2),Zl(),Sh(h,2)}if(h=Mh(r),h===null&&oh(t,n,r,uo,s),h===c)break;c=h}c!==null&&r.stopPropagation()}else oh(t,n,r,null,s)}}function Mh(t){return t=xc(t),Ah(t)}var uo=null;function Ah(t){if(uo=null,t=Ri(t),t!==null){var n=u(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=f(n),t!==null)return t;t=null}else if(s===31){if(t=d(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return uo=t,null}function Vg(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(za()){case Ei:return 2;case Jr:return 8;case Oi:case fc:return 32;case $r:return 268435456;default:return 32}default:return 32}}var xh=!1,zs=null,Vs=null,Ps=null,Ar=new Map,xr=new Map,qs=[],y1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pg(t,n){switch(t){case"focusin":case"focusout":zs=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":Ps=null;break;case"pointerover":case"pointerout":Ar.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":xr.delete(n.pointerId)}}function Nr(t,n,s,r,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:s,eventSystemFlags:r,nativeEvent:h,targetContainers:[c]},n!==null&&(n=ki(n),n!==null&&jg(n)),t):(t.eventSystemFlags|=r,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function v1(t,n,s,r,c){switch(n){case"focusin":return zs=Nr(zs,t,n,s,r,c),!0;case"dragenter":return Vs=Nr(Vs,t,n,s,r,c),!0;case"mouseover":return Ps=Nr(Ps,t,n,s,r,c),!0;case"pointerover":var h=c.pointerId;return Ar.set(h,Nr(Ar.get(h)||null,t,n,s,r,c)),!0;case"gotpointercapture":return h=c.pointerId,xr.set(h,Nr(xr.get(h)||null,t,n,s,r,c)),!0}return!1}function qg(t){var n=Ri(t.target);if(n!==null){var s=u(n);if(s!==null){if(n=s.tag,n===13){if(n=f(s),n!==null){t.blockedOn=n,Jf(t.priority,function(){zg(s)});return}}else if(n===31){if(n=d(s),n!==null){t.blockedOn=n,Jf(t.priority,function(){zg(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ho(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Mh(t.nativeEvent);if(s===null){s=t.nativeEvent;var r=new s.constructor(s.type,s);Ac=r,s.target.dispatchEvent(r),Ac=null}else return n=ki(s),n!==null&&jg(n),t.blockedOn=s,!1;n.shift()}return!0}function Bg(t,n,s){ho(t)&&s.delete(n)}function b1(){xh=!1,zs!==null&&ho(zs)&&(zs=null),Vs!==null&&ho(Vs)&&(Vs=null),Ps!==null&&ho(Ps)&&(Ps=null),Ar.forEach(Bg),xr.forEach(Bg)}function fo(t,n){t.blockedOn===n&&(t.blockedOn=null,xh||(xh=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,b1)))}var mo=null;function Ug(t){mo!==t&&(mo=t,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){mo===t&&(mo=null);for(var n=0;n<t.length;n+=3){var s=t[n],r=t[n+1],c=t[n+2];if(typeof r!="function"){if(Ah(r||s)===null)continue;break}var h=ki(s);h!==null&&(t.splice(n,3),n-=3,Mu(h,{pending:!0,data:c,method:s.method,action:r},r,c))}}))}function ma(t){function n(N){return fo(N,t)}zs!==null&&fo(zs,t),Vs!==null&&fo(Vs,t),Ps!==null&&fo(Ps,t),Ar.forEach(n),xr.forEach(n);for(var s=0;s<qs.length;s++){var r=qs[s];r.blockedOn===t&&(r.blockedOn=null)}for(;0<qs.length&&(s=qs[0],s.blockedOn===null);)qg(s),s.blockedOn===null&&qs.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(r=0;r<s.length;r+=3){var c=s[r],h=s[r+1],g=c[Ue]||null;if(typeof h=="function")g||Ug(s);else if(g){var v=null;if(h&&h.hasAttribute("formAction")){if(c=h,g=h[Ue]||null)v=g.formAction;else if(Ah(c)!==null)continue}else v=g.action;typeof v=="function"?s[r+1]=v:(s.splice(r,3),r-=3),Ug(s)}}}function Lg(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),r||setTimeout(s,20)}function s(){if(!r&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Nh(t){this._internalRoot=t}po.prototype.render=Nh.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,r=sn();Rg(s,r,t,n,null,null)},po.prototype.unmount=Nh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Rg(t.current,2,null,t,null,null),Zl(),n[Di]=null}};function po(t){this._internalRoot=t}po.prototype.unstable_scheduleHydration=function(t){if(t){var n=Kf();t={blockedOn:null,target:t,priority:n};for(var s=0;s<qs.length&&n!==0&&n<qs[s].priority;s++);qs.splice(s,0,t),s===0&&qg(t)}};var Hg=e.version;if(Hg!=="19.2.4")throw Error(a(527,Hg,"19.2.4"));L.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=p(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var S1={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var go=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!go.isDisabled&&go.supportsFiber)try{ps=go.inject(S1),Ee=go}catch{}}return wr.createRoot=function(t,n){if(!o(t))throw Error(a(299));var s=!1,r="",c=Qm,h=Wm,g=Km;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=Og(t,1,!1,null,null,s,r,null,c,h,g,Lg),t[Di]=n.current,lh(t),new Nh(n)},wr.hydrateRoot=function(t,n,s){if(!o(t))throw Error(a(299));var r=!1,c="",h=Qm,g=Wm,v=Km,N=null;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError),s.formState!==void 0&&(N=s.formState)),n=Og(t,1,!0,n,s??null,r,c,N,h,g,v,Lg),n.context=Dg(null),s=n.current,r=sn(),r=gc(r),c=Ms(r),c.callback=null,As(s,c,r),s=r,n.current.lanes=s,Pa(n,s),Bn(n),t[Di]=n.current,lh(t),new po(n)},wr.version="19.2.4",wr}var Jg;function D1(){if(Jg)return Eh.exports;Jg=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(e){console.error(e)}}return l(),Eh.exports=O1(),Eh.exports}var R1=D1();const $g=l=>{let e;const i=new Set,a=(p,_)=>{const y=typeof p=="function"?p(e):p;if(!Object.is(y,e)){const b=e;e=_??(typeof y!="object"||y===null)?y:Object.assign({},e,y),i.forEach(S=>S(e,b))}},o=()=>e,d={setState:a,getState:o,getInitialState:()=>m,subscribe:p=>(i.add(p),()=>i.delete(p))},m=e=l(a,o,d);return d},k1=(l=>l?$g(l):$g),j1=l=>l;function z1(l,e=j1){const i=_o.useSyncExternalStore(l.subscribe,_o.useCallback(()=>e(l.getState()),[l,e]),_o.useCallback(()=>e(l.getInitialState()),[l,e]));return _o.useDebugValue(i),i}const t_=l=>{const e=k1(l),i=a=>z1(e,a);return Object.assign(i,e),i},Go=(l=>l?t_(l):t_),ke=Go(l=>({selectedRoot:"C",selectedScaleId:"major",selectedTuningId:"standard",selectedGenreId:null,customTuning:null,showAllNotes:!1,highlightRoot:!0,theme:localStorage.getItem("plucky-theme")||"dark",selectedPosition:null,sidebarOpen:!1,setRoot:e=>l({selectedRoot:e,selectedPosition:null}),setScale:e=>l({selectedScaleId:e,selectedPosition:null}),setTuning:e=>l({selectedTuningId:e,selectedPosition:null}),setGenre:e=>l({selectedGenreId:e}),setCustomTuning:e=>l({customTuning:e,selectedPosition:null}),setShowAllNotes:e=>l({showAllNotes:e}),setHighlightRoot:e=>l({highlightRoot:e}),setTheme:e=>{localStorage.setItem("plucky-theme",e),l({theme:e})},setPosition:e=>l({selectedPosition:e}),setSidebarOpen:e=>l({sidebarOpen:e})})),j_="15.1.22",e_=(l,e,i)=>({endTime:e,insertTime:i,type:"exponentialRampToValue",value:l}),n_=(l,e,i)=>({endTime:e,insertTime:i,type:"linearRampToValue",value:l}),Uh=(l,e)=>({startTime:e,type:"setValue",value:l}),z_=(l,e,i)=>({duration:i,startTime:e,type:"setValueCurve",values:l}),V_=(l,e,{startTime:i,target:a,timeConstant:o})=>a+(e-a)*Math.exp((i-l)/o),ga=l=>l.type==="exponentialRampToValue",Eo=l=>l.type==="linearRampToValue",Ls=l=>ga(l)||Eo(l),af=l=>l.type==="setValue",cs=l=>l.type==="setValueCurve",Oo=(l,e,i,a)=>{const o=l[e];return o===void 0?a:Ls(o)||af(o)?o.value:cs(o)?o.values[o.values.length-1]:V_(i,Oo(l,e-1,o.startTime,a),o)},s_=(l,e,i,a,o)=>i===void 0?[a.insertTime,o]:Ls(i)?[i.endTime,i.value]:af(i)?[i.startTime,i.value]:cs(i)?[i.startTime+i.duration,i.values[i.values.length-1]]:[i.startTime,Oo(l,e-1,i.startTime,o)],Lh=l=>l.type==="cancelAndHold",Hh=l=>l.type==="cancelScheduledValues",Us=l=>Lh(l)||Hh(l)?l.cancelTime:ga(l)||Eo(l)?l.endTime:l.startTime,i_=(l,e,i,{endTime:a,value:o})=>i===o?o:0<i&&0<o||i<0&&o<0?i*(o/i)**((l-e)/(a-e)):0,a_=(l,e,i,{endTime:a,value:o})=>i+(l-e)/(a-e)*(o-i),V1=(l,e)=>{const i=Math.floor(e),a=Math.ceil(e);return i===a?l[i]:(1-(e-i))*l[i]+(1-(a-e))*l[a]},P1=(l,{duration:e,startTime:i,values:a})=>{const o=(l-i)/e*(a.length-1);return V1(a,o)},yo=l=>l.type==="setTarget";class q1{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const i=Us(e);if(Lh(e)||Hh(e)){const a=this._automationEvents.findIndex(u=>Hh(e)&&cs(u)?u.startTime+u.duration>=i:Us(u)>=i),o=this._automationEvents[a];if(a!==-1&&(this._automationEvents=this._automationEvents.slice(0,a)),Lh(e)){const u=this._automationEvents[this._automationEvents.length-1];if(o!==void 0&&Ls(o)){if(u!==void 0&&yo(u))throw new Error("The internal list is malformed.");const f=u===void 0?o.insertTime:cs(u)?u.startTime+u.duration:Us(u),d=u===void 0?this._defaultValue:cs(u)?u.values[u.values.length-1]:u.value,m=ga(o)?i_(i,f,d,o):a_(i,f,d,o),p=ga(o)?e_(m,i,this._currenTime):n_(m,i,this._currenTime);this._automationEvents.push(p)}if(u!==void 0&&yo(u)&&this._automationEvents.push(Uh(this.getValue(i),i)),u!==void 0&&cs(u)&&u.startTime+u.duration>i){const f=i-u.startTime,d=(u.values.length-1)/u.duration,m=Math.max(2,1+Math.ceil(f*d)),p=f/(m-1)*d,_=u.values.slice(0,m);if(p<1)for(let y=1;y<m;y+=1){const b=p*y%1;_[y]=u.values[y-1]*(1-b)+u.values[y]*b}this._automationEvents[this._automationEvents.length-1]=z_(_,u.startTime,f)}}}else{const a=this._automationEvents.findIndex(f=>Us(f)>i),o=a===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[a-1];if(o!==void 0&&cs(o)&&Us(o)+o.duration>i)return!1;const u=ga(e)?e_(e.value,e.endTime,this._currenTime):Eo(e)?n_(e.value,i,this._currenTime):e;if(a===-1)this._automationEvents.push(u);else{if(cs(e)&&i+e.duration>Us(this._automationEvents[a]))return!1;this._automationEvents.splice(a,0,u)}}return!0}flush(e){const i=this._automationEvents.findIndex(a=>Us(a)>e);if(i>1){const a=this._automationEvents.slice(i-1),o=a[0];yo(o)&&a.unshift(Uh(Oo(this._automationEvents,i-2,o.startTime,this._defaultValue),o.startTime)),this._automationEvents=a}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const i=this._automationEvents.findIndex(f=>Us(f)>e),a=this._automationEvents[i],o=(i===-1?this._automationEvents.length:i)-1,u=this._automationEvents[o];if(u!==void 0&&yo(u)&&(a===void 0||!Ls(a)||a.insertTime>e))return V_(e,Oo(this._automationEvents,o-1,u.startTime,this._defaultValue),u);if(u!==void 0&&af(u)&&(a===void 0||!Ls(a)))return u.value;if(u!==void 0&&cs(u)&&(a===void 0||!Ls(a)||u.startTime+u.duration>e))return e<u.startTime+u.duration?P1(e,u):u.values[u.values.length-1];if(u!==void 0&&Ls(u)&&(a===void 0||!Ls(a)))return u.value;if(a!==void 0&&ga(a)){const[f,d]=s_(this._automationEvents,o,u,a,this._defaultValue);return i_(e,f,d,a)}if(a!==void 0&&Eo(a)){const[f,d]=s_(this._automationEvents,o,u,a,this._defaultValue);return a_(e,f,d,a)}return this._defaultValue}}const B1=l=>({cancelTime:l,type:"cancelAndHold"}),U1=l=>({cancelTime:l,type:"cancelScheduledValues"}),L1=(l,e)=>({endTime:e,type:"exponentialRampToValue",value:l}),H1=(l,e)=>({endTime:e,type:"linearRampToValue",value:l}),G1=(l,e,i)=>({startTime:e,target:l,timeConstant:i,type:"setTarget"}),I1=()=>new DOMException("","AbortError"),Y1=l=>(e,i,[a,o,u],f)=>{l(e[o],[i,a,u],d=>d[0]===i&&d[1]===a,f)},F1=l=>(e,i,a)=>{const o=[];for(let u=0;u<a.numberOfInputs;u+=1)o.push(new Set);l.set(e,{activeInputs:o,outputs:new Set,passiveInputs:new WeakMap,renderer:i})},X1=l=>(e,i)=>{l.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:i})},Sa=new WeakSet,P_=new WeakMap,rf=new WeakMap,q_=new WeakMap,lf=new WeakMap,Io=new WeakMap,B_=new WeakMap,Gh=new WeakMap,Ih=new WeakMap,Yh=new WeakMap,U_={construct(){return U_}},Z1=l=>{try{const e=new Proxy(l,U_);new e}catch{return!1}return!0},r_=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,l_=(l,e)=>{const i=[];let a=l.replace(/^[\s]+/,""),o=a.match(r_);for(;o!==null;){const u=o[1].slice(1,-1),f=o[0].replace(/([\s]+)?;?$/,"").replace(u,new URL(u,e).toString());i.push(f),a=a.slice(o[0].length).replace(/^[\s]+/,""),o=a.match(r_)}return[i.join(";"),a]},o_=l=>{if(l!==void 0&&!Array.isArray(l))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},c_=l=>{if(!Z1(l))throw new TypeError("The given value for processorCtor should be a constructor.");if(l.prototype===null||typeof l.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},Q1=(l,e,i,a,o,u,f,d,m,p,_,y,b)=>{let S=0;return(T,M,x={credentials:"omit"})=>{const C=_.get(T);if(C!==void 0&&C.has(M))return Promise.resolve();const G=p.get(T);if(G!==void 0){const E=G.get(M);if(E!==void 0)return E}const U=u(T),X=U.audioWorklet===void 0?o(M).then(([E,z])=>{const[j,R]=l_(E,z),W=`${j};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${R}
})})(window,'_AWGS')`;return i(W)}).then(()=>{const E=b._AWGS.pop();if(E===void 0)throw new SyntaxError;a(U.currentTime,U.sampleRate,()=>E(class{},void 0,(z,j)=>{if(z.trim()==="")throw e();const R=Ih.get(U);if(R!==void 0){if(R.has(z))throw e();c_(j),o_(j.parameterDescriptors),R.set(z,j)}else c_(j),o_(j.parameterDescriptors),Ih.set(U,new Map([[z,j]]))},U.sampleRate,void 0,void 0))}):Promise.all([o(M),Promise.resolve(l(y,y))]).then(([[E,z],j])=>{const R=S+1;S=R;const[W,K]=l_(E,z),tt=`${W};((AudioWorkletProcessor,registerProcessor)=>{${K}
})(${j?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${j?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${j?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${R}',class extends AudioWorkletProcessor{process(){return !1}})`,ot=new Blob([tt],{type:"application/javascript; charset=utf-8"}),O=URL.createObjectURL(ot);return U.audioWorklet.addModule(O,x).then(()=>{if(d(U))return U;const L=f(U);return L.audioWorklet.addModule(O,x).then(()=>L)}).then(L=>{if(m===null)throw new SyntaxError;try{new m(L,`__sac${R}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(O))});return G===void 0?p.set(T,new Map([[M,X]])):G.set(M,X),X.then(()=>{const E=_.get(T);E===void 0?_.set(T,new Set([M])):E.add(M)}).finally(()=>{const E=p.get(T);E!==void 0&&E.delete(M)}),X}},On=(l,e)=>{const i=l.get(e);if(i===void 0)throw new Error("A value with the given key could not be found.");return i},Yo=(l,e)=>{const i=Array.from(l).filter(e);if(i.length>1)throw Error("More than one element was found.");if(i.length===0)throw Error("No element was found.");const[a]=i;return l.delete(a),a},L_=(l,e,i,a)=>{const o=On(l,e),u=Yo(o,f=>f[0]===i&&f[1]===a);return o.size===0&&l.delete(e),u},Ur=l=>On(B_,l),Ta=l=>{if(Sa.has(l))throw new Error("The AudioNode is already stored.");Sa.add(l),Ur(l).forEach(e=>e(!0))},H_=l=>"port"in l,Lr=l=>{if(!Sa.has(l))throw new Error("The AudioNode is not stored.");Sa.delete(l),Ur(l).forEach(e=>e(!1))},Fh=(l,e)=>{!H_(l)&&e.every(i=>i.size===0)&&Lr(l)},W1=(l,e,i,a,o,u,f,d,m,p,_,y,b)=>{const S=new WeakMap;return(T,M,x,C,G)=>{const{activeInputs:U,passiveInputs:X}=u(M),{outputs:E}=u(T),z=d(T),j=R=>{const W=m(M),K=m(T);if(R){const Q=L_(X,T,x,C);l(U,T,Q,!1),!G&&!y(T)&&i(K,W,x,C),b(M)&&Ta(M)}else{const Q=a(U,T,x,C);e(X,C,Q,!1),!G&&!y(T)&&o(K,W,x,C);const Y=f(M);if(Y===0)_(M)&&Fh(M,U);else{const st=S.get(M);st!==void 0&&clearTimeout(st),S.set(M,setTimeout(()=>{_(M)&&Fh(M,U)},Y*1e3))}}};return p(E,[M,x,C],R=>R[0]===M&&R[1]===x&&R[2]===C,!0)?(z.add(j),_(T)?l(U,T,[x,C,j],!0):e(X,C,[T,x,j],!0),!0):!1}},K1=l=>(e,i,[a,o,u],f)=>{const d=e.get(a);d===void 0?e.set(a,new Set([[o,i,u]])):l(d,[o,i,u],m=>m[0]===o&&m[1]===i,f)},J1=l=>(e,i)=>{const a=l(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});i.connect(a).connect(e.destination);const o=()=>{i.removeEventListener("ended",o),i.disconnect(a),a.disconnect()};i.addEventListener("ended",o)},$1=l=>(e,i)=>{l(e).add(i)},tb={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},eb=(l,e,i,a,o,u)=>class extends l{constructor(d,m){const p=o(d),_={...tb,...m},y=a(p,_),b=u(p)?e():null;super(d,!1,y,b),this._nativeAnalyserNode=y}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(d){this._nativeAnalyserNode.fftSize=d}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(d){const m=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=d,!(d>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=m,i()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(d){const m=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=d,!(this._nativeAnalyserNode.maxDecibels>d))throw this._nativeAnalyserNode.minDecibels=m,i()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(d){this._nativeAnalyserNode.smoothingTimeConstant=d}getByteFrequencyData(d){this._nativeAnalyserNode.getByteFrequencyData(d)}getByteTimeDomainData(d){this._nativeAnalyserNode.getByteTimeDomainData(d)}getFloatFrequencyData(d){this._nativeAnalyserNode.getFloatFrequencyData(d)}getFloatTimeDomainData(d){this._nativeAnalyserNode.getFloatTimeDomainData(d)}},je=(l,e)=>l.context===e,nb=(l,e,i)=>()=>{const a=new WeakMap,o=async(u,f)=>{let d=e(u);if(!je(d,f)){const p={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,fftSize:d.fftSize,maxDecibels:d.maxDecibels,minDecibels:d.minDecibels,smoothingTimeConstant:d.smoothingTimeConstant};d=l(f,p)}return a.set(f,d),await i(u,f,d),d};return{render(u,f){const d=a.get(f);return d!==void 0?Promise.resolve(d):o(u,f)}}},Do=l=>{try{l.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Ln=()=>new DOMException("","IndexSizeError"),of=l=>{l.getChannelData=(e=>i=>{try{return e.call(l,i)}catch(a){throw a.code===12?Ln():a}})(l.getChannelData)},sb={numberOfChannels:1},ib=(l,e,i,a,o,u,f,d)=>{let m=null;return class G_{constructor(_){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:y,numberOfChannels:b,sampleRate:S}={...sb,..._};m===null&&(m=new o(1,1,44100));const T=a!==null&&e(u,u)?new a({length:y,numberOfChannels:b,sampleRate:S}):m.createBuffer(b,y,S);if(T.numberOfChannels===0)throw i();return typeof T.copyFromChannel!="function"?(f(T),of(T)):e(Do,()=>Do(T))||d(T),l.add(T),T}static[Symbol.hasInstance](_){return _!==null&&typeof _=="object"&&Object.getPrototypeOf(_)===G_.prototype||l.has(_)}}},Xe=-34028234663852886e22,Ve=-Xe,us=l=>Sa.has(l),ab={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},rb=(l,e,i,a,o,u,f,d)=>class extends l{constructor(p,_){const y=u(p),b={...ab,..._},S=o(y,b),T=f(y),M=T?e():null;super(p,!1,S,M),this._audioBufferSourceNodeRenderer=M,this._isBufferNullified=!1,this._isBufferSet=b.buffer!==null,this._nativeAudioBufferSourceNode=S,this._onended=null,this._playbackRate=i(this,T,S.playbackRate,Ve,Xe)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(p){if(this._nativeAudioBufferSourceNode.buffer=p,p!==null){if(this._isBufferSet)throw a();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(p){this._nativeAudioBufferSourceNode.loop=p}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(p){this._nativeAudioBufferSourceNode.loopEnd=p}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(p){this._nativeAudioBufferSourceNode.loopStart=p}get onended(){return this._onended}set onended(p){const _=typeof p=="function"?d(this,p):null;this._nativeAudioBufferSourceNode.onended=_;const y=this._nativeAudioBufferSourceNode.onended;this._onended=y!==null&&y===_?p:y}get playbackRate(){return this._playbackRate}start(p=0,_=0,y){if(this._nativeAudioBufferSourceNode.start(p,_,y),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=y===void 0?[p,_]:[p,_,y]),this.context.state!=="closed"){Ta(this);const b=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",b),us(this)&&Lr(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",b)}}stop(p=0){this._nativeAudioBufferSourceNode.stop(p),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=p)}},lb=(l,e,i,a,o)=>()=>{const u=new WeakMap;let f=null,d=null;const m=async(p,_)=>{let y=i(p);const b=je(y,_);if(!b){const S={buffer:y.buffer,channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,loop:y.loop,loopEnd:y.loopEnd,loopStart:y.loopStart,playbackRate:y.playbackRate.value};y=e(_,S),f!==null&&y.start(...f),d!==null&&y.stop(d)}return u.set(_,y),b?await l(_,p.playbackRate,y.playbackRate):await a(_,p.playbackRate,y.playbackRate),await o(p,_,y),y};return{set start(p){f=p},set stop(p){d=p},render(p,_){const y=u.get(_);return y!==void 0?Promise.resolve(y):m(p,_)}}},ob=l=>"playbackRate"in l,cb=l=>"frequency"in l&&"gain"in l,ub=l=>"offset"in l,hb=l=>!("frequency"in l)&&"gain"in l,fb=l=>"detune"in l&&"frequency"in l&&!("gain"in l),db=l=>"pan"in l,Pe=l=>On(P_,l),Hr=l=>On(q_,l),Xh=(l,e)=>{const{activeInputs:i}=Pe(l);i.forEach(o=>o.forEach(([u])=>{e.includes(l)||Xh(u,[...e,l])}));const a=ob(l)?[l.playbackRate]:H_(l)?Array.from(l.parameters.values()):cb(l)?[l.Q,l.detune,l.frequency,l.gain]:ub(l)?[l.offset]:hb(l)?[l.gain]:fb(l)?[l.detune,l.frequency]:db(l)?[l.pan]:[];for(const o of a){const u=Hr(o);u!==void 0&&u.activeInputs.forEach(([f])=>Xh(f,e))}us(l)&&Lr(l)},I_=l=>{Xh(l.destination,[])},mb=l=>l===void 0||typeof l=="number"||typeof l=="string"&&(l==="balanced"||l==="interactive"||l==="playback"),pb=(l,e,i,a,o,u,f,d,m)=>class extends l{constructor(_={}){if(m===null)throw new Error("Missing the native AudioContext constructor.");let y;try{y=new m(_)}catch(T){throw T.code===12&&T.message==="sampleRate is not in range"?i():T}if(y===null)throw a();if(!mb(_.latencyHint))throw new TypeError(`The provided value '${_.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(_.sampleRate!==void 0&&y.sampleRate!==_.sampleRate)throw i();super(y,2);const{latencyHint:b}=_,{sampleRate:S}=y;if(this._baseLatency=typeof y.baseLatency=="number"?y.baseLatency:b==="balanced"?512/S:b==="interactive"||b===void 0?256/S:b==="playback"?1024/S:Math.max(2,Math.min(128,Math.round(b*S/128)))*128/S,this._nativeAudioContext=y,m.name==="webkitAudioContext"?(this._nativeGainNode=y.createGain(),this._nativeOscillatorNode=y.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(y.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,y.state==="running"){this._state="suspended";const T=()=>{this._state==="suspended"&&(this._state=null),y.removeEventListener("statechange",T)};y.addEventListener("statechange",T)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),I_(this)}))}createMediaElementSource(_){return new o(this,{mediaElement:_})}createMediaStreamDestination(){return new u(this)}createMediaStreamSource(_){return new f(this,{mediaStream:_})}createMediaStreamTrackSource(_){return new d(this,{mediaStreamTrack:_})}resume(){return this._state==="suspended"?new Promise((_,y)=>{const b=()=>{this._nativeAudioContext.removeEventListener("statechange",b),this._nativeAudioContext.state==="running"?_():this.resume().then(_,y)};this._nativeAudioContext.addEventListener("statechange",b)}):this._nativeAudioContext.resume().catch(_=>{throw _===void 0||_.code===15?e():_})}suspend(){return this._nativeAudioContext.suspend().catch(_=>{throw _===void 0?e():_})}},gb=(l,e,i,a,o,u,f,d)=>class extends l{constructor(p,_){const y=u(p),b=f(y),S=o(y,_,b),T=b?e(d):null;super(p,!1,S,T),this._isNodeOfNativeOfflineAudioContext=b,this._nativeAudioDestinationNode=S}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(p){if(this._isNodeOfNativeOfflineAudioContext)throw a();if(p>this._nativeAudioDestinationNode.maxChannelCount)throw i();this._nativeAudioDestinationNode.channelCount=p}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(p){if(this._isNodeOfNativeOfflineAudioContext)throw a();this._nativeAudioDestinationNode.channelCountMode=p}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},_b=l=>{const e=new WeakMap,i=async(a,o)=>{const u=o.destination;return e.set(o,u),await l(a,o,u),u};return{render(a,o){const u=e.get(o);return u!==void 0?Promise.resolve(u):i(a,o)}}},yb=(l,e,i,a,o,u,f,d)=>(m,p)=>{const _=p.listener,y=()=>{const E=new Float32Array(1),z=e(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),j=f(p);let R=!1,W=[0,0,-1,0,1,0],K=[0,0,0];const Q=()=>{if(R)return;R=!0;const ot=a(p,256,9,0);ot.onaudioprocess=({inputBuffer:O})=>{const L=[u(O,E,0),u(O,E,1),u(O,E,2),u(O,E,3),u(O,E,4),u(O,E,5)];L.some((et,at)=>et!==W[at])&&(_.setOrientation(...L),W=L);const J=[u(O,E,6),u(O,E,7),u(O,E,8)];J.some((et,at)=>et!==K[at])&&(_.setPosition(...J),K=J)},z.connect(ot)},Y=ot=>O=>{O!==W[ot]&&(W[ot]=O,_.setOrientation(...W))},st=ot=>O=>{O!==K[ot]&&(K[ot]=O,_.setPosition(...K))},tt=(ot,O,L)=>{const J=i(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:O});J.connect(z,0,ot),J.start(),Object.defineProperty(J.offset,"defaultValue",{get(){return O}});const et=l({context:m},j,J.offset,Ve,Xe);return d(et,"value",at=>()=>at.call(et),at=>A=>{try{at.call(et,A)}catch(B){if(B.code!==9)throw B}Q(),j&&L(A)}),et.cancelAndHoldAtTime=(at=>j?()=>{throw o()}:(...A)=>{const B=at.apply(et,A);return Q(),B})(et.cancelAndHoldAtTime),et.cancelScheduledValues=(at=>j?()=>{throw o()}:(...A)=>{const B=at.apply(et,A);return Q(),B})(et.cancelScheduledValues),et.exponentialRampToValueAtTime=(at=>j?()=>{throw o()}:(...A)=>{const B=at.apply(et,A);return Q(),B})(et.exponentialRampToValueAtTime),et.linearRampToValueAtTime=(at=>j?()=>{throw o()}:(...A)=>{const B=at.apply(et,A);return Q(),B})(et.linearRampToValueAtTime),et.setTargetAtTime=(at=>j?()=>{throw o()}:(...A)=>{const B=at.apply(et,A);return Q(),B})(et.setTargetAtTime),et.setValueAtTime=(at=>j?()=>{throw o()}:(...A)=>{const B=at.apply(et,A);return Q(),B})(et.setValueAtTime),et.setValueCurveAtTime=(at=>j?()=>{throw o()}:(...A)=>{const B=at.apply(et,A);return Q(),B})(et.setValueCurveAtTime),et};return{forwardX:tt(0,0,Y(0)),forwardY:tt(1,0,Y(1)),forwardZ:tt(2,-1,Y(2)),positionX:tt(6,0,st(0)),positionY:tt(7,0,st(1)),positionZ:tt(8,0,st(2)),upX:tt(3,0,Y(3)),upY:tt(4,1,Y(4)),upZ:tt(5,0,Y(5))}},{forwardX:b,forwardY:S,forwardZ:T,positionX:M,positionY:x,positionZ:C,upX:G,upY:U,upZ:X}=_.forwardX===void 0?y():_;return{get forwardX(){return b},get forwardY(){return S},get forwardZ(){return T},get positionX(){return M},get positionY(){return x},get positionZ(){return C},get upX(){return G},get upY(){return U},get upZ(){return X}}},Ro=l=>"context"in l,Gr=l=>Ro(l[0]),xi=(l,e,i,a)=>{for(const o of l)if(i(o)){if(a)return!1;throw Error("The set contains at least one similar element.")}return l.add(e),!0},u_=(l,e,[i,a],o)=>{xi(l,[e,i,a],u=>u[0]===e&&u[1]===i,o)},h_=(l,[e,i,a],o)=>{const u=l.get(e);u===void 0?l.set(e,new Set([[i,a]])):xi(u,[i,a],f=>f[0]===i,o)},wa=l=>"inputs"in l,ko=(l,e,i,a)=>{if(wa(e)){const o=e.inputs[a];return l.connect(o,i,0),[o,i,0]}return l.connect(e,i,a),[e,i,a]},Y_=(l,e,i)=>{for(const a of l)if(a[0]===e&&a[1]===i)return l.delete(a),a;return null},vb=(l,e,i)=>Yo(l,a=>a[0]===e&&a[1]===i),F_=(l,e)=>{if(!Ur(l).delete(e))throw new Error("Missing the expected event listener.")},X_=(l,e,i)=>{const a=On(l,e),o=Yo(a,u=>u[0]===i);return a.size===0&&l.delete(e),o},jo=(l,e,i,a)=>{wa(e)?l.disconnect(e.inputs[a],i,0):l.disconnect(e,i,a)},Xt=l=>On(rf,l),zr=l=>On(lf,l),bi=l=>Gh.has(l),Ao=l=>!Sa.has(l),f_=(l,e)=>new Promise(i=>{if(e!==null)i(!0);else{const a=l.createScriptProcessor(256,1,1),o=l.createGain(),u=l.createBuffer(1,2,44100),f=u.getChannelData(0);f[0]=1,f[1]=1;const d=l.createBufferSource();d.buffer=u,d.loop=!0,d.connect(a).connect(l.destination),d.connect(o),d.disconnect(o),a.onaudioprocess=m=>{const p=m.inputBuffer.getChannelData(0);Array.prototype.some.call(p,_=>_===1)?i(!0):i(!1),d.stop(),a.onaudioprocess=null,d.disconnect(a),a.disconnect(l.destination)},d.start()}}),kh=(l,e)=>{const i=new Map;for(const a of l)for(const o of a){const u=i.get(o);i.set(o,u===void 0?1:u+1)}i.forEach((a,o)=>e(o,a))},zo=l=>"context"in l,bb=l=>{const e=new Map;l.connect=(i=>(a,o=0,u=0)=>{const f=zo(a)?i(a,o,u):i(a,o),d=e.get(a);return d===void 0?e.set(a,[{input:u,output:o}]):d.every(m=>m.input!==u||m.output!==o)&&d.push({input:u,output:o}),f})(l.connect.bind(l)),l.disconnect=(i=>(a,o,u)=>{if(i.apply(l),a===void 0)e.clear();else if(typeof a=="number")for(const[f,d]of e){const m=d.filter(p=>p.output!==a);m.length===0?e.delete(f):e.set(f,m)}else if(e.has(a))if(o===void 0)e.delete(a);else{const f=e.get(a);if(f!==void 0){const d=f.filter(m=>m.output!==o&&(m.input!==u||u===void 0));d.length===0?e.delete(a):e.set(a,d)}}for(const[f,d]of e)d.forEach(m=>{zo(f)?l.connect(f,m.output,m.input):l.connect(f,m.output)})})(l.disconnect)},Sb=(l,e,i,a)=>{const{activeInputs:o,passiveInputs:u}=Hr(e),{outputs:f}=Pe(l),d=Ur(l),m=p=>{const _=Xt(l),y=zr(e);if(p){const b=X_(u,l,i);u_(o,l,b,!1),!a&&!bi(l)&&_.connect(y,i)}else{const b=vb(o,l,i);h_(u,b,!1),!a&&!bi(l)&&_.disconnect(y,i)}};return xi(f,[e,i],p=>p[0]===e&&p[1]===i,!0)?(d.add(m),us(l)?u_(o,l,[i,m],!0):h_(u,[l,i,m],!0),!0):!1},Tb=(l,e,i,a)=>{const{activeInputs:o,passiveInputs:u}=Pe(e),f=Y_(o[a],l,i);return f===null?[L_(u,l,i,a)[2],!1]:[f[2],!0]},Mb=(l,e,i)=>{const{activeInputs:a,passiveInputs:o}=Hr(e),u=Y_(a,l,i);return u===null?[X_(o,l,i)[1],!1]:[u[2],!0]},cf=(l,e,i,a,o)=>{const[u,f]=Tb(l,i,a,o);if(u!==null&&(F_(l,u),f&&!e&&!bi(l)&&jo(Xt(l),Xt(i),a,o)),us(i)){const{activeInputs:d}=Pe(i);Fh(i,d)}},uf=(l,e,i,a)=>{const[o,u]=Mb(l,i,a);o!==null&&(F_(l,o),u&&!e&&!bi(l)&&Xt(l).disconnect(zr(i),a))},Ab=(l,e)=>{const i=Pe(l),a=[];for(const o of i.outputs)Gr(o)?cf(l,e,...o):uf(l,e,...o),a.push(o[0]);return i.outputs.clear(),a},xb=(l,e,i)=>{const a=Pe(l),o=[];for(const u of a.outputs)u[1]===i&&(Gr(u)?cf(l,e,...u):uf(l,e,...u),o.push(u[0]),a.outputs.delete(u));return o},Nb=(l,e,i,a,o)=>{const u=Pe(l);return Array.from(u.outputs).filter(f=>f[0]===i&&(a===void 0||f[1]===a)&&(o===void 0||f[2]===o)).map(f=>(Gr(f)?cf(l,e,...f):uf(l,e,...f),u.outputs.delete(f),f[0]))},Cb=(l,e,i,a,o,u,f,d,m,p,_,y,b,S,T,M)=>class extends p{constructor(C,G,U,X){super(U),this._context=C,this._nativeAudioNode=U;const E=_(C);y(E)&&i(f_,()=>f_(E,M))!==!0&&bb(U),rf.set(this,U),B_.set(this,new Set),C.state!=="closed"&&G&&Ta(this),l(this,X,U)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(C){this._nativeAudioNode.channelCount=C}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(C){this._nativeAudioNode.channelCountMode=C}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(C){this._nativeAudioNode.channelInterpretation=C}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(C,G=0,U=0){if(G<0||G>=this._nativeAudioNode.numberOfOutputs)throw o();const X=_(this._context),E=T(X);if(b(C)||S(C))throw u();if(Ro(C)){const R=Xt(C);try{const K=ko(this._nativeAudioNode,R,G,U),Q=Ao(this);(E||Q)&&this._nativeAudioNode.disconnect(...K),this.context.state!=="closed"&&!Q&&Ao(C)&&Ta(C)}catch(K){throw K.code===12?u():K}if(e(this,C,G,U,E)){const K=m([this],C);kh(K,a(E))}return C}const z=zr(C);if(z.name==="playbackRate"&&z.maxValue===1024)throw f();try{this._nativeAudioNode.connect(z,G),(E||Ao(this))&&this._nativeAudioNode.disconnect(z,G)}catch(R){throw R.code===12?u():R}if(Sb(this,C,G,E)){const R=m([this],C);kh(R,a(E))}}disconnect(C,G,U){let X;const E=_(this._context),z=T(E);if(C===void 0)X=Ab(this,z);else if(typeof C=="number"){if(C<0||C>=this.numberOfOutputs)throw o();X=xb(this,z,C)}else{if(G!==void 0&&(G<0||G>=this.numberOfOutputs)||Ro(C)&&U!==void 0&&(U<0||U>=C.numberOfInputs))throw o();if(X=Nb(this,z,C,G,U),X.length===0)throw u()}for(const j of X){const R=m([this],j);kh(R,d)}}},wb=(l,e,i,a,o,u,f,d,m,p,_,y,b)=>(S,T,M,x=null,C=null)=>{const G=M.value,U=new q1(G),X=T?a(U):null,E={get defaultValue(){return G},get maxValue(){return x===null?M.maxValue:x},get minValue(){return C===null?M.minValue:C},get value(){return M.value},set value(z){M.value=z,E.setValueAtTime(z,S.context.currentTime)},cancelAndHoldAtTime(z){if(typeof M.cancelAndHoldAtTime=="function")X===null&&U.flush(S.context.currentTime),U.add(o(z)),M.cancelAndHoldAtTime(z);else{const j=Array.from(U).pop();X===null&&U.flush(S.context.currentTime),U.add(o(z));const R=Array.from(U).pop();M.cancelScheduledValues(z),j!==R&&R!==void 0&&(R.type==="exponentialRampToValue"?M.exponentialRampToValueAtTime(R.value,R.endTime):R.type==="linearRampToValue"?M.linearRampToValueAtTime(R.value,R.endTime):R.type==="setValue"?M.setValueAtTime(R.value,R.startTime):R.type==="setValueCurve"&&M.setValueCurveAtTime(R.values,R.startTime,R.duration))}return E},cancelScheduledValues(z){return X===null&&U.flush(S.context.currentTime),U.add(u(z)),M.cancelScheduledValues(z),E},exponentialRampToValueAtTime(z,j){if(z===0)throw new RangeError;if(!Number.isFinite(j)||j<0)throw new RangeError;const R=S.context.currentTime;return X===null&&U.flush(R),Array.from(U).length===0&&(U.add(p(G,R)),M.setValueAtTime(G,R)),U.add(f(z,j)),M.exponentialRampToValueAtTime(z,j),E},linearRampToValueAtTime(z,j){const R=S.context.currentTime;return X===null&&U.flush(R),Array.from(U).length===0&&(U.add(p(G,R)),M.setValueAtTime(G,R)),U.add(d(z,j)),M.linearRampToValueAtTime(z,j),E},setTargetAtTime(z,j,R){return X===null&&U.flush(S.context.currentTime),U.add(m(z,j,R)),M.setTargetAtTime(z,j,R),E},setValueAtTime(z,j){return X===null&&U.flush(S.context.currentTime),U.add(p(z,j)),M.setValueAtTime(z,j),E},setValueCurveAtTime(z,j,R){const W=z instanceof Float32Array?z:new Float32Array(z);if(y!==null&&y.name==="webkitAudioContext"){const K=j+R,Q=S.context.sampleRate,Y=Math.ceil(j*Q),st=Math.floor(K*Q),tt=st-Y,ot=new Float32Array(tt);for(let L=0;L<tt;L+=1){const J=(W.length-1)/R*((Y+L)/Q-j),et=Math.floor(J),at=Math.ceil(J);ot[L]=et===at?W[et]:(1-(J-et))*W[et]+(1-(at-J))*W[at]}X===null&&U.flush(S.context.currentTime),U.add(_(ot,j,R)),M.setValueCurveAtTime(ot,j,R);const O=st/Q;O<K&&b(E,ot[ot.length-1],O),b(E,W[W.length-1],K)}else X===null&&U.flush(S.context.currentTime),U.add(_(W,j,R)),M.setValueCurveAtTime(W,j,R);return E}};return i.set(E,M),e.set(E,S),l(E,X),E},Eb=l=>({replay(e){for(const i of l)if(i.type==="exponentialRampToValue"){const{endTime:a,value:o}=i;e.exponentialRampToValueAtTime(o,a)}else if(i.type==="linearRampToValue"){const{endTime:a,value:o}=i;e.linearRampToValueAtTime(o,a)}else if(i.type==="setTarget"){const{startTime:a,target:o,timeConstant:u}=i;e.setTargetAtTime(o,a,u)}else if(i.type==="setValue"){const{startTime:a,value:o}=i;e.setValueAtTime(o,a)}else if(i.type==="setValueCurve"){const{duration:a,startTime:o,values:u}=i;e.setValueCurveAtTime(u,o,a)}else throw new Error("Can't apply an unknown automation.")}});class Z_{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,i=null){return this._map.forEach((a,o)=>e.call(i,a,o,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const Ob={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},Db=(l,e,i,a,o,u,f,d,m,p,_,y,b,S)=>class extends e{constructor(M,x,C){var G;const U=d(M),X=m(U),E=_({...Ob,...C});b(E);const z=Ih.get(U),j=z?.get(x),R=X||U.state!=="closed"?U:(G=f(U))!==null&&G!==void 0?G:U,W=o(R,X?null:M.baseLatency,p,x,j,E),K=X?a(x,E,j):null;super(M,!0,W,K);const Q=[];W.parameters.forEach((st,tt)=>{const ot=i(this,X,st);Q.push([tt,ot])}),this._nativeAudioWorkletNode=W,this._onprocessorerror=null,this._parameters=new Z_(Q),X&&l(U,this);const{activeInputs:Y}=u(this);y(W,Y)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(M){const x=typeof M=="function"?S(this,M):null;this._nativeAudioWorkletNode.onprocessorerror=x;const C=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=C!==null&&C===x?M:C}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function Vo(l,e,i,a,o){if(typeof l.copyFromChannel=="function")e[i].byteLength===0&&(e[i]=new Float32Array(128)),l.copyFromChannel(e[i],a,o);else{const u=l.getChannelData(a);if(e[i].byteLength===0)e[i]=u.slice(o,o+128);else{const f=new Float32Array(u.buffer,o*Float32Array.BYTES_PER_ELEMENT,128);e[i].set(f)}}}const Q_=(l,e,i,a,o)=>{typeof l.copyToChannel=="function"?e[i].byteLength!==0&&l.copyToChannel(e[i],a,o):e[i].byteLength!==0&&l.getChannelData(a).set(e[i],o)},Po=(l,e)=>{const i=[];for(let a=0;a<l;a+=1){const o=[],u=typeof e=="number"?e:e[a];for(let f=0;f<u;f+=1)o.push(new Float32Array(128));i.push(o)}return i},Rb=(l,e)=>{const i=On(Yh,l),a=Xt(e);return On(i,a)},kb=async(l,e,i,a,o,u,f)=>{const d=e===null?Math.ceil(l.context.length/128)*128:e.length,m=a.channelCount*a.numberOfInputs,p=o.reduce((x,C)=>x+C,0),_=p===0?null:i.createBuffer(p,d,i.sampleRate);if(u===void 0)throw new Error("Missing the processor constructor.");const y=Pe(l),b=await Rb(i,l),S=Po(a.numberOfInputs,a.channelCount),T=Po(a.numberOfOutputs,o),M=Array.from(l.parameters.keys()).reduce((x,C)=>({...x,[C]:new Float32Array(128)}),{});for(let x=0;x<d;x+=128){if(a.numberOfInputs>0&&e!==null)for(let C=0;C<a.numberOfInputs;C+=1)for(let G=0;G<a.channelCount;G+=1)Vo(e,S[C],G,G,x);u.parameterDescriptors!==void 0&&e!==null&&u.parameterDescriptors.forEach(({name:C},G)=>{Vo(e,M,C,m+G,x)});for(let C=0;C<a.numberOfInputs;C+=1)for(let G=0;G<o[C];G+=1)T[C][G].byteLength===0&&(T[C][G]=new Float32Array(128));try{const C=S.map((U,X)=>y.activeInputs[X].size===0?[]:U),G=f(x/i.sampleRate,i.sampleRate,()=>b.process(C,T,M));if(_!==null)for(let U=0,X=0;U<a.numberOfOutputs;U+=1){for(let E=0;E<o[U];E+=1)Q_(_,T[U],E,X+E,x);X+=o[U]}if(!G)break}catch(C){l.dispatchEvent(new ErrorEvent("processorerror",{colno:C.colno,filename:C.filename,lineno:C.lineno,message:C.message}));break}}return _},jb=(l,e,i,a,o,u,f,d,m,p,_,y,b,S,T,M)=>(x,C,G)=>{const U=new WeakMap;let X=null;const E=async(z,j)=>{let R=_(z),W=null;const K=je(R,j),Q=Array.isArray(C.outputChannelCount)?C.outputChannelCount:Array.from(C.outputChannelCount);if(y===null){const Y=Q.reduce((O,L)=>O+L,0),st=o(j,{channelCount:Math.max(1,Y),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,Y)}),tt=[];for(let O=0;O<z.numberOfOutputs;O+=1)tt.push(a(j,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Q[O]}));const ot=f(j,{channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,gain:1});ot.connect=e.bind(null,tt),ot.disconnect=m.bind(null,tt),W=[st,tt,ot]}else K||(R=new y(j,x));if(U.set(j,W===null?R:W[2]),W!==null){if(X===null){if(G===void 0)throw new Error("Missing the processor constructor.");if(b===null)throw new Error("Missing the native OfflineAudioContext constructor.");const L=z.channelCount*z.numberOfInputs,J=G.parameterDescriptors===void 0?0:G.parameterDescriptors.length,et=L+J;X=kb(z,et===0?null:await(async()=>{const A=new b(et,Math.ceil(z.context.length/128)*128,j.sampleRate),B=[],$=[];for(let ct=0;ct<C.numberOfInputs;ct+=1)B.push(f(A,{channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,gain:1})),$.push(o(A,{channelCount:C.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:C.channelCount}));const it=await Promise.all(Array.from(z.parameters.values()).map(async ct=>{const mt=u(A,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ct.value});return await S(A,ct,mt.offset),mt})),nt=a(A,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,L+J)});for(let ct=0;ct<C.numberOfInputs;ct+=1){B[ct].connect($[ct]);for(let mt=0;mt<C.channelCount;mt+=1)$[ct].connect(nt,mt,ct*C.channelCount+mt)}for(const[ct,mt]of it.entries())mt.connect(nt,0,L+ct),mt.start(0);return nt.connect(A.destination),await Promise.all(B.map(ct=>T(z,A,ct))),M(A)})(),j,C,Q,G,p)}const Y=await X,st=i(j,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[tt,ot,O]=W;Y!==null&&(st.buffer=Y,st.start(0)),st.connect(tt);for(let L=0,J=0;L<z.numberOfOutputs;L+=1){const et=ot[L];for(let at=0;at<Q[L];at+=1)tt.connect(et,J+at,at);J+=Q[L]}return O}if(K)for(const[Y,st]of z.parameters.entries())await l(j,st,R.parameters.get(Y));else for(const[Y,st]of z.parameters.entries())await S(j,st,R.parameters.get(Y));return await T(z,j,R),R};return{render(z,j){d(j,z);const R=U.get(j);return R!==void 0?Promise.resolve(R):E(z,j)}}},zb=(l,e,i,a,o,u,f,d,m,p,_,y,b,S,T,M,x,C,G,U)=>class extends T{constructor(E,z){super(E,z),this._nativeContext=E,this._audioWorklet=l===void 0?void 0:{addModule:(j,R)=>l(this,j,R)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new o(this)}createBuffer(E,z,j){return new i({length:z,numberOfChannels:E,sampleRate:j})}createBufferSource(){return new a(this)}createChannelMerger(E=6){return new u(this,{numberOfInputs:E})}createChannelSplitter(E=6){return new f(this,{numberOfOutputs:E})}createConstantSource(){return new d(this)}createConvolver(){return new m(this)}createDelay(E=1){return new _(this,{maxDelayTime:E})}createDynamicsCompressor(){return new y(this)}createGain(){return new b(this)}createIIRFilter(E,z){return new S(this,{feedback:z,feedforward:E})}createOscillator(){return new M(this)}createPanner(){return new x(this)}createPeriodicWave(E,z,j={disableNormalization:!1}){return new C(this,{...j,imag:z,real:E})}createStereoPanner(){return new G(this)}createWaveShaper(){return new U(this)}decodeAudioData(E,z,j){return p(this._nativeContext,E).then(R=>(typeof z=="function"&&z(R),R),R=>{throw typeof j=="function"&&j(R),R})}},Vb={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},Pb=(l,e,i,a,o,u,f,d)=>class extends l{constructor(p,_){const y=u(p),b={...Vb,..._},S=o(y,b),T=f(y),M=T?i():null;super(p,!1,S,M),this._Q=e(this,T,S.Q,Ve,Xe),this._detune=e(this,T,S.detune,1200*Math.log2(Ve),-1200*Math.log2(Ve)),this._frequency=e(this,T,S.frequency,p.sampleRate/2,0),this._gain=e(this,T,S.gain,40*Math.log10(Ve),Xe),this._nativeBiquadFilterNode=S,d(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(p){this._nativeBiquadFilterNode.type=p}getFrequencyResponse(p,_,y){try{this._nativeBiquadFilterNode.getFrequencyResponse(p,_,y)}catch(b){throw b.code===11?a():b}if(p.length!==_.length||_.length!==y.length)throw a()}},qb=(l,e,i,a,o)=>()=>{const u=new WeakMap,f=async(d,m)=>{let p=i(d);const _=je(p,m);if(!_){const y={Q:p.Q.value,channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,detune:p.detune.value,frequency:p.frequency.value,gain:p.gain.value,type:p.type};p=e(m,y)}return u.set(m,p),_?(await l(m,d.Q,p.Q),await l(m,d.detune,p.detune),await l(m,d.frequency,p.frequency),await l(m,d.gain,p.gain)):(await a(m,d.Q,p.Q),await a(m,d.detune,p.detune),await a(m,d.frequency,p.frequency),await a(m,d.gain,p.gain)),await o(d,m,p),p};return{render(d,m){const p=u.get(m);return p!==void 0?Promise.resolve(p):f(d,m)}}},Bb=(l,e)=>(i,a)=>{const o=e.get(i);if(o!==void 0)return o;const u=l.get(i);if(u!==void 0)return u;try{const f=a();return f instanceof Promise?(l.set(i,f),f.catch(()=>!1).then(d=>(l.delete(i),e.set(i,d),d))):(e.set(i,f),f)}catch{return e.set(i,!1),!1}},Ub={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},Lb=(l,e,i,a,o)=>class extends l{constructor(f,d){const m=a(f),p={...Ub,...d},_=i(m,p),y=o(m)?e():null;super(f,!1,_,y)}},Hb=(l,e,i)=>()=>{const a=new WeakMap,o=async(u,f)=>{let d=e(u);if(!je(d,f)){const p={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,numberOfInputs:d.numberOfInputs};d=l(f,p)}return a.set(f,d),await i(u,f,d),d};return{render(u,f){const d=a.get(f);return d!==void 0?Promise.resolve(d):o(u,f)}}},Gb={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},Ib=(l,e,i,a,o,u)=>class extends l{constructor(d,m){const p=a(d),_=u({...Gb,...m}),y=i(p,_),b=o(p)?e():null;super(d,!1,y,b)}},Yb=(l,e,i)=>()=>{const a=new WeakMap,o=async(u,f)=>{let d=e(u);if(!je(d,f)){const p={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,numberOfOutputs:d.numberOfOutputs};d=l(f,p)}return a.set(f,d),await i(u,f,d),d};return{render(u,f){const d=a.get(f);return d!==void 0?Promise.resolve(d):o(u,f)}}},Fb=l=>(e,i,a)=>l(i,e,a),Xb=l=>(e,i,a=0,o=0)=>{const u=e[a];if(u===void 0)throw l();return zo(i)?u.connect(i,0,o):u.connect(i,0)},Zb=l=>(e,i)=>{const a=l(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),o=e.createBuffer(1,2,44100);return a.buffer=o,a.loop=!0,a.connect(i),a.start(),()=>{a.stop(),a.disconnect(i)}},Qb={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},Wb=(l,e,i,a,o,u,f)=>class extends l{constructor(m,p){const _=o(m),y={...Qb,...p},b=a(_,y),S=u(_),T=S?i():null;super(m,!1,b,T),this._constantSourceNodeRenderer=T,this._nativeConstantSourceNode=b,this._offset=e(this,S,b.offset,Ve,Xe),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(m){const p=typeof m=="function"?f(this,m):null;this._nativeConstantSourceNode.onended=p;const _=this._nativeConstantSourceNode.onended;this._onended=_!==null&&_===p?m:_}start(m=0){if(this._nativeConstantSourceNode.start(m),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=m),this.context.state!=="closed"){Ta(this);const p=()=>{this._nativeConstantSourceNode.removeEventListener("ended",p),us(this)&&Lr(this)};this._nativeConstantSourceNode.addEventListener("ended",p)}}stop(m=0){this._nativeConstantSourceNode.stop(m),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=m)}},Kb=(l,e,i,a,o)=>()=>{const u=new WeakMap;let f=null,d=null;const m=async(p,_)=>{let y=i(p);const b=je(y,_);if(!b){const S={channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,offset:y.offset.value};y=e(_,S),f!==null&&y.start(f),d!==null&&y.stop(d)}return u.set(_,y),b?await l(_,p.offset,y.offset):await a(_,p.offset,y.offset),await o(p,_,y),y};return{set start(p){f=p},set stop(p){d=p},render(p,_){const y=u.get(_);return y!==void 0?Promise.resolve(y):m(p,_)}}},Jb=l=>e=>(l[0]=e,l[0]),$b={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},tS=(l,e,i,a,o,u)=>class extends l{constructor(d,m){const p=a(d),_={...$b,...m},y=i(p,_),S=o(p)?e():null;super(d,!1,y,S),this._isBufferNullified=!1,this._nativeConvolverNode=y,_.buffer!==null&&u(this,_.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(d){if(this._nativeConvolverNode.buffer=d,d===null&&this._nativeConvolverNode.buffer!==null){const m=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=m.createBuffer(1,1,m.sampleRate),this._isBufferNullified=!0,u(this,0)}else this._isBufferNullified=!1,u(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(d){this._nativeConvolverNode.normalize=d}},eS=(l,e,i)=>()=>{const a=new WeakMap,o=async(u,f)=>{let d=e(u);if(!je(d,f)){const p={buffer:d.buffer,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,disableNormalization:!d.normalize};d=l(f,p)}return a.set(f,d),wa(d)?await i(u,f,d.inputs[0]):await i(u,f,d),d};return{render(u,f){const d=a.get(f);return d!==void 0?Promise.resolve(d):o(u,f)}}},nS=(l,e)=>(i,a,o)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(i,a,o)}catch(u){throw u.name==="SyntaxError"?l():u}},sS=()=>new DOMException("","DataCloneError"),d_=l=>{const{port1:e,port2:i}=new MessageChannel;return new Promise(a=>{const o=()=>{i.onmessage=null,e.close(),i.close(),a()};i.onmessage=()=>o();try{e.postMessage(l,[l])}catch{}finally{o()}})},iS=(l,e,i,a,o,u,f,d,m,p,_)=>(y,b)=>{const S=f(y)?y:u(y);if(o.has(b)){const T=i();return Promise.reject(T)}try{o.add(b)}catch{}return e(m,()=>m(S))?S.decodeAudioData(b).then(T=>(d_(b).catch(()=>{}),e(d,()=>d(T))||_(T),l.add(T),T)):new Promise((T,M)=>{const x=async()=>{try{await d_(b)}catch{}},C=G=>{M(G),x()};try{S.decodeAudioData(b,G=>{typeof G.copyFromChannel!="function"&&(p(G),of(G)),l.add(G),x().then(()=>T(G))},G=>{C(G===null?a():G)})}catch(G){C(G)}})},aS=(l,e,i,a,o,u,f,d)=>(m,p)=>{const _=e.get(m);if(_===void 0)throw new Error("Missing the expected cycle count.");const y=u(m.context),b=d(y);if(_===p){if(e.delete(m),!b&&f(m)){const S=a(m),{outputs:T}=i(m);for(const M of T)if(Gr(M)){const x=a(M[0]);l(S,x,M[1],M[2])}else{const x=o(M[0]);S.connect(x,M[1])}}}else e.set(m,_-p)},rS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},lS=(l,e,i,a,o,u,f)=>class extends l{constructor(m,p){const _=o(m),y={...rS,...p},b=a(_,y),S=u(_),T=S?i(y.maxDelayTime):null;super(m,!1,b,T),this._delayTime=e(this,S,b.delayTime),f(this,y.maxDelayTime)}get delayTime(){return this._delayTime}},oS=(l,e,i,a,o)=>u=>{const f=new WeakMap,d=async(m,p)=>{let _=i(m);const y=je(_,p);if(!y){const b={channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,delayTime:_.delayTime.value,maxDelayTime:u};_=e(p,b)}return f.set(p,_),y?await l(p,m.delayTime,_.delayTime):await a(p,m.delayTime,_.delayTime),await o(m,p,_),_};return{render(m,p){const _=f.get(p);return _!==void 0?Promise.resolve(_):d(m,p)}}},cS=l=>(e,i,a,o)=>l(e[o],u=>u[0]===i&&u[1]===a),uS=l=>(e,i)=>{l(e).delete(i)},hS=l=>"delayTime"in l,fS=(l,e,i)=>function a(o,u){const f=Ro(u)?u:i(l,u);if(hS(f))return[];if(o[0]===f)return[o];if(o.includes(f))return[];const{outputs:d}=e(f);return Array.from(d).map(m=>a([...o,f],m[0])).reduce((m,p)=>m.concat(p),[])},vo=(l,e,i)=>{const a=e[i];if(a===void 0)throw l();return a},dS=l=>(e,i=void 0,a=void 0,o=0)=>i===void 0?e.forEach(u=>u.disconnect()):typeof i=="number"?vo(l,e,i).disconnect():zo(i)?a===void 0?e.forEach(u=>u.disconnect(i)):o===void 0?vo(l,e,a).disconnect(i,0):vo(l,e,a).disconnect(i,0,o):a===void 0?e.forEach(u=>u.disconnect(i)):vo(l,e,a).disconnect(i,0),mS={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},pS=(l,e,i,a,o,u,f,d)=>class extends l{constructor(p,_){const y=u(p),b={...mS,..._},S=a(y,b),T=f(y),M=T?i():null;super(p,!1,S,M),this._attack=e(this,T,S.attack),this._knee=e(this,T,S.knee),this._nativeDynamicsCompressorNode=S,this._ratio=e(this,T,S.ratio),this._release=e(this,T,S.release),this._threshold=e(this,T,S.threshold),d(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(p){const _=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=p,p>2)throw this._nativeDynamicsCompressorNode.channelCount=_,o()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(p){const _=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=p,p==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=_,o()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},gS=(l,e,i,a,o)=>()=>{const u=new WeakMap,f=async(d,m)=>{let p=i(d);const _=je(p,m);if(!_){const y={attack:p.attack.value,channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,knee:p.knee.value,ratio:p.ratio.value,release:p.release.value,threshold:p.threshold.value};p=e(m,y)}return u.set(m,p),_?(await l(m,d.attack,p.attack),await l(m,d.knee,p.knee),await l(m,d.ratio,p.ratio),await l(m,d.release,p.release),await l(m,d.threshold,p.threshold)):(await a(m,d.attack,p.attack),await a(m,d.knee,p.knee),await a(m,d.ratio,p.ratio),await a(m,d.release,p.release),await a(m,d.threshold,p.threshold)),await o(d,m,p),p};return{render(d,m){const p=u.get(m);return p!==void 0?Promise.resolve(p):f(d,m)}}},_S=()=>new DOMException("","EncodingError"),yS=l=>e=>new Promise((i,a)=>{if(l===null){a(new SyntaxError);return}const o=l.document.head;if(o===null)a(new SyntaxError);else{const u=l.document.createElement("script"),f=new Blob([e],{type:"application/javascript"}),d=URL.createObjectURL(f),m=l.onerror,p=()=>{l.onerror=m,URL.revokeObjectURL(d)};l.onerror=(_,y,b,S,T)=>{if(y===d||y===l.location.href&&b===1&&S===1)return p(),a(T),!1;if(m!==null)return m(_,y,b,S,T)},u.onerror=()=>{p(),a(new SyntaxError)},u.onload=()=>{p(),i()},u.src=d,u.type="module",o.appendChild(u)}}),vS=l=>class{constructor(i){this._nativeEventTarget=i,this._listeners=new WeakMap}addEventListener(i,a,o){if(a!==null){let u=this._listeners.get(a);u===void 0&&(u=l(this,a),typeof a=="function"&&this._listeners.set(a,u)),this._nativeEventTarget.addEventListener(i,u,o)}}dispatchEvent(i){return this._nativeEventTarget.dispatchEvent(i)}removeEventListener(i,a,o){const u=a===null?void 0:this._listeners.get(a);this._nativeEventTarget.removeEventListener(i,u===void 0?null:u,o)}},bS=l=>(e,i,a)=>{Object.defineProperties(l,{currentFrame:{configurable:!0,get(){return Math.round(e*i)}},currentTime:{configurable:!0,get(){return e}}});try{return a()}finally{l!==null&&(delete l.currentFrame,delete l.currentTime)}},SS=l=>async e=>{try{const i=await fetch(e);if(i.ok)return[await i.text(),i.url]}catch{}throw l()},TS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},MS=(l,e,i,a,o,u)=>class extends l{constructor(d,m){const p=o(d),_={...TS,...m},y=a(p,_),b=u(p),S=b?i():null;super(d,!1,y,S),this._gain=e(this,b,y.gain,Ve,Xe)}get gain(){return this._gain}},AS=(l,e,i,a,o)=>()=>{const u=new WeakMap,f=async(d,m)=>{let p=i(d);const _=je(p,m);if(!_){const y={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,gain:p.gain.value};p=e(m,y)}return u.set(m,p),_?await l(m,d.gain,p.gain):await a(m,d.gain,p.gain),await o(d,m,p),p};return{render(d,m){const p=u.get(m);return p!==void 0?Promise.resolve(p):f(d,m)}}},xS=(l,e)=>i=>e(l,i),NS=l=>e=>{const i=l(e);if(i.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return i.renderer},CS=l=>e=>{var i;return(i=l.get(e))!==null&&i!==void 0?i:0},wS=l=>e=>{const i=l(e);if(i.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return i.renderer},ES=l=>e=>l.get(e),be=()=>new DOMException("","InvalidStateError"),OS=l=>e=>{const i=l.get(e);if(i===void 0)throw be();return i},DS=(l,e)=>i=>{let a=l.get(i);if(a!==void 0)return a;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return a=new e(1,1,44100),l.set(i,a),a},RS=l=>e=>{const i=l.get(e);if(i===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return i},Fo=()=>new DOMException("","InvalidAccessError"),kS=l=>{l.getFrequencyResponse=(e=>(i,a,o)=>{if(i.length!==a.length||a.length!==o.length)throw Fo();return e.call(l,i,a,o)})(l.getFrequencyResponse)},jS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},zS=(l,e,i,a,o,u)=>class extends l{constructor(d,m){const p=a(d),_=o(p),y={...jS,...m},b=e(p,_?null:d.baseLatency,y),S=_?i(y.feedback,y.feedforward):null;super(d,!1,b,S),kS(b),this._nativeIIRFilterNode=b,u(this,1)}getFrequencyResponse(d,m,p){return this._nativeIIRFilterNode.getFrequencyResponse(d,m,p)}},W_=(l,e,i,a,o,u,f,d,m,p,_)=>{const y=p.length;let b=d;for(let S=0;S<y;S+=1){let T=i[0]*p[S];for(let M=1;M<o;M+=1){const x=b-M&m-1;T+=i[M]*u[x],T-=l[M]*f[x]}for(let M=o;M<a;M+=1)T+=i[M]*u[b-M&m-1];for(let M=o;M<e;M+=1)T-=l[M]*f[b-M&m-1];u[b]=p[S],f[b]=T,b=b+1&m-1,_[S]=T}return b},VS=(l,e,i,a)=>{const o=i instanceof Float64Array?i:new Float64Array(i),u=a instanceof Float64Array?a:new Float64Array(a),f=o.length,d=u.length,m=Math.min(f,d);if(o[0]!==1){for(let T=0;T<f;T+=1)u[T]/=o[0];for(let T=1;T<d;T+=1)o[T]/=o[0]}const p=32,_=new Float32Array(p),y=new Float32Array(p),b=e.createBuffer(l.numberOfChannels,l.length,l.sampleRate),S=l.numberOfChannels;for(let T=0;T<S;T+=1){const M=l.getChannelData(T),x=b.getChannelData(T);_.fill(0),y.fill(0),W_(o,f,u,d,m,_,y,0,p,M,x)}return b},PS=(l,e,i,a,o)=>(u,f)=>{const d=new WeakMap;let m=null;const p=async(_,y)=>{let b=null,S=e(_);const T=je(S,y);if(y.createIIRFilter===void 0?b=l(y,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):T||(S=y.createIIRFilter(f,u)),d.set(y,b===null?S:b),b!==null){if(m===null){if(i===null)throw new Error("Missing the native OfflineAudioContext constructor.");const x=new i(_.context.destination.channelCount,_.context.length,y.sampleRate);m=(async()=>{await a(_,x,x.destination);const C=await o(x);return VS(C,y,u,f)})()}const M=await m;return b.buffer=M,b.start(0),b}return await a(_,y,S),S};return{render(_,y){const b=d.get(y);return b!==void 0?Promise.resolve(b):p(_,y)}}},qS=(l,e,i,a,o,u)=>f=>(d,m)=>{const p=l.get(d);if(p===void 0){if(!f&&u(d)){const _=a(d),{outputs:y}=i(d);for(const b of y)if(Gr(b)){const S=a(b[0]);e(_,S,b[1],b[2])}else{const S=o(b[0]);_.disconnect(S,b[1])}}l.set(d,m)}else l.set(d,p+m)},BS=(l,e)=>i=>{const a=l.get(i);return e(a)||e(i)},US=(l,e)=>i=>l.has(i)||e(i),LS=(l,e)=>i=>l.has(i)||e(i),HS=(l,e)=>i=>{const a=l.get(i);return e(a)||e(i)},GS=l=>e=>l!==null&&e instanceof l,IS=l=>e=>l!==null&&typeof l.AudioNode=="function"&&e instanceof l.AudioNode,YS=l=>e=>l!==null&&typeof l.AudioParam=="function"&&e instanceof l.AudioParam,FS=(l,e)=>i=>l(i)||e(i),XS=l=>e=>l!==null&&e instanceof l,ZS=l=>l!==null&&l.isSecureContext,QS=(l,e,i,a)=>class extends l{constructor(u,f){const d=i(u),m=e(d,f);if(a(d))throw TypeError();super(u,!0,m,null),this._nativeMediaElementAudioSourceNode=m}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},WS={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},KS=(l,e,i,a)=>class extends l{constructor(u,f){const d=i(u);if(a(d))throw new TypeError;const m={...WS,...f},p=e(d,m);super(u,!1,p,null),this._nativeMediaStreamAudioDestinationNode=p}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},JS=(l,e,i,a)=>class extends l{constructor(u,f){const d=i(u),m=e(d,f);if(a(d))throw new TypeError;super(u,!0,m,null),this._nativeMediaStreamAudioSourceNode=m}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},$S=(l,e,i)=>class extends l{constructor(o,u){const f=i(o),d=e(f,u);super(o,!0,d,null)}},tT=(l,e,i,a,o,u)=>class extends i{constructor(d,m){super(d),this._nativeContext=d,Io.set(this,d),a(d)&&o.set(d,new Set),this._destination=new l(this,m),this._listener=e(this,d),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(d){const m=typeof d=="function"?u(this,d):null;this._nativeContext.onstatechange=m;const p=this._nativeContext.onstatechange;this._onstatechange=p!==null&&p===m?d:p}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Vr=l=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const i=l.decodeAudioData(e.buffer,()=>{});return i===void 0?!1:(i.catch(()=>{}),!0)}catch{}return!1},eT=(l,e)=>(i,a,o)=>{const u=new Set;return i.connect=(f=>(d,m=0,p=0)=>{const _=u.size===0;if(e(d))return f.call(i,d,m,p),l(u,[d,m,p],y=>y[0]===d&&y[1]===m&&y[2]===p,!0),_&&a(),d;f.call(i,d,m),l(u,[d,m],y=>y[0]===d&&y[1]===m,!0),_&&a()})(i.connect),i.disconnect=(f=>(d,m,p)=>{const _=u.size>0;if(d===void 0)f.apply(i),u.clear();else if(typeof d=="number"){f.call(i,d);for(const b of u)b[1]===d&&u.delete(b)}else{e(d)?f.call(i,d,m,p):f.call(i,d,m);for(const b of u)b[0]===d&&(m===void 0||b[1]===m)&&(p===void 0||b[2]===p)&&u.delete(b)}const y=u.size===0;_&&y&&o()})(i.disconnect),i},Wt=(l,e,i)=>{const a=e[i];a!==void 0&&a!==l[i]&&(l[i]=a)},ge=(l,e)=>{Wt(l,e,"channelCount"),Wt(l,e,"channelCountMode"),Wt(l,e,"channelInterpretation")},m_=l=>typeof l.getFloatTimeDomainData=="function",nT=l=>{l.getFloatTimeDomainData=e=>{const i=new Uint8Array(e.length);l.getByteTimeDomainData(i);const a=Math.max(i.length,l.fftSize);for(let o=0;o<a;o+=1)e[o]=(i[o]-128)*.0078125;return e}},sT=(l,e)=>(i,a)=>{const o=i.createAnalyser();if(ge(o,a),!(a.maxDecibels>a.minDecibels))throw e();return Wt(o,a,"fftSize"),Wt(o,a,"maxDecibels"),Wt(o,a,"minDecibels"),Wt(o,a,"smoothingTimeConstant"),l(m_,()=>m_(o))||nT(o),o},iT=l=>l===null?null:l.hasOwnProperty("AudioBuffer")?l.AudioBuffer:null,te=(l,e,i)=>{const a=e[i];a!==void 0&&a!==l[i].value&&(l[i].value=a)},aT=l=>{l.start=(e=>{let i=!1;return(a=0,o=0,u)=>{if(i)throw be();e.call(l,a,o,u),i=!0}})(l.start)},hf=l=>{l.start=(e=>(i=0,a=0,o)=>{if(typeof o=="number"&&o<0||a<0||i<0)throw new RangeError("The parameters can't be negative.");e.call(l,i,a,o)})(l.start)},ff=l=>{l.stop=(e=>(i=0)=>{if(i<0)throw new RangeError("The parameter can't be negative.");e.call(l,i)})(l.stop)},rT=(l,e,i,a,o,u,f,d,m,p,_)=>(y,b)=>{const S=y.createBufferSource();return ge(S,b),te(S,b,"playbackRate"),Wt(S,b,"buffer"),Wt(S,b,"loop"),Wt(S,b,"loopEnd"),Wt(S,b,"loopStart"),e(i,()=>i(y))||aT(S),e(a,()=>a(y))||m(S),e(o,()=>o(y))||p(S,y),e(u,()=>u(y))||hf(S),e(f,()=>f(y))||_(S,y),e(d,()=>d(y))||ff(S),l(y,S),S},lT=l=>l===null?null:l.hasOwnProperty("AudioContext")?l.AudioContext:l.hasOwnProperty("webkitAudioContext")?l.webkitAudioContext:null,oT=(l,e)=>(i,a,o)=>{const u=i.destination;if(u.channelCount!==a)try{u.channelCount=a}catch{}o&&u.channelCountMode!=="explicit"&&(u.channelCountMode="explicit"),u.maxChannelCount===0&&Object.defineProperty(u,"maxChannelCount",{value:a});const f=l(i,{channelCount:a,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,gain:1});return e(f,"channelCount",d=>()=>d.call(f),d=>m=>{d.call(f,m);try{u.channelCount=m}catch(p){if(m>u.maxChannelCount)throw p}}),e(f,"channelCountMode",d=>()=>d.call(f),d=>m=>{d.call(f,m),u.channelCountMode=m}),e(f,"channelInterpretation",d=>()=>d.call(f),d=>m=>{d.call(f,m),u.channelInterpretation=m}),Object.defineProperty(f,"maxChannelCount",{get:()=>u.maxChannelCount}),f.connect(u),f},cT=l=>l===null?null:l.hasOwnProperty("AudioWorkletNode")?l.AudioWorkletNode:null,uT=l=>{const{port1:e}=new MessageChannel;try{e.postMessage(l)}finally{e.close()}},hT=(l,e,i,a,o)=>(u,f,d,m,p,_)=>{if(d!==null)try{const y=new d(u,m,_),b=new Map;let S=null;if(Object.defineProperties(y,{channelCount:{get:()=>_.channelCount,set:()=>{throw l()}},channelCountMode:{get:()=>"explicit",set:()=>{throw l()}},onprocessorerror:{get:()=>S,set:T=>{typeof S=="function"&&y.removeEventListener("processorerror",S),S=typeof T=="function"?T:null,typeof S=="function"&&y.addEventListener("processorerror",S)}}}),y.addEventListener=(T=>(...M)=>{if(M[0]==="processorerror"){const x=typeof M[1]=="function"?M[1]:typeof M[1]=="object"&&M[1]!==null&&typeof M[1].handleEvent=="function"?M[1].handleEvent:null;if(x!==null){const C=b.get(M[1]);C!==void 0?M[1]=C:(M[1]=G=>{G.type==="error"?(Object.defineProperties(G,{type:{value:"processorerror"}}),x(G)):x(new ErrorEvent(M[0],{...G}))},b.set(x,M[1]))}}return T.call(y,"error",M[1],M[2]),T.call(y,...M)})(y.addEventListener),y.removeEventListener=(T=>(...M)=>{if(M[0]==="processorerror"){const x=b.get(M[1]);x!==void 0&&(b.delete(M[1]),M[1]=x)}return T.call(y,"error",M[1],M[2]),T.call(y,M[0],M[1],M[2])})(y.removeEventListener),_.numberOfOutputs!==0){const T=i(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return y.connect(T).connect(u.destination),o(y,()=>T.disconnect(),()=>T.connect(u.destination))}return y}catch(y){throw y.code===11?a():y}if(p===void 0)throw a();return uT(_),e(u,f,p,_)},K_=(l,e)=>l===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(l*e))))),fT=l=>new Promise((e,i)=>{const{port1:a,port2:o}=new MessageChannel;a.onmessage=({data:u})=>{a.close(),o.close(),e(u)},a.onmessageerror=({data:u})=>{a.close(),o.close(),i(u)},o.postMessage(l)}),dT=async(l,e)=>{const i=await fT(e);return new l(i)},mT=(l,e,i,a)=>{let o=Yh.get(l);o===void 0&&(o=new WeakMap,Yh.set(l,o));const u=dT(i,a);return o.set(e,u),u},pT=(l,e,i,a,o,u,f,d,m,p,_,y,b)=>(S,T,M,x)=>{if(x.numberOfInputs===0&&x.numberOfOutputs===0)throw m();const C=Array.isArray(x.outputChannelCount)?x.outputChannelCount:Array.from(x.outputChannelCount);if(C.some(lt=>lt<1))throw m();if(C.length!==x.numberOfOutputs)throw e();if(x.channelCountMode!=="explicit")throw m();const G=x.channelCount*x.numberOfInputs,U=C.reduce((lt,ft)=>lt+ft,0),X=M.parameterDescriptors===void 0?0:M.parameterDescriptors.length;if(G+X>6||U>6)throw m();const E=new MessageChannel,z=[],j=[];for(let lt=0;lt<x.numberOfInputs;lt+=1)z.push(f(S,{channelCount:x.channelCount,channelCountMode:x.channelCountMode,channelInterpretation:x.channelInterpretation,gain:1})),j.push(o(S,{channelCount:x.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:x.channelCount}));const R=[];if(M.parameterDescriptors!==void 0)for(const{defaultValue:lt,maxValue:ft,minValue:It,name:kt}of M.parameterDescriptors){const St=u(S,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:x.parameterData[kt]!==void 0?x.parameterData[kt]:lt===void 0?0:lt});Object.defineProperties(St.offset,{defaultValue:{get:()=>lt===void 0?0:lt},maxValue:{get:()=>ft===void 0?Ve:ft},minValue:{get:()=>It===void 0?Xe:It}}),R.push(St)}const W=a(S,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,G+X)}),K=K_(T,S.sampleRate),Q=d(S,K,G+X,Math.max(1,U)),Y=o(S,{channelCount:Math.max(1,U),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,U)}),st=[];for(let lt=0;lt<x.numberOfOutputs;lt+=1)st.push(a(S,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:C[lt]}));for(let lt=0;lt<x.numberOfInputs;lt+=1){z[lt].connect(j[lt]);for(let ft=0;ft<x.channelCount;ft+=1)j[lt].connect(W,ft,lt*x.channelCount+ft)}const tt=new Z_(M.parameterDescriptors===void 0?[]:M.parameterDescriptors.map(({name:lt},ft)=>{const It=R[ft];return It.connect(W,0,G+ft),It.start(0),[lt,It.offset]}));W.connect(Q);let ot=x.channelInterpretation,O=null;const L=x.numberOfOutputs===0?[Q]:st,J={get bufferSize(){return K},get channelCount(){return x.channelCount},set channelCount(lt){throw i()},get channelCountMode(){return x.channelCountMode},set channelCountMode(lt){throw i()},get channelInterpretation(){return ot},set channelInterpretation(lt){for(const ft of z)ft.channelInterpretation=lt;ot=lt},get context(){return Q.context},get inputs(){return z},get numberOfInputs(){return x.numberOfInputs},get numberOfOutputs(){return x.numberOfOutputs},get onprocessorerror(){return O},set onprocessorerror(lt){typeof O=="function"&&J.removeEventListener("processorerror",O),O=typeof lt=="function"?lt:null,typeof O=="function"&&J.addEventListener("processorerror",O)},get parameters(){return tt},get port(){return E.port2},addEventListener(...lt){return Q.addEventListener(lt[0],lt[1],lt[2])},connect:l.bind(null,L),disconnect:p.bind(null,L),dispatchEvent(...lt){return Q.dispatchEvent(lt[0])},removeEventListener(...lt){return Q.removeEventListener(lt[0],lt[1],lt[2])}},et=new Map;E.port1.addEventListener=(lt=>(...ft)=>{if(ft[0]==="message"){const It=typeof ft[1]=="function"?ft[1]:typeof ft[1]=="object"&&ft[1]!==null&&typeof ft[1].handleEvent=="function"?ft[1].handleEvent:null;if(It!==null){const kt=et.get(ft[1]);kt!==void 0?ft[1]=kt:(ft[1]=St=>{_(S.currentTime,S.sampleRate,()=>It(St))},et.set(It,ft[1]))}}return lt.call(E.port1,ft[0],ft[1],ft[2])})(E.port1.addEventListener),E.port1.removeEventListener=(lt=>(...ft)=>{if(ft[0]==="message"){const It=et.get(ft[1]);It!==void 0&&(et.delete(ft[1]),ft[1]=It)}return lt.call(E.port1,ft[0],ft[1],ft[2])})(E.port1.removeEventListener);let at=null;Object.defineProperty(E.port1,"onmessage",{get:()=>at,set:lt=>{typeof at=="function"&&E.port1.removeEventListener("message",at),at=typeof lt=="function"?lt:null,typeof at=="function"&&(E.port1.addEventListener("message",at),E.port1.start())}}),M.prototype.port=E.port1;let A=null;mT(S,J,M,x).then(lt=>A=lt);const $=Po(x.numberOfInputs,x.channelCount),it=Po(x.numberOfOutputs,C),nt=M.parameterDescriptors===void 0?[]:M.parameterDescriptors.reduce((lt,{name:ft})=>({...lt,[ft]:new Float32Array(128)}),{});let ct=!0;const mt=()=>{x.numberOfOutputs>0&&Q.disconnect(Y);for(let lt=0,ft=0;lt<x.numberOfOutputs;lt+=1){const It=st[lt];for(let kt=0;kt<C[lt];kt+=1)Y.disconnect(It,ft+kt,kt);ft+=C[lt]}},rt=new Map;Q.onaudioprocess=({inputBuffer:lt,outputBuffer:ft})=>{if(A!==null){const It=y(J);for(let kt=0;kt<K;kt+=128){for(let St=0;St<x.numberOfInputs;St+=1)for(let jt=0;jt<x.channelCount;jt+=1)Vo(lt,$[St],jt,jt,kt);M.parameterDescriptors!==void 0&&M.parameterDescriptors.forEach(({name:St},jt)=>{Vo(lt,nt,St,G+jt,kt)});for(let St=0;St<x.numberOfInputs;St+=1)for(let jt=0;jt<C[St];jt+=1)it[St][jt].byteLength===0&&(it[St][jt]=new Float32Array(128));try{const St=$.map((ae,cn)=>{if(It[cn].size>0)return rt.set(cn,K/128),ae;const me=rt.get(cn);return me===void 0?[]:(ae.every(za=>za.every(Ei=>Ei===0))&&(me===1?rt.delete(cn):rt.set(cn,me-1)),ae)});ct=_(S.currentTime+kt/S.sampleRate,S.sampleRate,()=>A.process(St,it,nt));for(let ae=0,cn=0;ae<x.numberOfOutputs;ae+=1){for(let In=0;In<C[ae];In+=1)Q_(ft,it[ae],In,cn+In,kt);cn+=C[ae]}}catch(St){ct=!1,J.dispatchEvent(new ErrorEvent("processorerror",{colno:St.colno,filename:St.filename,lineno:St.lineno,message:St.message}))}if(!ct){for(let St=0;St<x.numberOfInputs;St+=1){z[St].disconnect(j[St]);for(let jt=0;jt<x.channelCount;jt+=1)j[kt].disconnect(W,jt,St*x.channelCount+jt)}if(M.parameterDescriptors!==void 0){const St=M.parameterDescriptors.length;for(let jt=0;jt<St;jt+=1){const ae=R[jt];ae.disconnect(W,0,G+jt),ae.stop()}}W.disconnect(Q),Q.onaudioprocess=null,wt?mt():Te();break}}}};let wt=!1;const de=f(S,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),_e=()=>Q.connect(de).connect(S.destination),Te=()=>{Q.disconnect(de),de.disconnect()},zn=()=>{if(ct){Te(),x.numberOfOutputs>0&&Q.connect(Y);for(let lt=0,ft=0;lt<x.numberOfOutputs;lt+=1){const It=st[lt];for(let kt=0;kt<C[lt];kt+=1)Y.connect(It,ft+kt,kt);ft+=C[lt]}}wt=!0},Be=()=>{ct&&(_e(),mt()),wt=!1};return _e(),b(J,zn,Be)},J_=(l,e)=>{const i=l.createBiquadFilter();return ge(i,e),te(i,e,"Q"),te(i,e,"detune"),te(i,e,"frequency"),te(i,e,"gain"),Wt(i,e,"type"),i},gT=(l,e)=>(i,a)=>{const o=i.createChannelMerger(a.numberOfInputs);return l!==null&&l.name==="webkitAudioContext"&&e(i,o),ge(o,a),o},_T=l=>{const e=l.numberOfOutputs;Object.defineProperty(l,"channelCount",{get:()=>e,set:i=>{if(i!==e)throw be()}}),Object.defineProperty(l,"channelCountMode",{get:()=>"explicit",set:i=>{if(i!=="explicit")throw be()}}),Object.defineProperty(l,"channelInterpretation",{get:()=>"discrete",set:i=>{if(i!=="discrete")throw be()}})},Ir=(l,e)=>{const i=l.createChannelSplitter(e.numberOfOutputs);return ge(i,e),_T(i),i},yT=(l,e,i,a,o)=>(u,f)=>{if(u.createConstantSource===void 0)return i(u,f);const d=u.createConstantSource();return ge(d,f),te(d,f,"offset"),e(a,()=>a(u))||hf(d),e(o,()=>o(u))||ff(d),l(u,d),d},Ea=(l,e)=>(l.connect=e.connect.bind(e),l.disconnect=e.disconnect.bind(e),l),vT=(l,e,i,a)=>(o,{offset:u,...f})=>{const d=o.createBuffer(1,2,44100),m=e(o,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),p=i(o,{...f,gain:u}),_=d.getChannelData(0);_[0]=1,_[1]=1,m.buffer=d,m.loop=!0;const y={get bufferSize(){},get channelCount(){return p.channelCount},set channelCount(T){p.channelCount=T},get channelCountMode(){return p.channelCountMode},set channelCountMode(T){p.channelCountMode=T},get channelInterpretation(){return p.channelInterpretation},set channelInterpretation(T){p.channelInterpretation=T},get context(){return p.context},get inputs(){return[]},get numberOfInputs(){return m.numberOfInputs},get numberOfOutputs(){return p.numberOfOutputs},get offset(){return p.gain},get onended(){return m.onended},set onended(T){m.onended=T},addEventListener(...T){return m.addEventListener(T[0],T[1],T[2])},dispatchEvent(...T){return m.dispatchEvent(T[0])},removeEventListener(...T){return m.removeEventListener(T[0],T[1],T[2])},start(T=0){m.start.call(m,T)},stop(T=0){m.stop.call(m,T)}},b=()=>m.connect(p),S=()=>m.disconnect(p);return l(o,m),a(Ea(y,p),b,S)},bT=(l,e)=>(i,a)=>{const o=i.createConvolver();if(ge(o,a),a.disableNormalization===o.normalize&&(o.normalize=!a.disableNormalization),Wt(o,a,"buffer"),a.channelCount>2||(e(o,"channelCount",u=>()=>u.call(o),u=>f=>{if(f>2)throw l();return u.call(o,f)}),a.channelCountMode==="max"))throw l();return e(o,"channelCountMode",u=>()=>u.call(o),u=>f=>{if(f==="max")throw l();return u.call(o,f)}),o},$_=(l,e)=>{const i=l.createDelay(e.maxDelayTime);return ge(i,e),te(i,e,"delayTime"),i},ST=l=>(e,i)=>{const a=e.createDynamicsCompressor();if(ge(a,i),i.channelCount>2||i.channelCountMode==="max")throw l();return te(a,i,"attack"),te(a,i,"knee"),te(a,i,"ratio"),te(a,i,"release"),te(a,i,"threshold"),a},Qe=(l,e)=>{const i=l.createGain();return ge(i,e),te(i,e,"gain"),i},TT=l=>(e,i,a)=>{if(e.createIIRFilter===void 0)return l(e,i,a);const o=e.createIIRFilter(a.feedforward,a.feedback);return ge(o,a),o};function MT(l,e){const i=e[0]*e[0]+e[1]*e[1];return[(l[0]*e[0]+l[1]*e[1])/i,(l[1]*e[0]-l[0]*e[1])/i]}function AT(l,e){return[l[0]*e[0]-l[1]*e[1],l[0]*e[1]+l[1]*e[0]]}function p_(l,e){let i=[0,0];for(let a=l.length-1;a>=0;a-=1)i=AT(i,e),i[0]+=l[a];return i}const xT=(l,e,i,a)=>(o,u,{channelCount:f,channelCountMode:d,channelInterpretation:m,feedback:p,feedforward:_})=>{const y=K_(u,o.sampleRate),b=p instanceof Float64Array?p:new Float64Array(p),S=_ instanceof Float64Array?_:new Float64Array(_),T=b.length,M=S.length,x=Math.min(T,M);if(T===0||T>20)throw a();if(b[0]===0)throw e();if(M===0||M>20)throw a();if(S[0]===0)throw e();if(b[0]!==1){for(let R=0;R<M;R+=1)S[R]/=b[0];for(let R=1;R<T;R+=1)b[R]/=b[0]}const C=i(o,y,f,f);C.channelCount=f,C.channelCountMode=d,C.channelInterpretation=m;const G=32,U=[],X=[],E=[];for(let R=0;R<f;R+=1){U.push(0);const W=new Float32Array(G),K=new Float32Array(G);W.fill(0),K.fill(0),X.push(W),E.push(K)}C.onaudioprocess=R=>{const W=R.inputBuffer,K=R.outputBuffer,Q=W.numberOfChannels;for(let Y=0;Y<Q;Y+=1){const st=W.getChannelData(Y),tt=K.getChannelData(Y);U[Y]=W_(b,T,S,M,x,X[Y],E[Y],U[Y],G,st,tt)}};const z=o.sampleRate/2;return Ea({get bufferSize(){return y},get channelCount(){return C.channelCount},set channelCount(R){C.channelCount=R},get channelCountMode(){return C.channelCountMode},set channelCountMode(R){C.channelCountMode=R},get channelInterpretation(){return C.channelInterpretation},set channelInterpretation(R){C.channelInterpretation=R},get context(){return C.context},get inputs(){return[C]},get numberOfInputs(){return C.numberOfInputs},get numberOfOutputs(){return C.numberOfOutputs},addEventListener(...R){return C.addEventListener(R[0],R[1],R[2])},dispatchEvent(...R){return C.dispatchEvent(R[0])},getFrequencyResponse(R,W,K){if(R.length!==W.length||W.length!==K.length)throw l();const Q=R.length;for(let Y=0;Y<Q;Y+=1){const st=-Math.PI*(R[Y]/z),tt=[Math.cos(st),Math.sin(st)],ot=p_(S,tt),O=p_(b,tt),L=MT(ot,O);W[Y]=Math.sqrt(L[0]*L[0]+L[1]*L[1]),K[Y]=Math.atan2(L[1],L[0])}},removeEventListener(...R){return C.removeEventListener(R[0],R[1],R[2])}},C)},NT=(l,e)=>l.createMediaElementSource(e.mediaElement),CT=(l,e)=>{const i=l.createMediaStreamDestination();return ge(i,e),i.numberOfOutputs===1&&Object.defineProperty(i,"numberOfOutputs",{get:()=>0}),i},wT=(l,{mediaStream:e})=>{const i=e.getAudioTracks();i.sort((u,f)=>u.id<f.id?-1:u.id>f.id?1:0);const a=i.slice(0,1),o=l.createMediaStreamSource(new MediaStream(a));return Object.defineProperty(o,"mediaStream",{value:e}),o},ET=(l,e)=>(i,{mediaStreamTrack:a})=>{if(typeof i.createMediaStreamTrackSource=="function")return i.createMediaStreamTrackSource(a);const o=new MediaStream([a]),u=i.createMediaStreamSource(o);if(a.kind!=="audio")throw l();if(e(i))throw new TypeError;return u},OT=l=>l===null?null:l.hasOwnProperty("OfflineAudioContext")?l.OfflineAudioContext:l.hasOwnProperty("webkitOfflineAudioContext")?l.webkitOfflineAudioContext:null,DT=(l,e,i,a,o,u)=>(f,d)=>{const m=f.createOscillator();return ge(m,d),te(m,d,"detune"),te(m,d,"frequency"),d.periodicWave!==void 0?m.setPeriodicWave(d.periodicWave):Wt(m,d,"type"),e(i,()=>i(f))||hf(m),e(a,()=>a(f))||u(m,f),e(o,()=>o(f))||ff(m),l(f,m),m},RT=l=>(e,i)=>{const a=e.createPanner();return a.orientationX===void 0?l(e,i):(ge(a,i),te(a,i,"orientationX"),te(a,i,"orientationY"),te(a,i,"orientationZ"),te(a,i,"positionX"),te(a,i,"positionY"),te(a,i,"positionZ"),Wt(a,i,"coneInnerAngle"),Wt(a,i,"coneOuterAngle"),Wt(a,i,"coneOuterGain"),Wt(a,i,"distanceModel"),Wt(a,i,"maxDistance"),Wt(a,i,"panningModel"),Wt(a,i,"refDistance"),Wt(a,i,"rolloffFactor"),a)},kT=(l,e,i,a,o,u,f,d,m,p)=>(_,{coneInnerAngle:y,coneOuterAngle:b,coneOuterGain:S,distanceModel:T,maxDistance:M,orientationX:x,orientationY:C,orientationZ:G,panningModel:U,positionX:X,positionY:E,positionZ:z,refDistance:j,rolloffFactor:R,...W})=>{const K=_.createPanner();if(W.channelCount>2||W.channelCountMode==="max")throw f();ge(K,W);const Q={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},Y=i(_,{...Q,channelInterpretation:"speakers",numberOfInputs:6}),st=a(_,{...W,gain:1}),tt=a(_,{...Q,gain:1}),ot=a(_,{...Q,gain:0}),O=a(_,{...Q,gain:0}),L=a(_,{...Q,gain:0}),J=a(_,{...Q,gain:0}),et=a(_,{...Q,gain:0}),at=o(_,256,6,1),A=u(_,{...Q,curve:new Float32Array([1,1]),oversample:"none"});let B=[x,C,G],$=[X,E,z];const it=new Float32Array(1);at.onaudioprocess=({inputBuffer:rt})=>{const wt=[m(rt,it,0),m(rt,it,1),m(rt,it,2)];wt.some((_e,Te)=>_e!==B[Te])&&(K.setOrientation(...wt),B=wt);const de=[m(rt,it,3),m(rt,it,4),m(rt,it,5)];de.some((_e,Te)=>_e!==$[Te])&&(K.setPosition(...de),$=de)},Object.defineProperty(ot.gain,"defaultValue",{get:()=>0}),Object.defineProperty(O.gain,"defaultValue",{get:()=>0}),Object.defineProperty(L.gain,"defaultValue",{get:()=>0}),Object.defineProperty(J.gain,"defaultValue",{get:()=>0}),Object.defineProperty(et.gain,"defaultValue",{get:()=>0});const nt={get bufferSize(){},get channelCount(){return K.channelCount},set channelCount(rt){if(rt>2)throw f();st.channelCount=rt,K.channelCount=rt},get channelCountMode(){return K.channelCountMode},set channelCountMode(rt){if(rt==="max")throw f();st.channelCountMode=rt,K.channelCountMode=rt},get channelInterpretation(){return K.channelInterpretation},set channelInterpretation(rt){st.channelInterpretation=rt,K.channelInterpretation=rt},get coneInnerAngle(){return K.coneInnerAngle},set coneInnerAngle(rt){K.coneInnerAngle=rt},get coneOuterAngle(){return K.coneOuterAngle},set coneOuterAngle(rt){K.coneOuterAngle=rt},get coneOuterGain(){return K.coneOuterGain},set coneOuterGain(rt){if(rt<0||rt>1)throw e();K.coneOuterGain=rt},get context(){return K.context},get distanceModel(){return K.distanceModel},set distanceModel(rt){K.distanceModel=rt},get inputs(){return[st]},get maxDistance(){return K.maxDistance},set maxDistance(rt){if(rt<0)throw new RangeError;K.maxDistance=rt},get numberOfInputs(){return K.numberOfInputs},get numberOfOutputs(){return K.numberOfOutputs},get orientationX(){return tt.gain},get orientationY(){return ot.gain},get orientationZ(){return O.gain},get panningModel(){return K.panningModel},set panningModel(rt){K.panningModel=rt},get positionX(){return L.gain},get positionY(){return J.gain},get positionZ(){return et.gain},get refDistance(){return K.refDistance},set refDistance(rt){if(rt<0)throw new RangeError;K.refDistance=rt},get rolloffFactor(){return K.rolloffFactor},set rolloffFactor(rt){if(rt<0)throw new RangeError;K.rolloffFactor=rt},addEventListener(...rt){return st.addEventListener(rt[0],rt[1],rt[2])},dispatchEvent(...rt){return st.dispatchEvent(rt[0])},removeEventListener(...rt){return st.removeEventListener(rt[0],rt[1],rt[2])}};y!==nt.coneInnerAngle&&(nt.coneInnerAngle=y),b!==nt.coneOuterAngle&&(nt.coneOuterAngle=b),S!==nt.coneOuterGain&&(nt.coneOuterGain=S),T!==nt.distanceModel&&(nt.distanceModel=T),M!==nt.maxDistance&&(nt.maxDistance=M),x!==nt.orientationX.value&&(nt.orientationX.value=x),C!==nt.orientationY.value&&(nt.orientationY.value=C),G!==nt.orientationZ.value&&(nt.orientationZ.value=G),U!==nt.panningModel&&(nt.panningModel=U),X!==nt.positionX.value&&(nt.positionX.value=X),E!==nt.positionY.value&&(nt.positionY.value=E),z!==nt.positionZ.value&&(nt.positionZ.value=z),j!==nt.refDistance&&(nt.refDistance=j),R!==nt.rolloffFactor&&(nt.rolloffFactor=R),(B[0]!==1||B[1]!==0||B[2]!==0)&&K.setOrientation(...B),($[0]!==0||$[1]!==0||$[2]!==0)&&K.setPosition(...$);const ct=()=>{st.connect(K),l(st,A,0,0),A.connect(tt).connect(Y,0,0),A.connect(ot).connect(Y,0,1),A.connect(O).connect(Y,0,2),A.connect(L).connect(Y,0,3),A.connect(J).connect(Y,0,4),A.connect(et).connect(Y,0,5),Y.connect(at).connect(_.destination)},mt=()=>{st.disconnect(K),d(st,A,0,0),A.disconnect(tt),tt.disconnect(Y),A.disconnect(ot),ot.disconnect(Y),A.disconnect(O),O.disconnect(Y),A.disconnect(L),L.disconnect(Y),A.disconnect(J),J.disconnect(Y),A.disconnect(et),et.disconnect(Y),Y.disconnect(at),at.disconnect(_.destination)};return p(Ea(nt,K),ct,mt)},jT=l=>(e,{disableNormalization:i,imag:a,real:o})=>{const u=a instanceof Float32Array?a:new Float32Array(a),f=o instanceof Float32Array?o:new Float32Array(o),d=e.createPeriodicWave(f,u,{disableNormalization:i});if(Array.from(a).length<2)throw l();return d},Yr=(l,e,i,a)=>l.createScriptProcessor(e,i,a),zT=(l,e)=>(i,a)=>{const o=a.channelCountMode;if(o==="clamped-max")throw e();if(i.createStereoPanner===void 0)return l(i,a);const u=i.createStereoPanner();return ge(u,a),te(u,a,"pan"),Object.defineProperty(u,"channelCountMode",{get:()=>o,set:f=>{if(f!==o)throw e()}}),u},VT=(l,e,i,a,o,u)=>{const d=new Float32Array([1,1]),m=Math.PI/2,p={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},_={...p,oversample:"none"},y=(T,M,x,C)=>{const G=new Float32Array(16385),U=new Float32Array(16385);for(let W=0;W<16385;W+=1){const K=W/16384*m;G[W]=Math.cos(K),U[W]=Math.sin(K)}const X=i(T,{...p,gain:0}),E=a(T,{..._,curve:G}),z=a(T,{..._,curve:d}),j=i(T,{...p,gain:0}),R=a(T,{..._,curve:U});return{connectGraph(){M.connect(X),M.connect(z.inputs===void 0?z:z.inputs[0]),M.connect(j),z.connect(x),x.connect(E.inputs===void 0?E:E.inputs[0]),x.connect(R.inputs===void 0?R:R.inputs[0]),E.connect(X.gain),R.connect(j.gain),X.connect(C,0,0),j.connect(C,0,1)},disconnectGraph(){M.disconnect(X),M.disconnect(z.inputs===void 0?z:z.inputs[0]),M.disconnect(j),z.disconnect(x),x.disconnect(E.inputs===void 0?E:E.inputs[0]),x.disconnect(R.inputs===void 0?R:R.inputs[0]),E.disconnect(X.gain),R.disconnect(j.gain),X.disconnect(C,0,0),j.disconnect(C,0,1)}}},b=(T,M,x,C)=>{const G=new Float32Array(16385),U=new Float32Array(16385),X=new Float32Array(16385),E=new Float32Array(16385),z=Math.floor(16385/2);for(let L=0;L<16385;L+=1)if(L>z){const J=(L-z)/(16384-z)*m;G[L]=Math.cos(J),U[L]=Math.sin(J),X[L]=0,E[L]=1}else{const J=L/(16384-z)*m;G[L]=1,U[L]=0,X[L]=Math.cos(J),E[L]=Math.sin(J)}const j=e(T,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),R=i(T,{...p,gain:0}),W=a(T,{..._,curve:G}),K=i(T,{...p,gain:0}),Q=a(T,{..._,curve:U}),Y=a(T,{..._,curve:d}),st=i(T,{...p,gain:0}),tt=a(T,{..._,curve:X}),ot=i(T,{...p,gain:0}),O=a(T,{..._,curve:E});return{connectGraph(){M.connect(j),M.connect(Y.inputs===void 0?Y:Y.inputs[0]),j.connect(R,0),j.connect(K,0),j.connect(st,1),j.connect(ot,1),Y.connect(x),x.connect(W.inputs===void 0?W:W.inputs[0]),x.connect(Q.inputs===void 0?Q:Q.inputs[0]),x.connect(tt.inputs===void 0?tt:tt.inputs[0]),x.connect(O.inputs===void 0?O:O.inputs[0]),W.connect(R.gain),Q.connect(K.gain),tt.connect(st.gain),O.connect(ot.gain),R.connect(C,0,0),st.connect(C,0,0),K.connect(C,0,1),ot.connect(C,0,1)},disconnectGraph(){M.disconnect(j),M.disconnect(Y.inputs===void 0?Y:Y.inputs[0]),j.disconnect(R,0),j.disconnect(K,0),j.disconnect(st,1),j.disconnect(ot,1),Y.disconnect(x),x.disconnect(W.inputs===void 0?W:W.inputs[0]),x.disconnect(Q.inputs===void 0?Q:Q.inputs[0]),x.disconnect(tt.inputs===void 0?tt:tt.inputs[0]),x.disconnect(O.inputs===void 0?O:O.inputs[0]),W.disconnect(R.gain),Q.disconnect(K.gain),tt.disconnect(st.gain),O.disconnect(ot.gain),R.disconnect(C,0,0),st.disconnect(C,0,0),K.disconnect(C,0,1),ot.disconnect(C,0,1)}}},S=(T,M,x,C,G)=>{if(M===1)return y(T,x,C,G);if(M===2)return b(T,x,C,G);throw o()};return(T,{channelCount:M,channelCountMode:x,pan:C,...G})=>{if(x==="max")throw o();const U=l(T,{...G,channelCount:1,channelCountMode:x,numberOfInputs:2}),X=i(T,{...G,channelCount:M,channelCountMode:x,gain:1}),E=i(T,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:C});let{connectGraph:z,disconnectGraph:j}=S(T,M,X,E,U);Object.defineProperty(E.gain,"defaultValue",{get:()=>0}),Object.defineProperty(E.gain,"maxValue",{get:()=>1}),Object.defineProperty(E.gain,"minValue",{get:()=>-1});const R={get bufferSize(){},get channelCount(){return X.channelCount},set channelCount(Y){X.channelCount!==Y&&(W&&j(),{connectGraph:z,disconnectGraph:j}=S(T,Y,X,E,U),W&&z()),X.channelCount=Y},get channelCountMode(){return X.channelCountMode},set channelCountMode(Y){if(Y==="clamped-max"||Y==="max")throw o();X.channelCountMode=Y},get channelInterpretation(){return X.channelInterpretation},set channelInterpretation(Y){X.channelInterpretation=Y},get context(){return X.context},get inputs(){return[X]},get numberOfInputs(){return X.numberOfInputs},get numberOfOutputs(){return X.numberOfOutputs},get pan(){return E.gain},addEventListener(...Y){return X.addEventListener(Y[0],Y[1],Y[2])},dispatchEvent(...Y){return X.dispatchEvent(Y[0])},removeEventListener(...Y){return X.removeEventListener(Y[0],Y[1],Y[2])}};let W=!1;const K=()=>{z(),W=!0},Q=()=>{j(),W=!1};return u(Ea(R,U),K,Q)}},PT=(l,e,i,a,o,u,f)=>(d,m)=>{const p=d.createWaveShaper();if(u!==null&&u.name==="webkitAudioContext"&&d.createGain().gain.automationRate===void 0)return i(d,m);ge(p,m);const _=m.curve===null||m.curve instanceof Float32Array?m.curve:new Float32Array(m.curve);if(_!==null&&_.length<2)throw e();Wt(p,{curve:_},"curve"),Wt(p,m,"oversample");let y=null,b=!1;return f(p,"curve",M=>()=>M.call(p),M=>x=>(M.call(p,x),b&&(a(x)&&y===null?y=l(d,p):!a(x)&&y!==null&&(y(),y=null)),x)),o(p,()=>{b=!0,a(p.curve)&&(y=l(d,p))},()=>{b=!1,y!==null&&(y(),y=null)})},qT=(l,e,i,a,o)=>(u,{curve:f,oversample:d,...m})=>{const p=u.createWaveShaper(),_=u.createWaveShaper();ge(p,m),ge(_,m);const y=i(u,{...m,gain:1}),b=i(u,{...m,gain:-1}),S=i(u,{...m,gain:1}),T=i(u,{...m,gain:-1});let M=null,x=!1,C=null;const G={get bufferSize(){},get channelCount(){return p.channelCount},set channelCount(E){y.channelCount=E,b.channelCount=E,p.channelCount=E,S.channelCount=E,_.channelCount=E,T.channelCount=E},get channelCountMode(){return p.channelCountMode},set channelCountMode(E){y.channelCountMode=E,b.channelCountMode=E,p.channelCountMode=E,S.channelCountMode=E,_.channelCountMode=E,T.channelCountMode=E},get channelInterpretation(){return p.channelInterpretation},set channelInterpretation(E){y.channelInterpretation=E,b.channelInterpretation=E,p.channelInterpretation=E,S.channelInterpretation=E,_.channelInterpretation=E,T.channelInterpretation=E},get context(){return p.context},get curve(){return C},set curve(E){if(E!==null&&E.length<2)throw e();if(E===null)p.curve=E,_.curve=E;else{const z=E.length,j=new Float32Array(z+2-z%2),R=new Float32Array(z+2-z%2);j[0]=E[0],R[0]=-E[z-1];const W=Math.ceil((z+1)/2),K=(z+1)/2-1;for(let Q=1;Q<W;Q+=1){const Y=Q/W*K,st=Math.floor(Y),tt=Math.ceil(Y);j[Q]=st===tt?E[st]:(1-(Y-st))*E[st]+(1-(tt-Y))*E[tt],R[Q]=st===tt?-E[z-1-st]:-((1-(Y-st))*E[z-1-st])-(1-(tt-Y))*E[z-1-tt]}j[W]=z%2===1?E[W-1]:(E[W-2]+E[W-1])/2,p.curve=j,_.curve=R}C=E,x&&(a(C)&&M===null?M=l(u,y):M!==null&&(M(),M=null))},get inputs(){return[y]},get numberOfInputs(){return p.numberOfInputs},get numberOfOutputs(){return p.numberOfOutputs},get oversample(){return p.oversample},set oversample(E){p.oversample=E,_.oversample=E},addEventListener(...E){return y.addEventListener(E[0],E[1],E[2])},dispatchEvent(...E){return y.dispatchEvent(E[0])},removeEventListener(...E){return y.removeEventListener(E[0],E[1],E[2])}};f!==null&&(G.curve=f instanceof Float32Array?f:new Float32Array(f)),d!==G.oversample&&(G.oversample=d);const U=()=>{y.connect(p).connect(S),y.connect(b).connect(_).connect(T).connect(S),x=!0,a(C)&&(M=l(u,y))},X=()=>{y.disconnect(p),p.disconnect(S),y.disconnect(b),b.disconnect(_),_.disconnect(T),T.disconnect(S),x=!1,M!==null&&(M(),M=null)};return o(Ea(G,S),U,X)},qe=()=>new DOMException("","NotSupportedError"),BT={numberOfChannels:1},UT=(l,e,i,a,o)=>class extends l{constructor(f,d,m){let p;if(typeof f=="number"&&d!==void 0&&m!==void 0)p={length:d,numberOfChannels:f,sampleRate:m};else if(typeof f=="object")p=f;else throw new Error("The given parameters are not valid.");const{length:_,numberOfChannels:y,sampleRate:b}={...BT,...p},S=a(y,_,b);e(Vr,()=>Vr(S))||S.addEventListener("statechange",(()=>{let T=0;const M=x=>{this._state==="running"&&(T>0?(S.removeEventListener("statechange",M),x.stopImmediatePropagation(),this._waitForThePromiseToSettle(x)):T+=1)};return M})()),super(S,y),this._length=_,this._nativeOfflineAudioContext=S,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(i()):(this._state="running",o(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,I_(this)}))}_waitForThePromiseToSettle(f){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(f):setTimeout(()=>this._waitForThePromiseToSettle(f))}},LT={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},HT=(l,e,i,a,o,u,f)=>class extends l{constructor(m,p){const _=o(m),y={...LT,...p},b=i(_,y),S=u(_),T=S?a():null,M=m.sampleRate/2;super(m,!1,b,T),this._detune=e(this,S,b.detune,153600,-153600),this._frequency=e(this,S,b.frequency,M,-M),this._nativeOscillatorNode=b,this._onended=null,this._oscillatorNodeRenderer=T,this._oscillatorNodeRenderer!==null&&y.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=y.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(m){const p=typeof m=="function"?f(this,m):null;this._nativeOscillatorNode.onended=p;const _=this._nativeOscillatorNode.onended;this._onended=_!==null&&_===p?m:_}get type(){return this._nativeOscillatorNode.type}set type(m){this._nativeOscillatorNode.type=m,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(m){this._nativeOscillatorNode.setPeriodicWave(m),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=m)}start(m=0){if(this._nativeOscillatorNode.start(m),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=m),this.context.state!=="closed"){Ta(this);const p=()=>{this._nativeOscillatorNode.removeEventListener("ended",p),us(this)&&Lr(this)};this._nativeOscillatorNode.addEventListener("ended",p)}}stop(m=0){this._nativeOscillatorNode.stop(m),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=m)}},GT=(l,e,i,a,o)=>()=>{const u=new WeakMap;let f=null,d=null,m=null;const p=async(_,y)=>{let b=i(_);const S=je(b,y);if(!S){const T={channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,detune:b.detune.value,frequency:b.frequency.value,periodicWave:f===null?void 0:f,type:b.type};b=e(y,T),d!==null&&b.start(d),m!==null&&b.stop(m)}return u.set(y,b),S?(await l(y,_.detune,b.detune),await l(y,_.frequency,b.frequency)):(await a(y,_.detune,b.detune),await a(y,_.frequency,b.frequency)),await o(_,y,b),b};return{set periodicWave(_){f=_},set start(_){d=_},set stop(_){m=_},render(_,y){const b=u.get(y);return b!==void 0?Promise.resolve(b):p(_,y)}}},IT={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},YT=(l,e,i,a,o,u,f)=>class extends l{constructor(m,p){const _=o(m),y={...IT,...p},b=i(_,y),S=u(_),T=S?a():null;super(m,!1,b,T),this._nativePannerNode=b,this._orientationX=e(this,S,b.orientationX,Ve,Xe),this._orientationY=e(this,S,b.orientationY,Ve,Xe),this._orientationZ=e(this,S,b.orientationZ,Ve,Xe),this._positionX=e(this,S,b.positionX,Ve,Xe),this._positionY=e(this,S,b.positionY,Ve,Xe),this._positionZ=e(this,S,b.positionZ,Ve,Xe),f(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(m){this._nativePannerNode.coneInnerAngle=m}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(m){this._nativePannerNode.coneOuterAngle=m}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(m){this._nativePannerNode.coneOuterGain=m}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(m){this._nativePannerNode.distanceModel=m}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(m){this._nativePannerNode.maxDistance=m}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(m){this._nativePannerNode.panningModel=m}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(m){this._nativePannerNode.refDistance=m}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(m){this._nativePannerNode.rolloffFactor=m}},FT=(l,e,i,a,o,u,f,d,m,p)=>()=>{const _=new WeakMap;let y=null;const b=async(S,T)=>{let M=null,x=u(S);const C={channelCount:x.channelCount,channelCountMode:x.channelCountMode,channelInterpretation:x.channelInterpretation},G={...C,coneInnerAngle:x.coneInnerAngle,coneOuterAngle:x.coneOuterAngle,coneOuterGain:x.coneOuterGain,distanceModel:x.distanceModel,maxDistance:x.maxDistance,panningModel:x.panningModel,refDistance:x.refDistance,rolloffFactor:x.rolloffFactor},U=je(x,T);if("bufferSize"in x)M=a(T,{...C,gain:1});else if(!U){const X={...G,orientationX:x.orientationX.value,orientationY:x.orientationY.value,orientationZ:x.orientationZ.value,positionX:x.positionX.value,positionY:x.positionY.value,positionZ:x.positionZ.value};x=o(T,X)}if(_.set(T,M===null?x:M),M!==null){if(y===null){if(f===null)throw new Error("Missing the native OfflineAudioContext constructor.");const Q=new f(6,S.context.length,T.sampleRate),Y=e(Q,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});Y.connect(Q.destination),y=(async()=>{const st=await Promise.all([S.orientationX,S.orientationY,S.orientationZ,S.positionX,S.positionY,S.positionZ].map(async(tt,ot)=>{const O=i(Q,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ot===0?1:0});return await d(Q,tt,O.offset),O}));for(let tt=0;tt<6;tt+=1)st[tt].connect(Y,0,tt),st[tt].start(0);return p(Q)})()}const X=await y,E=a(T,{...C,gain:1});await m(S,T,E);const z=[];for(let Q=0;Q<X.numberOfChannels;Q+=1)z.push(X.getChannelData(Q));let j=[z[0][0],z[1][0],z[2][0]],R=[z[3][0],z[4][0],z[5][0]],W=a(T,{...C,gain:1}),K=o(T,{...G,orientationX:j[0],orientationY:j[1],orientationZ:j[2],positionX:R[0],positionY:R[1],positionZ:R[2]});E.connect(W).connect(K.inputs[0]),K.connect(M);for(let Q=128;Q<X.length;Q+=128){const Y=[z[0][Q],z[1][Q],z[2][Q]],st=[z[3][Q],z[4][Q],z[5][Q]];if(Y.some((tt,ot)=>tt!==j[ot])||st.some((tt,ot)=>tt!==R[ot])){j=Y,R=st;const tt=Q/T.sampleRate;W.gain.setValueAtTime(0,tt),W=a(T,{...C,gain:0}),K=o(T,{...G,orientationX:j[0],orientationY:j[1],orientationZ:j[2],positionX:R[0],positionY:R[1],positionZ:R[2]}),W.gain.setValueAtTime(1,tt),E.connect(W).connect(K.inputs[0]),K.connect(M)}}return M}return U?(await l(T,S.orientationX,x.orientationX),await l(T,S.orientationY,x.orientationY),await l(T,S.orientationZ,x.orientationZ),await l(T,S.positionX,x.positionX),await l(T,S.positionY,x.positionY),await l(T,S.positionZ,x.positionZ)):(await d(T,S.orientationX,x.orientationX),await d(T,S.orientationY,x.orientationY),await d(T,S.orientationZ,x.orientationZ),await d(T,S.positionX,x.positionX),await d(T,S.positionY,x.positionY),await d(T,S.positionZ,x.positionZ)),wa(x)?await m(S,T,x.inputs[0]):await m(S,T,x),x};return{render(S,T){const M=_.get(T);return M!==void 0?Promise.resolve(M):b(S,T)}}},XT={disableNormalization:!1},ZT=(l,e,i,a)=>class ty{constructor(u,f){const d=e(u),m=a({...XT,...f}),p=l(d,m);return i.add(p),p}static[Symbol.hasInstance](u){return u!==null&&typeof u=="object"&&Object.getPrototypeOf(u)===ty.prototype||i.has(u)}},QT=(l,e)=>(i,a,o)=>(l(a).replay(o),e(a,i,o)),WT=(l,e,i)=>async(a,o,u)=>{const f=l(a);await Promise.all(f.activeInputs.map((d,m)=>Array.from(d).map(async([p,_])=>{const b=await e(p).render(p,o),S=a.context.destination;!i(p)&&(a!==S||!i(a))&&b.connect(u,_,m)})).reduce((d,m)=>[...d,...m],[]))},KT=(l,e,i)=>async(a,o,u)=>{const f=e(a);await Promise.all(Array.from(f.activeInputs).map(async([d,m])=>{const _=await l(d).render(d,o);i(d)||_.connect(u,m)}))},JT=(l,e,i,a)=>o=>l(Vr,()=>Vr(o))?Promise.resolve(l(a,a)).then(u=>{if(!u){const f=i(o,512,0,1);o.oncomplete=()=>{f.onaudioprocess=null,f.disconnect()},f.onaudioprocess=()=>o.currentTime,f.connect(o.destination)}return o.startRendering()}):new Promise(u=>{const f=e(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});o.oncomplete=d=>{f.disconnect(),u(d.renderedBuffer)},f.connect(o.destination),o.startRendering()}),$T=l=>(e,i)=>{l.set(e,i)},tM=l=>(e,i)=>l.set(e,i),eM=(l,e,i,a,o,u,f,d)=>(m,p)=>i(m).render(m,p).then(()=>Promise.all(Array.from(a(p)).map(_=>i(_).render(_,p)))).then(()=>o(p)).then(_=>(typeof _.copyFromChannel!="function"?(f(_),of(_)):e(u,()=>u(_))||d(_),l.add(_),_)),nM={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},sM=(l,e,i,a,o,u)=>class extends l{constructor(d,m){const p=o(d),_={...nM,...m},y=i(p,_),b=u(p),S=b?a():null;super(d,!1,y,S),this._pan=e(this,b,y.pan)}get pan(){return this._pan}},iM=(l,e,i,a,o)=>()=>{const u=new WeakMap,f=async(d,m)=>{let p=i(d);const _=je(p,m);if(!_){const y={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,pan:p.pan.value};p=e(m,y)}return u.set(m,p),_?await l(m,d.pan,p.pan):await a(m,d.pan,p.pan),wa(p)?await o(d,m,p.inputs[0]):await o(d,m,p),p};return{render(d,m){const p=u.get(m);return p!==void 0?Promise.resolve(p):f(d,m)}}},aM=l=>()=>{if(l===null)return!1;try{new l({length:1,sampleRate:44100})}catch{return!1}return!0},rM=(l,e)=>async()=>{if(l===null)return!0;if(e===null)return!1;const i=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),a=new e(1,128,44100),o=URL.createObjectURL(i);let u=!1,f=!1;try{await a.audioWorklet.addModule(o);const d=new l(a,"a",{numberOfOutputs:0}),m=a.createOscillator();d.port.onmessage=()=>u=!0,d.onprocessorerror=()=>f=!0,m.connect(d),m.start(0),await a.startRendering(),await new Promise(p=>setTimeout(p))}catch{}finally{URL.revokeObjectURL(o)}return u&&!f},lM=(l,e)=>()=>{if(e===null)return Promise.resolve(!1);const i=new e(1,1,44100),a=l(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(o=>{i.oncomplete=()=>{a.disconnect(),o(i.currentTime!==0)},i.startRendering()})},oM=()=>new DOMException("","UnknownError"),cM={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},uM=(l,e,i,a,o,u,f)=>class extends l{constructor(m,p){const _=o(m),y={...cM,...p},b=i(_,y),T=u(_)?a():null;super(m,!0,b,T),this._isCurveNullified=!1,this._nativeWaveShaperNode=b,f(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(m){if(m===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(m.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=m}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(m){this._nativeWaveShaperNode.oversample=m}},hM=(l,e,i)=>()=>{const a=new WeakMap,o=async(u,f)=>{let d=e(u);if(!je(d,f)){const p={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,curve:d.curve,oversample:d.oversample};d=l(f,p)}return a.set(f,d),wa(d)?await i(u,f,d.inputs[0]):await i(u,f,d),d};return{render(u,f){const d=a.get(f);return d!==void 0?Promise.resolve(d):o(u,f)}}},fM=()=>typeof window>"u"?null:window,dM=(l,e)=>i=>{i.copyFromChannel=(a,o,u=0)=>{const f=l(u),d=l(o);if(d>=i.numberOfChannels)throw e();const m=i.length,p=i.getChannelData(d),_=a.length;for(let y=f<0?-f:0;y+f<m&&y<_;y+=1)a[y]=p[y+f]},i.copyToChannel=(a,o,u=0)=>{const f=l(u),d=l(o);if(d>=i.numberOfChannels)throw e();const m=i.length,p=i.getChannelData(d),_=a.length;for(let y=f<0?-f:0;y+f<m&&y<_;y+=1)p[y+f]=a[y]}},mM=l=>e=>{e.copyFromChannel=(i=>(a,o,u=0)=>{const f=l(u),d=l(o);if(f<e.length)return i.call(e,a,d,f)})(e.copyFromChannel),e.copyToChannel=(i=>(a,o,u=0)=>{const f=l(u),d=l(o);if(f<e.length)return i.call(e,a,d,f)})(e.copyToChannel)},pM=l=>(e,i)=>{const a=i.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=a),l(e,"buffer",o=>()=>{const u=o.call(e);return u===a?null:u},o=>u=>o.call(e,u===null?a:u))},gM=(l,e)=>(i,a)=>{a.channelCount=1,a.channelCountMode="explicit",Object.defineProperty(a,"channelCount",{get:()=>1,set:()=>{throw l()}}),Object.defineProperty(a,"channelCountMode",{get:()=>"explicit",set:()=>{throw l()}});const o=i.createBufferSource();e(a,()=>{const d=a.numberOfInputs;for(let m=0;m<d;m+=1)o.connect(a,0,m)},()=>o.disconnect(a))},ey=(l,e,i)=>l.copyFromChannel===void 0?l.getChannelData(i)[0]:(l.copyFromChannel(e,i),e[0]),ny=l=>{if(l===null)return!1;const e=l.length;return e%2!==0?l[Math.floor(e/2)]!==0:l[e/2-1]+l[e/2]!==0},Fr=(l,e,i,a)=>{let o=l;for(;!o.hasOwnProperty(e);)o=Object.getPrototypeOf(o);const{get:u,set:f}=Object.getOwnPropertyDescriptor(o,e);Object.defineProperty(l,e,{get:i(u),set:a(f)})},_M=l=>({...l,outputChannelCount:l.outputChannelCount!==void 0?l.outputChannelCount:l.numberOfInputs===1&&l.numberOfOutputs===1?[l.channelCount]:Array.from({length:l.numberOfOutputs},()=>1)}),yM=l=>({...l,channelCount:l.numberOfOutputs}),vM=l=>{const{imag:e,real:i}=l;return e===void 0?i===void 0?{...l,imag:[0,0],real:[0,0]}:{...l,imag:Array.from(i,()=>0),real:i}:i===void 0?{...l,imag:e,real:Array.from(e,()=>0)}:{...l,imag:e,real:i}},sy=(l,e,i)=>{try{l.setValueAtTime(e,i)}catch(a){if(a.code!==9)throw a;sy(l,e,i+1e-7)}},bM=l=>{const e=l.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},SM=l=>{const e=l.createBufferSource(),i=l.createBuffer(1,1,44100);e.buffer=i;try{e.start(0,1)}catch{return!1}return!0},TM=l=>{const e=l.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},df=l=>{const e=l.createOscillator();try{e.start(-1)}catch(i){return i instanceof RangeError}return!1},iy=l=>{const e=l.createBuffer(1,1,44100),i=l.createBufferSource();i.buffer=e,i.start(),i.stop();try{return i.stop(),!0}catch{return!1}},mf=l=>{const e=l.createOscillator();try{e.stop(-1)}catch(i){return i instanceof RangeError}return!1},MM=l=>{const{port1:e,port2:i}=new MessageChannel;try{e.postMessage(l)}finally{e.close(),i.close()}},AM=l=>{l.start=(e=>(i=0,a=0,o)=>{const u=l.buffer,f=u===null?a:Math.min(u.duration,a);u!==null&&f>u.duration-.5/l.context.sampleRate?e.call(l,i,0,0):e.call(l,i,f,o)})(l.start)},ay=(l,e)=>{const i=e.createGain();l.connect(i);const a=(o=>()=>{o.call(l,i),l.removeEventListener("ended",a)})(l.disconnect);l.addEventListener("ended",a),Ea(l,i),l.stop=(o=>{let u=!1;return(f=0)=>{if(u)try{o.call(l,f)}catch{i.gain.setValueAtTime(0,f)}else o.call(l,f),u=!0}})(l.stop)},Oa=(l,e)=>i=>{const a={value:l};return Object.defineProperties(i,{currentTarget:a,target:a}),typeof e=="function"?e.call(l,i):e.handleEvent.call(l,i)},xM=Y1(xi),NM=K1(xi),CM=cS(Yo),ry=new WeakMap,wM=CS(ry),Rn=Bb(new Map,new WeakMap),Un=fM(),ly=sT(Rn,Ln),pf=NS(Pe),we=WT(Pe,pf,bi),EM=nb(ly,Xt,we),Gt=OS(Io),fs=OT(Un),Lt=XS(fs),oy=new WeakMap,cy=vS(Oa),Xr=lT(Un),gf=GS(Xr),_f=IS(Un),uy=YS(Un),Pr=cT(Un),ie=Cb(F1(P_),W1(xM,NM,ko,CM,jo,Pe,wM,Ur,Xt,xi,us,bi,Ao),Rn,qS(Gh,jo,Pe,Xt,zr,us),Ln,Fo,qe,aS(ko,Gh,Pe,Xt,zr,Gt,us,Lt),fS(oy,Pe,On),cy,Gt,gf,_f,uy,Lt,Pr),OM=eb(ie,EM,Ln,ly,Gt,Lt),yf=new WeakSet,g_=iT(Un),hy=Jb(new Uint32Array(1)),vf=dM(hy,Ln),bf=mM(hy),fy=ib(yf,Rn,qe,g_,fs,aM(g_),vf,bf),Xo=J1(Qe),dy=KT(pf,Hr,bi),Hn=Fb(dy),Da=rT(Xo,Rn,bM,SM,TM,df,iy,mf,AM,pM(Fr),ay),Gn=QT(wS(Hr),dy),DM=lb(Hn,Da,Xt,Gn,we),kn=wb(X1(q_),oy,lf,Eb,B1,U1,L1,H1,G1,Uh,z_,Xr,sy),RM=rb(ie,DM,kn,be,Da,Gt,Lt,Oa),kM=gb(ie,_b,Ln,be,oT(Qe,Fr),Gt,Lt,we),jM=qb(Hn,J_,Xt,Gn,we),Ni=tM(ry),zM=Pb(ie,kn,jM,Fo,J_,Gt,Lt,Ni),Xs=eT(xi,_f),VM=gM(be,Xs),Zs=gT(Xr,VM),PM=Hb(Zs,Xt,we),qM=Lb(ie,PM,Zs,Gt,Lt),BM=Yb(Ir,Xt,we),UM=Ib(ie,BM,Ir,Gt,Lt,yM),LM=vT(Xo,Da,Qe,Xs),Ra=yT(Xo,Rn,LM,df,mf),HM=Kb(Hn,Ra,Xt,Gn,we),GM=Wb(ie,kn,HM,Ra,Gt,Lt,Oa),my=bT(qe,Fr),IM=eS(my,Xt,we),YM=tS(ie,IM,my,Gt,Lt,Ni),FM=oS(Hn,$_,Xt,Gn,we),XM=lS(ie,kn,FM,$_,Gt,Lt,Ni),py=ST(qe),ZM=gS(Hn,py,Xt,Gn,we),QM=pS(ie,kn,ZM,py,qe,Gt,Lt,Ni),WM=AS(Hn,Qe,Xt,Gn,we),KM=MS(ie,kn,WM,Qe,Gt,Lt),JM=xT(Fo,be,Yr,qe),Zo=JT(Rn,Qe,Yr,lM(Qe,fs)),$M=PS(Da,Xt,fs,we,Zo),t2=TT(JM),e2=zS(ie,t2,$M,Gt,Lt,Ni),n2=yb(kn,Zs,Ra,Yr,qe,ey,Lt,Fr),gy=new WeakMap,s2=tT(kM,n2,cy,Lt,gy,Oa),_y=DT(Xo,Rn,df,iy,mf,ay),i2=GT(Hn,_y,Xt,Gn,we),a2=HT(ie,kn,_y,i2,Gt,Lt,Oa),yy=Zb(Da),r2=qT(yy,be,Qe,ny,Xs),Qo=PT(yy,be,r2,ny,Xs,Xr,Fr),l2=kT(ko,be,Zs,Qe,Yr,Qo,qe,jo,ey,Xs),vy=RT(l2),o2=FT(Hn,Zs,Ra,Qe,vy,Xt,fs,Gn,we,Zo),c2=YT(ie,kn,vy,o2,Gt,Lt,Ni),u2=jT(Ln),h2=ZT(u2,Gt,new WeakSet,vM),f2=VT(Zs,Ir,Qe,Qo,qe,Xs),by=zT(f2,qe),d2=iM(Hn,by,Xt,Gn,we),m2=sM(ie,kn,by,d2,Gt,Lt),p2=hM(Qo,Xt,we),g2=uM(ie,be,Qo,p2,Gt,Lt,Ni),Sy=ZS(Un),Sf=bS(Un),Ty=new WeakMap,_2=DS(Ty,fs),y2=Sy?Q1(Rn,qe,yS(Un),Sf,SS(I1),Gt,_2,Lt,Pr,new WeakMap,new WeakMap,rM(Pr,fs),Un):void 0,v2=FS(gf,Lt),b2=iS(yf,Rn,sS,_S,new WeakSet,Gt,v2,Do,Vr,vf,bf),My=zb(y2,OM,fy,RM,zM,qM,UM,GM,YM,b2,XM,QM,KM,e2,s2,a2,c2,h2,m2,g2),S2=QS(ie,NT,Gt,Lt),T2=KS(ie,CT,Gt,Lt),M2=JS(ie,wT,Gt,Lt),A2=ET(be,Lt),x2=$S(ie,A2,Gt),N2=pb(My,be,qe,oM,S2,T2,M2,x2,Xr),Tf=RS(gy),C2=$1(Tf),Ay=Xb(Ln),w2=uS(Tf),xy=dS(Ln),Ny=new WeakMap,E2=xS(Ny,On),O2=pT(Ay,Ln,be,Zs,Ir,Ra,Qe,Yr,qe,xy,Sf,E2,Xs),D2=hT(be,O2,Qe,qe,Xs),R2=jb(Hn,Ay,Da,Zs,Ir,Ra,Qe,w2,xy,Sf,Xt,Pr,fs,Gn,we,Zo),k2=ES(Ty),j2=$T(Ny),__=Sy?Db(C2,ie,kn,R2,D2,Pe,k2,Gt,Lt,Pr,_M,j2,MM,Oa):void 0,z2=nS(qe,fs),V2=eM(yf,Rn,pf,Tf,Zo,Do,vf,bf),P2=UT(My,Rn,be,z2,V2),q2=BS(Io,gf),B2=US(rf,_f),U2=LS(lf,uy),L2=HS(Io,Lt);function Tn(l){return l===void 0}function Ct(l){return l!==void 0}function H2(l){return typeof l=="function"}function Gs(l){return typeof l=="number"}function yi(l){return Object.prototype.toString.call(l)==="[object Object]"&&l.constructor===Object}function G2(l){return typeof l=="boolean"}function ln(l){return Array.isArray(l)}function hs(l){return typeof l=="string"}function bo(l){return hs(l)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(l)}function gt(l,e){if(!l)throw new Error(e)}function Is(l,e,i=1/0){if(!(e<=l&&l<=i))throw new RangeError(`Value must be within [${e}, ${i}], got: ${l}`)}function Cy(l){!l.isOffline&&l.state!=="running"&&Wo('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let wy=!1,y_=!1;function v_(l){wy=l}function I2(l){Tn(l)&&wy&&!y_&&(y_=!0,Wo("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let Ey=console;function Y2(...l){Ey.log(...l)}function Wo(...l){Ey.warn(...l)}function F2(l){return new N2(l)}function X2(l,e,i){return new P2(l,e,i)}const an=typeof self=="object"?self:null,Z2=an&&(an.hasOwnProperty("AudioContext")||an.hasOwnProperty("webkitAudioContext"));function Q2(l,e,i){return gt(Ct(__),"AudioWorkletNode only works in a secure context (https or localhost)"),new(l instanceof an?.BaseAudioContext?an?.AudioWorkletNode:__)(l,e,i)}function jn(l,e,i,a){var o=arguments.length,u=o<3?e:a===null?a=Object.getOwnPropertyDescriptor(e,i):a,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(l,e,i,a);else for(var d=l.length-1;d>=0;d--)(f=l[d])&&(u=(o<3?f(u):o>3?f(e,i,u):f(e,i))||u);return o>3&&u&&Object.defineProperty(e,i,u),u}function fe(l,e,i,a){function o(u){return u instanceof i?u:new i(function(f){f(u)})}return new(i||(i=Promise))(function(u,f){function d(_){try{p(a.next(_))}catch(y){f(y)}}function m(_){try{p(a.throw(_))}catch(y){f(y)}}function p(_){_.done?u(_.value):o(_.value).then(d,m)}p((a=a.apply(l,e||[])).next())})}class W2{constructor(e,i,a,o){this._callback=e,this._type=i,this._minimumUpdateInterval=Math.max(128/(o||44100),.001),this.updateInterval=a,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),i=URL.createObjectURL(e),a=new Worker(i);a.onmessage=this._callback.bind(this),this._worker=a}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var i;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((i=this._worker)===null||i===void 0||i.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function Si(l){return U2(l)}function Hs(l){return B2(l)}function xo(l){return L2(l)}function pa(l){return q2(l)}function K2(l){return l instanceof fy}function J2(l,e){return l==="value"||Si(e)||Hs(e)||K2(e)}function vi(l,...e){if(!e.length)return l;const i=e.shift();if(yi(l)&&yi(i))for(const a in i)J2(a,i[a])?l[a]=i[a]:yi(i[a])?(l[a]||Object.assign(l,{[a]:{}}),vi(l[a],i[a])):Object.assign(l,{[a]:i[a]});return vi(l,...e)}function $2(l,e){return l.length===e.length&&l.every((i,a)=>e[a]===i)}function vt(l,e,i=[],a){const o={},u=Array.from(e);if(yi(u[0])&&a&&!Reflect.has(u[0],a)&&(Object.keys(u[0]).some(d=>Reflect.has(l,d))||(vi(o,{[a]:u[0]}),i.splice(i.indexOf(a),1),u.shift())),u.length===1&&yi(u[0]))vi(o,u[0]);else for(let f=0;f<i.length;f++)Ct(u[f])&&(o[i[f]]=u[f]);return vi(l,o)}function tA(l){return l.constructor.getDefaults()}function va(l,e){return Tn(l)?e:l}function Zh(l,e){return e.forEach(i=>{Reflect.has(l,i)&&delete l[i]}),l}class ds{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||an&&this.toString()===an.TONE_DEBUG_CLASS)&&Y2(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}ds.version=j_;const Mf=1e-6;function Ma(l,e){return l>e+Mf}function Qh(l,e){return Ma(l,e)||wn(l,e)}function qo(l,e){return l+Mf<e}function wn(l,e){return Math.abs(l-e)<Mf}function eA(l,e,i){return Math.max(Math.min(l,i),e)}class Mn extends ds{constructor(){super(),this.name="Timeline",this._timeline=[];const e=vt(Mn.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(gt(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const i=this._timeline[this.length-1];gt(Qh(e.time,i.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const i=this._search(e.time);this._timeline.splice(i+1,0,e)}if(this.length>this.memory){const i=this.length-this.memory;this._timeline.splice(0,i)}return this}remove(e){const i=this._timeline.indexOf(e);return i!==-1&&this._timeline.splice(i,1),this}get(e,i="time"){const a=this._search(e,i);return a!==-1?this._timeline[a]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,i="time"){const a=this._search(e,i);return a+1<this._timeline.length?this._timeline[a+1]:null}getBefore(e){const i=this._timeline.length;if(i>0&&this._timeline[i-1].time<e)return this._timeline[i-1];const a=this._search(e);return a-1>=0?this._timeline[a-1]:null}cancel(e){if(this._timeline.length>1){let i=this._search(e);if(i>=0)if(wn(this._timeline[i].time,e)){for(let a=i;a>=0&&wn(this._timeline[a].time,e);a--)i=a;this._timeline=this._timeline.slice(0,i)}else this._timeline=this._timeline.slice(0,i+1);else this._timeline=[]}else this._timeline.length===1&&Qh(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const i=this._search(e);return i>=0&&(this._timeline=this._timeline.slice(i+1)),this}previousEvent(e){const i=this._timeline.indexOf(e);return i>0?this._timeline[i-1]:null}_search(e,i="time"){if(this._timeline.length===0)return-1;let a=0;const o=this._timeline.length;let u=o;if(o>0&&this._timeline[o-1][i]<=e)return o-1;for(;a<u;){let f=Math.floor(a+(u-a)/2);const d=this._timeline[f],m=this._timeline[f+1];if(wn(d[i],e)){for(let p=f;p<this._timeline.length;p++){const _=this._timeline[p];if(wn(_[i],e))f=p;else break}return f}else{if(qo(d[i],e)&&Ma(m[i],e))return f;Ma(d[i],e)?u=f:a=f+1}}return-1}_iterate(e,i=0,a=this._timeline.length-1){this._timeline.slice(i,a+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,i){const a=this._search(e);return a!==-1&&this._iterate(i,0,a),this}forEachAfter(e,i){const a=this._search(e);return this._iterate(i,a+1),this}forEachBetween(e,i,a){let o=this._search(e),u=this._search(i);return o!==-1&&u!==-1?(this._timeline[o].time!==e&&(o+=1),this._timeline[u].time===i&&(u-=1),this._iterate(a,o,u)):o===-1&&this._iterate(a,0,u),this}forEachFrom(e,i){let a=this._search(e);for(;a>=0&&this._timeline[a].time>=e;)a--;return this._iterate(i,a+1),this}forEachAtTime(e,i){const a=this._search(e);if(a!==-1&&wn(this._timeline[a].time,e)){let o=a;for(let u=a;u>=0&&wn(this._timeline[u].time,e);u--)o=u;this._iterate(u=>{i(u)},o,a)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const Oy=[];function Ko(l){Oy.push(l)}function nA(l){Oy.forEach(e=>e(l))}const Dy=[];function Jo(l){Dy.push(l)}function sA(l){Dy.forEach(e=>e(l))}class Zr extends ds{constructor(){super(...arguments),this.name="Emitter"}on(e,i){return e.split(/\W+/).forEach(o=>{Tn(this._events)&&(this._events={}),this._events.hasOwnProperty(o)||(this._events[o]=[]),this._events[o].push(i)}),this}once(e,i){const a=(...o)=>{i(...o),this.off(e,a)};return this.on(e,a),this}off(e,i){return e.split(/\W+/).forEach(o=>{if(Tn(this._events)&&(this._events={}),this._events.hasOwnProperty(o))if(Tn(i))this._events[o]=[];else{const u=this._events[o];for(let f=u.length-1;f>=0;f--)u[f]===i&&u.splice(f,1)}}),this}emit(e,...i){if(this._events&&this._events.hasOwnProperty(e)){const a=this._events[e].slice(0);for(let o=0,u=a.length;o<u;o++)a[o].apply(this,i)}return this}static mixin(e){["on","once","off","emit"].forEach(i=>{const a=Object.getOwnPropertyDescriptor(Zr.prototype,i);Object.defineProperty(e.prototype,i,a)})}dispose(){return super.dispose(),this._events=void 0,this}}class Ry extends Zr{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Qr extends Ry{constructor(){var e,i;super(),this.name="Context",this._constants=new Map,this._timeouts=new Mn,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const a=vt(Qr.getDefaults(),arguments,["context"]);a.context?(this._context=a.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=F2({latencyHint:a.latencyHint}),this._latencyHint=a.latencyHint),this._ticker=new W2(this.emit.bind(this,"tick"),a.clockSource,a.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((i=arguments[0])===null||i===void 0)&&i.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=a.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(nA(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,i,a){return this._context.createBuffer(e,i,a)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,i){return this._context.createIIRFilter(e,i)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,i,a){return this._context.createPeriodicWave(e,i,a)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return gt(pa(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return gt(pa(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return gt(pa(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){gt(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){gt(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){gt(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){gt(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,i){return Q2(this.rawContext,e,i)}addAudioWorkletModule(e){return fe(this,void 0,void 0,function*(){gt(Ct(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return fe(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return pa(this._context)?this._context.resume():Promise.resolve()}close(){return fe(this,void 0,void 0,function*(){pa(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&sA(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const i=this._context.createBuffer(1,128,this._context.sampleRate),a=i.getChannelData(0);for(let u=0;u<a.length;u++)a[u]=e;const o=this._context.createBufferSource();return o.channelCount=1,o.channelCountMode="explicit",o.buffer=i,o.loop=!0,o.start(0),this._constants.set(e,o),o}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();this._timeouts.forEachBefore(e,i=>{i.callback(),this._timeouts.remove(i)})}setTimeout(e,i){this._timeoutIds++;const a=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:a+i}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(i=>{i.id===e&&this._timeouts.remove(i)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,i){const a=++this._timeoutIds,o=()=>{const u=this.now();this._timeouts.add({callback:()=>{e(),o()},id:a,time:u+i})};return o(),a}}class iA extends Ry{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,i,a){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,i){return{}}createPanner(){return{}}createPeriodicWave(e,i,a){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,i){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return fe(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,i){return 0}clearTimeout(e){return this}setInterval(e,i){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function ee(l,e){ln(e)?e.forEach(i=>ee(l,i)):Object.defineProperty(l,e,{enumerable:!0,writable:!1})}function ky(l,e){ln(e)?e.forEach(i=>ky(l,i)):Object.defineProperty(l,e,{writable:!0})}const Ut=()=>{};class Qt extends ds{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Ut;const e=vt(Qt.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,hs(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:Ut,onload:Ut,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Sn().sampleRate}set(e){return e instanceof Qt?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return fe(this,void 0,void 0,function*(){const i=Qt.load(e).then(a=>{this.set(a),this.onload(this)});Qt.downloads.push(i);try{yield i}finally{const a=Qt.downloads.indexOf(i);Qt.downloads.splice(a,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const i=ln(e)&&e[0].length>0,a=i?e.length:1,o=i?e[0].length:e.length,u=Sn(),f=u.createBuffer(a,o,u.sampleRate),d=!i&&a===1?[e]:e;for(let m=0;m<a;m++)f.copyToChannel(d[m],m);return this._buffer=f,this}toMono(e){if(Gs(e))this.fromArray(this.toArray(e));else{let i=new Float32Array(this.length);const a=this.numberOfChannels;for(let o=0;o<a;o++){const u=this.toArray(o);for(let f=0;f<u.length;f++)i[f]+=u[f]}i=i.map(o=>o/a),this.fromArray(i)}return this}toArray(e){if(Gs(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const i=[];for(let a=0;a<this.numberOfChannels;a++)i[a]=this.getChannelData(a);return i}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,i=this.duration){gt(this.loaded,"Buffer is not loaded");const a=Math.floor(e*this.sampleRate),o=Math.floor(i*this.sampleRate);gt(a<o,"The start time must be less than the end time");const u=o-a,f=Sn().createBuffer(this.numberOfChannels,u,this.sampleRate);for(let d=0;d<this.numberOfChannels;d++)f.copyToChannel(this.getChannelData(d).subarray(a,o),d);return new Qt(f)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new Qt().fromArray(e)}static fromUrl(e){return fe(this,void 0,void 0,function*(){return yield new Qt().load(e)})}static load(e){return fe(this,void 0,void 0,function*(){const i=Qt.baseUrl===""||Qt.baseUrl.endsWith("/")?Qt.baseUrl:Qt.baseUrl+"/",a=yield fetch(i+e);if(!a.ok)throw new Error(`could not load url: ${e}`);const o=yield a.arrayBuffer();return yield Sn().decodeAudioData(o)})}static supportsType(e){const i=e.split("."),a=i[i.length-1];return document.createElement("audio").canPlayType("audio/"+a)!==""}static loaded(){return fe(this,void 0,void 0,function*(){for(yield Promise.resolve();Qt.downloads.length;)yield Qt.downloads[0]})}}Qt.baseUrl="";Qt.downloads=[];class Af extends Qr{constructor(){super({clockSource:"offline",context:xo(arguments[0])?arguments[0]:X2(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:xo(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=xo(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return fe(this,void 0,void 0,function*(){let i=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,i++;const a=Math.floor(this.sampleRate/128);e&&i%a===0&&(yield new Promise(o=>setTimeout(o,1)))}})}render(){return fe(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);const i=yield this._context.startRendering();return new Qt(i)})}close(){return Promise.resolve()}}const jy=new iA;let pi=jy;function Sn(){return pi===jy&&Z2&&aA(new Qr),pi}function aA(l,e=!1){e&&pi.dispose(),pa(l)?pi=new Qr(l):xo(l)?pi=new Af(l):pi=l}function xf(){return pi.resume()}if(an&&!an.TONE_SILENCE_LOGGING){const e=` * Tone.js v${j_} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function rA(l){return Math.pow(10,l/20)}function lA(l){return 20*(Math.log(l)/Math.LN10)}function zy(l){return Math.pow(2,l/12)}let $o=440;function oA(){return $o}function cA(l){$o=l}function gi(l){return Math.round(Vy(l))}function Vy(l){return 69+12*Math.log2(l/$o)}function Py(l){return $o*Math.pow(2,(l-69)/12)}class Nf extends ds{constructor(e,i,a){super(),this.defaultUnits="s",this._val=i,this._units=a,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,i)=>{const a=parseInt(e,10),o=i==="."?1.5:1;return a===1?this._beatsToUnits(this._getTimeSignature())*o:this._beatsToUnits(4/a)*o},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const i=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(i)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,i,a)=>{let o=0;return e&&e!=="0"&&(o+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),i&&i!=="0"&&(o+=this._beatsToUnits(parseFloat(i))),a&&a!=="0"&&(o+=this._beatsToUnits(parseFloat(a)/4)),o},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Nf&&this.fromType(this._val),Tn(this._val))return this._noArg();if(hs(this._val)&&Tn(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(yi(this._val)){let e=0;for(const i in this._val)if(Ct(this._val[i])){const a=this._val[i],o=new this.constructor(this.context,i).valueOf()*a;e+=o}return e}if(Ct(this._units)){const e=this._expressions[this._units],i=this._val.toString().trim().match(e.regexp);return i?e.method.apply(this,i.slice(1)):e.method.call(this,this._val)}else return hs(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class En extends Nf{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const i=new En(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(i))},regexp:/^@(.+)/}})}quantize(e,i=1){const a=new this.constructor(this.context,e).valueOf(),o=this.valueOf(),d=Math.round(o/a)*a-o;return o+d*i}toNotation(){const e=this.toSeconds(),i=["1m"];for(let u=1;u<9;u++){const f=Math.pow(2,u);i.push(f+"n."),i.push(f+"n"),i.push(f+"t")}i.push("0");let a=i[0],o=new En(this.context,i[0]).toSeconds();return i.forEach(u=>{const f=new En(this.context,u).toSeconds();Math.abs(f-e)<Math.abs(o-e)&&(a=u,o=f)}),a}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let i=this.valueOf()/e;i=parseFloat(i.toFixed(4));const a=Math.floor(i/this._getTimeSignature());let o=i%1*4;i=Math.floor(i)%this._getTimeSignature();const u=o.toString();return u.length>3&&(o=parseFloat(parseFloat(u).toFixed(3))),[a,i,o].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return gi(this.toFrequency())}_now(){return this.context.now()}}class rn extends En{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return oA()}static set A4(e){cA(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:rn.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,i){const o=uA[e.toLowerCase()]+(parseInt(i,10)+1)*12;return this.defaultUnits==="midi"?o:rn.mtof(o)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,i,a){let o=1;return e&&e!=="0"&&(o*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),i&&i!=="0"&&(o*=this._beatsToUnits(parseFloat(i))),a&&a!=="0"&&(o*=this._beatsToUnits(parseFloat(a)/4)),o}}})}transpose(e){return new rn(this.context,this.valueOf()*zy(e))}harmonize(e){return e.map(i=>this.transpose(i))}toMidi(){return gi(this.valueOf())}toNote(){const e=this.toFrequency(),i=Math.log2(e/rn.A4);let a=Math.round(12*i)+57;const o=Math.floor(a/12);return o<0&&(a+=-12*o),hA[a%12]+o.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),i=this.valueOf()/e;return Math.floor(i*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return Py(e)}static ftom(e){return gi(e)}}const uA={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},hA=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Dr extends En{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class Ze extends ds{constructor(){super();const e=vt(Ze.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:Sn()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return I2(e),new En(this.context,e).toSeconds()}toFrequency(e){return new rn(this.context,e).toFrequency()}toTicks(e){return new Dr(this.context,e).toTicks()}_getPartialProperties(e){const i=this.get();return Object.keys(i).forEach(a=>{Tn(e[a])&&delete i[a]}),i}get(){const e=tA(this);return Object.keys(e).forEach(i=>{if(Reflect.has(this,i)){const a=this[i];Ct(a)&&Ct(a.value)&&Ct(a.setValueAtTime)?e[i]=a.value:a instanceof Ze?e[i]=a._getPartialProperties(e[i]):ln(a)||Gs(a)||hs(a)||G2(a)?e[i]=a:delete e[i]}}),e}set(e){return Object.keys(e).forEach(i=>{Reflect.has(this,i)&&Ct(this[i])&&(this[i]&&Ct(this[i].value)&&Ct(this[i].setValueAtTime)?this[i].value!==e[i]&&(this[i].value=e[i]):this[i]instanceof Ze?this[i].set(e[i]):this[i]=e[i])}),this}}class Cf extends Mn{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const i=this.get(e);return i!==null?i.state:this._initial}setStateAtTime(e,i,a){return Is(i,0),this.add(Object.assign({},a,{state:e,time:i})),this}getLastState(e,i){const a=this._search(i);for(let o=a;o>=0;o--){const u=this._timeline[o];if(u.state===e)return u}}getNextState(e,i){const a=this._search(i);if(a!==-1)for(let o=a;o<this._timeline.length;o++){const u=this._timeline[o];if(u.state===e)return u}}}class Kt extends Ze{constructor(){const e=vt(Kt.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,gt(Ct(e.param)&&(Si(e.param)||e.param instanceof Kt),"param must be an AudioParam");!Si(e.param);)e.param=e.param._param;this._swappable=Ct(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new Mn(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,Ct(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Ze.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return Ct(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return Ct(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,i){return this.units===i}_assertRange(e){return Ct(this.maxValue)&&Ct(this.minValue)&&Is(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?rA(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?lA(e):e}setValueAtTime(e,i){const a=this.toSeconds(i),o=this._fromType(e);return gt(isFinite(o)&&isFinite(a),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(i)}`),this._assertRange(o),this.log(this.units,"setValueAtTime",e,a),this._events.add({time:a,type:"setValueAtTime",value:o}),this._param.setValueAtTime(o,a),this}getValueAtTime(e){const i=Math.max(this.toSeconds(e),0),a=this._events.getAfter(i),o=this._events.get(i);let u=this._initialValue;if(o===null)u=this._initialValue;else if(o.type==="setTargetAtTime"&&(a===null||a.type==="setValueAtTime")){const f=this._events.getBefore(o.time);let d;f===null?d=this._initialValue:d=f.value,o.type==="setTargetAtTime"&&(u=this._exponentialApproach(o.time,d,o.value,o.constant,i))}else if(a===null)u=o.value;else if(a.type==="linearRampToValueAtTime"||a.type==="exponentialRampToValueAtTime"){let f=o.value;if(o.type==="setTargetAtTime"){const d=this._events.getBefore(o.time);d===null?f=this._initialValue:f=d.value}a.type==="linearRampToValueAtTime"?u=this._linearInterpolate(o.time,f,a.time,a.value,i):u=this._exponentialInterpolate(o.time,f,a.time,a.value,i)}else u=o.value;return this._toType(u)}setRampPoint(e){e=this.toSeconds(e);let i=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(i)===0&&(i=this._toType(this._minOutput)),this.setValueAtTime(i,e),this}linearRampToValueAtTime(e,i){const a=this._fromType(e),o=this.toSeconds(i);return gt(isFinite(a)&&isFinite(o),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(i)}`),this._assertRange(a),this._events.add({time:o,type:"linearRampToValueAtTime",value:a}),this.log(this.units,"linearRampToValueAtTime",e,o),this._param.linearRampToValueAtTime(a,o),this}exponentialRampToValueAtTime(e,i){let a=this._fromType(e);a=wn(a,0)?this._minOutput:a,this._assertRange(a);const o=this.toSeconds(i);return gt(isFinite(a)&&isFinite(o),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(i)}`),this._events.add({time:o,type:"exponentialRampToValueAtTime",value:a}),this.log(this.units,"exponentialRampToValueAtTime",e,o),this._param.exponentialRampToValueAtTime(a,o),this}exponentialRampTo(e,i,a){return a=this.toSeconds(a),this.setRampPoint(a),this.exponentialRampToValueAtTime(e,a+this.toSeconds(i)),this}linearRampTo(e,i,a){return a=this.toSeconds(a),this.setRampPoint(a),this.linearRampToValueAtTime(e,a+this.toSeconds(i)),this}targetRampTo(e,i,a){return a=this.toSeconds(a),this.setRampPoint(a),this.exponentialApproachValueAtTime(e,a,i),this}exponentialApproachValueAtTime(e,i,a){i=this.toSeconds(i),a=this.toSeconds(a);const o=Math.log(a+1)/Math.log(200);return this.setTargetAtTime(e,i,o),this.cancelAndHoldAtTime(i+a*.9),this.linearRampToValueAtTime(e,i+a),this}setTargetAtTime(e,i,a){const o=this._fromType(e);gt(isFinite(a)&&a>0,"timeConstant must be a number greater than 0");const u=this.toSeconds(i);return this._assertRange(o),gt(isFinite(o)&&isFinite(u),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(i)}`),this._events.add({constant:a,time:u,type:"setTargetAtTime",value:o}),this.log(this.units,"setTargetAtTime",e,u,a),this._param.setTargetAtTime(o,u,a),this}setValueCurveAtTime(e,i,a,o=1){a=this.toSeconds(a),i=this.toSeconds(i);const u=this._fromType(e[0])*o;this.setValueAtTime(this._toType(u),i);const f=a/(e.length-1);for(let d=1;d<e.length;d++){const m=this._fromType(e[d])*o;this.linearRampToValueAtTime(this._toType(m),i+d*f)}return this}cancelScheduledValues(e){const i=this.toSeconds(e);return gt(isFinite(i),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(i),this._param.cancelScheduledValues(i),this.log(this.units,"cancelScheduledValues",i),this}cancelAndHoldAtTime(e){const i=this.toSeconds(e),a=this._fromType(this.getValueAtTime(i));gt(isFinite(i),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",i,"value="+a);const o=this._events.get(i),u=this._events.getAfter(i);return o&&wn(o.time,i)?u?(this._param.cancelScheduledValues(u.time),this._events.cancel(u.time)):(this._param.cancelAndHoldAtTime(i),this._events.cancel(i+this.sampleTime)):u&&(this._param.cancelScheduledValues(u.time),this._events.cancel(u.time),u.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(a),i):u.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(a),i)),this._events.add({time:i,type:"setValueAtTime",value:a}),this._param.setValueAtTime(a,i),this}rampTo(e,i=.1,a){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,i,a):this.linearRampTo(e,i,a),this}apply(e){const i=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(i),i);const a=this._events.get(i);if(a&&a.type==="setTargetAtTime"){const o=this._events.getAfter(a.time),u=o?o.time:i+2,f=(u-i)/10;for(let d=i;d<u;d+=f)e.linearRampToValueAtTime(this.getValueAtTime(d),d)}return this._events.forEachAfter(this.context.currentTime,o=>{o.type==="cancelScheduledValues"?e.cancelScheduledValues(o.time):o.type==="setTargetAtTime"?e.setTargetAtTime(o.value,o.time,o.constant):e[o.type](o.value,o.time)}),this}setParam(e){gt(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const i=this.input;return i.disconnect(this._param),this.apply(e),this._param=e,i.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,i,a,o,u){return a+(i-a)*Math.exp(-(u-e)/o)}_linearInterpolate(e,i,a,o,u){return i+(o-i)*((u-e)/(a-e))}_exponentialInterpolate(e,i,a,o,u){return i*Math.pow(o/i,(u-e)/(a-e))}}class At extends Ze{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return Ct(this.input)?Si(this.input)||this.input instanceof Kt?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Ct(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return Ct(e)&&(e instanceof At||Hs(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(a=>{a.channelCount=e.channelCount,a.channelCountMode=e.channelCountMode,a.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();gt(e.length>0,"ToneAudioNode does not have any internal nodes");const i=e[0];return{channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const i=this._getChannelProperties();this._setChannelProperties(Object.assign(i,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const i=this._getChannelProperties();this._setChannelProperties(Object.assign(i,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const i=this._getChannelProperties();this._setChannelProperties(Object.assign(i,{channelInterpretation:e}))}connect(e,i=0,a=0){return ka(this,e,i,a),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Wo("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,i=0,a=0){return fA(this,e,i,a),this}chain(...e){return Wh(this,...e),this}fan(...e){return e.forEach(i=>this.connect(i)),this}dispose(){return super.dispose(),Ct(this.input)&&(this.input instanceof At?this.input.dispose():Hs(this.input)&&this.input.disconnect()),Ct(this.output)&&(this.output instanceof At?this.output.dispose():Hs(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Wh(...l){const e=l.shift();l.reduce((i,a)=>(i instanceof At?i.connect(a):Hs(i)&&ka(i,a),a),e)}function ka(l,e,i=0,a=0){for(gt(Ct(l),"Cannot connect from undefined node"),gt(Ct(e),"Cannot connect to undefined node"),(e instanceof At||Hs(e))&&gt(e.numberOfInputs>0,"Cannot connect to node with no inputs"),gt(l.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof At||e instanceof Kt;)Ct(e.input)&&(e=e.input);for(;l instanceof At;)Ct(l.output)&&(l=l.output);Si(e)?l.connect(e,i):l.connect(e,i,a)}function fA(l,e,i=0,a=0){if(Ct(e))for(;e instanceof At;)e=e.input;for(;!Hs(l);)Ct(l.output)&&(l=l.output);Si(e)?l.disconnect(e,i):Hs(e)?l.disconnect(e,i,a):l.disconnect()}class Re extends At{constructor(){const e=vt(Re.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new Kt({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),ee(this,"gain")}static getDefaults(){return Object.assign(At.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Aa extends At{constructor(e){super(e),this.onended=Ut,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Re({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(i){const a=this.toSeconds(i);return this._startTime!==-1&&a>=this._startTime&&(this._stopTime===-1||a<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(At.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Ut})}_startGain(e,i=1){gt(this._startTime===-1,"Source cannot be started more than once");const a=this.toSeconds(this._fadeIn);return this._startTime=e+a,this._startTime=Math.max(this._startTime,this.context.currentTime),a>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(i,e+a):this._gainNode.gain.exponentialApproachValueAtTime(i,e,a)):this._gainNode.gain.setValueAtTime(i,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){gt(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const i=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+i,this._stopTime=Math.max(this._stopTime,this.now()),i>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,i,e):this._gainNode.gain.targetRampTo(0,i,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const a=this._curve==="exponential"?i*2:0;this._stopSource(this.now()+a),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Ut&&(this.onended(this),this.onended=Ut,!this.context.isOffline)){const e=()=>this.dispose();typeof requestIdleCallback<"u"?requestIdleCallback(e):setTimeout(e,10)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),gt(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=Ut,this}}class wf extends Aa{constructor(){const e=vt(wf.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),ka(this._source,this._gainNode),this.offset=new Kt({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(Aa.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const i=this.toSeconds(e);return this.log("start",i),this._startGain(i),this._source.start(i),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Se extends At{constructor(){const e=vt(Se.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new wf({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(At.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,i=0,a=0){return Ef(this,e,i,a),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,i){return this._param.setValueAtTime(e,i),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,i){return this._param.linearRampToValueAtTime(e,i),this}exponentialRampToValueAtTime(e,i){return this._param.exponentialRampToValueAtTime(e,i),this}exponentialRampTo(e,i,a){return this._param.exponentialRampTo(e,i,a),this}linearRampTo(e,i,a){return this._param.linearRampTo(e,i,a),this}targetRampTo(e,i,a){return this._param.targetRampTo(e,i,a),this}exponentialApproachValueAtTime(e,i,a){return this._param.exponentialApproachValueAtTime(e,i,a),this}setTargetAtTime(e,i,a){return this._param.setTargetAtTime(e,i,a),this}setValueCurveAtTime(e,i,a,o){return this._param.setValueCurveAtTime(e,i,a,o),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,i,a){return this._param.rampTo(e,i,a),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function Ef(l,e,i,a){(e instanceof Kt||Si(e)||e instanceof Se&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof Se&&(e.overridden=!0)),ka(l,e,i,a)}class Of extends Kt{constructor(){const e=vt(Of.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new Mn(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Kt.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,i,a){i=this.toSeconds(i),this.setRampPoint(i);const o=this._fromType(e),u=this._events.get(i),f=Math.round(Math.max(1/a,1));for(let d=0;d<=f;d++){const m=a*d+i,p=this._exponentialApproach(u.time,u.value,o,a,m);this.linearRampToValueAtTime(this._toType(p),m)}return this}setValueAtTime(e,i){const a=this.toSeconds(i);super.setValueAtTime(e,i);const o=this._events.get(a),u=this._events.previousEvent(o),f=this._getTicksUntilEvent(u,a);return o.ticks=Math.max(f,0),this}linearRampToValueAtTime(e,i){const a=this.toSeconds(i);super.linearRampToValueAtTime(e,i);const o=this._events.get(a),u=this._events.previousEvent(o),f=this._getTicksUntilEvent(u,a);return o.ticks=Math.max(f,0),this}exponentialRampToValueAtTime(e,i){i=this.toSeconds(i);const a=this._fromType(e),o=this._events.get(i),u=Math.round(Math.max((i-o.time)*10,1)),f=(i-o.time)/u;for(let d=0;d<=u;d++){const m=f*d+o.time,p=this._exponentialInterpolate(o.time,o.value,i,a,m);this.linearRampToValueAtTime(this._toType(p),m)}return this}_getTicksUntilEvent(e,i){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Tn(e.ticks)){const f=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(f,e.time)}const a=this._fromType(this.getValueAtTime(e.time));let o=this._fromType(this.getValueAtTime(i));const u=this._events.get(i);return u&&u.time===i&&u.type==="setValueAtTime"&&(o=this._fromType(this.getValueAtTime(i-this.sampleTime))),.5*(i-e.time)*(a+o)+e.ticks}getTicksAtTime(e){const i=this.toSeconds(e),a=this._events.get(i);return Math.max(this._getTicksUntilEvent(a,i),0)}getDurationOfTicks(e,i){const a=this.toSeconds(i),o=this.getTicksAtTime(i);return this.getTimeOfTick(o+e)-a}getTimeOfTick(e){const i=this._events.get(e,"ticks"),a=this._events.getAfter(e,"ticks");if(i&&i.ticks===e)return i.time;if(i&&a&&a.type==="linearRampToValueAtTime"&&i.value!==a.value){const o=this._fromType(this.getValueAtTime(i.time)),f=(this._fromType(this.getValueAtTime(a.time))-o)/(a.time-i.time),d=Math.sqrt(Math.pow(o,2)-2*f*(i.ticks-e)),m=(-o+d)/f,p=(-o-d)/f;return(m>0?m:p)+i.time}else return i?i.value===0?1/0:i.time+(e-i.ticks)/i.value:e/this._initialValue}ticksToTime(e,i){return this.getDurationOfTicks(e,i)}timeToTicks(e,i){const a=this.toSeconds(i),o=this.toSeconds(e),u=this.getTicksAtTime(a);return this.getTicksAtTime(a+o)-u}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const i=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(i,0)}}class Df extends Se{constructor(){const e=vt(Df.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new Of({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(Se.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,i){return this._param.ticksToTime(e,i)}timeToTicks(e,i){return this._param.timeToTicks(e,i)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,i){return this._param.getDurationOfTicks(e,i)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class Rf extends Ze{constructor(){const e=vt(Rf.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new Cf,this._tickOffset=new Mn,this._ticksAtTime=new Mn,this._secondsAtTime=new Mn,this.frequency=new Df({context:this.context,units:e.units,value:e.frequency}),ee(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Ze.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,i){const a=this.toSeconds(e);return this._state.getValueAtTime(a)!=="started"&&(this._state.setStateAtTime("started",a),Ct(i)&&this.setTicksAtTime(i,a),this._ticksAtTime.cancel(a),this._secondsAtTime.cancel(a)),this}stop(e){const i=this.toSeconds(e);if(this._state.getValueAtTime(i)==="stopped"){const a=this._state.get(i);a&&a.time>0&&(this._tickOffset.cancel(a.time),this._state.cancel(a.time))}return this._state.cancel(i),this._state.setStateAtTime("stopped",i),this.setTicksAtTime(0,i),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i),this}pause(e){const i=this.toSeconds(e);return this._state.getValueAtTime(i)==="started"&&(this._state.setStateAtTime("paused",i),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const i=this.toSeconds(e),a=this._state.getLastState("stopped",i),o=this._ticksAtTime.get(i),u={state:"paused",time:i};this._state.add(u);let f=o||a,d=o?o.ticks:0,m=null;return this._state.forEachBetween(f.time,i+this.sampleTime,p=>{let _=f.time;const y=this._tickOffset.get(p.time);y&&y.time>=f.time&&(d=y.ticks,_=y.time),f.state==="started"&&p.state!=="started"&&(d+=this.frequency.getTicksAtTime(p.time)-this.frequency.getTicksAtTime(_),p.time!==u.time&&(m={state:p.state,time:p.time,ticks:d})),f=p}),this._state.remove(u),m&&this._ticksAtTime.add(m),d}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const i=this.now(),a=this.frequency.timeToTicks(e,i);this.setTicksAtTime(a,i)}getSecondsAtTime(e){e=this.toSeconds(e);const i=this._state.getLastState("stopped",e),a={state:"paused",time:e};this._state.add(a);const o=this._secondsAtTime.get(e);let u=o||i,f=o?o.seconds:0,d=null;return this._state.forEachBetween(u.time,e+this.sampleTime,m=>{let p=u.time;const _=this._tickOffset.get(m.time);_&&_.time>=u.time&&(f=_.seconds,p=_.time),u.state==="started"&&m.state!=="started"&&(f+=m.time-p,m.time!==a.time&&(d={state:m.state,time:m.time,seconds:f})),u=m}),this._state.remove(a),d&&this._secondsAtTime.add(d),f}setTicksAtTime(e,i){return i=this.toSeconds(i),this._tickOffset.cancel(i),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,i),ticks:e,time:i}),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,i=this.now()){const a=this._tickOffset.get(i),o=this._state.get(i),u=Math.max(a.time,o.time),f=this.frequency.getTicksAtTime(u)+e-a.ticks;return this.frequency.getTimeOfTick(f)}forEachTickBetween(e,i,a){let o=this._state.get(e);this._state.forEachBetween(e,i,f=>{o&&o.state==="started"&&f.state!=="started"&&this.forEachTickBetween(Math.max(o.time,e),f.time-this.sampleTime,a),o=f});let u=null;if(o&&o.state==="started"){const f=Math.max(o.time,e),d=this.frequency.getTicksAtTime(f),m=this.frequency.getTicksAtTime(o.time),p=d-m;let _=Math.ceil(p)-p;_=wn(_,1)?0:_;let y=this.frequency.getTimeOfTick(d+_);for(;y<i;){try{a(y,Math.round(this.getTicksAtTime(y)))}catch(b){u=b;break}y+=this.frequency.getDurationOfTicks(1,y)}}if(u)throw u;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class tc extends Ze{constructor(){const e=vt(tc.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=Ut,this._lastUpdate=0,this._state=new Cf("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new Rf({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,ee(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Ze.getDefaults(),{callback:Ut,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,i){Cy(this.context);const a=this.toSeconds(e);return this.log("start",a),this._state.getValueAtTime(a)!=="started"&&(this._state.setStateAtTime("started",a),this._tickSource.start(a,i),a<this._lastUpdate&&this.emit("start",a,i)),this}stop(e){const i=this.toSeconds(e);return this.log("stop",i),this._state.cancel(i),this._state.setStateAtTime("stopped",i),this._tickSource.stop(i),i<this._lastUpdate&&this.emit("stop",i),this}pause(e){const i=this.toSeconds(e);return this._state.getValueAtTime(i)==="started"&&(this._state.setStateAtTime("paused",i),this._tickSource.pause(i),i<this._lastUpdate&&this.emit("pause",i)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,i){return this._tickSource.setTicksAtTime(e,i),this}getTimeOfTick(e,i=this.now()){return this._tickSource.getTimeOfTick(e,i)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,i){const a=this.toSeconds(i),o=this.getTicksAtTime(a);return this._tickSource.getTimeOfTick(o+e,a)}_loop(){const e=this._lastUpdate,i=this.now();this._lastUpdate=i,this.log("loop",e,i),e!==i&&(this._state.forEachBetween(e,i,a=>{switch(a.state){case"started":const o=this._tickSource.getTicksAtTime(a.time);this.emit("start",a.time,o);break;case"stopped":a.time!==0&&this.emit("stop",a.time);break;case"paused":this.emit("pause",a.time);break}}),this._tickSource.forEachTickBetween(e,i,(a,o)=>{this.callback(a,o)}))}getStateAtTime(e){const i=this.toSeconds(e);return this._state.getValueAtTime(i)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Zr.mixin(tc);class ja extends At{constructor(){const e=vt(ja.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new Re({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,ee(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(At.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class kf extends At{constructor(){const e=vt(kf.getDefaults(),arguments);super(e),this.name="Destination",this.input=new ja({context:this.context}),this.output=new Re({context:this.context}),this.volume=this.input.volume,Wh(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(At.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),Wh(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Ko(l=>{l.destination=new kf({context:l})});Jo(l=>{l.destination.dispose()});class dA extends At{constructor(){super(...arguments),this.name="Listener",this.positionX=new Kt({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Kt({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Kt({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Kt({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Kt({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Kt({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Kt({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Kt({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Kt({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(At.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Ko(l=>{l.listener=new dA({context:l})});Jo(l=>{l.listener.dispose()});class jf extends ds{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=vt(jf.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(i=>{this._loadingCount++;const a=e.urls[i];this.add(i,a,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:Ut,onload:Ut,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return gt(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,i])=>i.loaded)}add(e,i,a=Ut,o=Ut){return hs(i)?(this.baseUrl&&i.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new Qt(this.baseUrl+i,a,o))):this._buffers.set(e.toString(),new Qt(i,a,o)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class Bo extends rn{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(e){return gi(super._frequencyToUnits(e))}_ticksToUnits(e){return gi(super._ticksToUnits(e))}_beatsToUnits(e){return gi(super._beatsToUnits(e))}_secondsToUnits(e){return gi(super._secondsToUnits(e))}toMidi(){return this.valueOf()}toFrequency(){return Py(this.toMidi())}transpose(e){return new Bo(this.context,this.toMidi()+e)}}class _a extends Dr{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class mA extends Ze{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Mn,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,i){return this._events.add({callback:e,time:this.toSeconds(i)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;this._events.forEachBefore(e+this.anticipation,i=>{e-i.time<=this.expiration&&i.callback(),this._events.remove(i)}),this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Ko(l=>{l.draw=new mA({context:l})});Jo(l=>{l.draw.dispose()});class pA extends ds{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){gt(Ct(e.time),"Events must have a time property"),gt(Ct(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let i=new gA(e.time,e.time+e.duration,e);for(this._root===null?this._root=i:this._root.insert(i),this._length++;i!==null;)i.updateHeight(),i.updateMax(),this._rebalance(i),i=i.parent;return this}remove(e){if(this._root!==null){const i=[];this._root.search(e.time,i);for(const a of i)if(a.event===e){this._removeNode(a),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,i=>this.remove(i)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,i){e.parent!==null?(e.isLeftChild()?e.parent.left=i:e.parent.right=i,this._rebalance(e.parent)):this._setRoot(i)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const i=e.getBalance();let a,o=null;if(i>0)if(e.left.right===null)a=e.left,a.right=e.right,o=a;else{for(a=e.left.right;a.right!==null;)a=a.right;a.parent&&(a.parent.right=a.left,o=a.parent,a.left=e.left,a.right=e.right)}else if(e.right.left===null)a=e.right,a.left=e.left,o=a;else{for(a=e.right.left;a.left!==null;)a=a.left;a.parent&&(a.parent.left=a.right,o=a.parent,a.left=e.left,a.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=a:e.parent.right=a:this._setRoot(a),o&&this._rebalance(o)}e.dispose()}_rotateLeft(e){const i=e.parent,a=e.isLeftChild(),o=e.right;o&&(e.right=o.left,o.left=e),i!==null?a?i.left=o:i.right=o:this._setRoot(o)}_rotateRight(e){const i=e.parent,a=e.isLeftChild(),o=e.left;o&&(e.left=o.right,o.right=e),i!==null?a?i.left=o:i.right=o:this._setRoot(o)}_rebalance(e){const i=e.getBalance();i>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):i<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const i=[];if(this._root.search(e,i),i.length>0){let a=i[0];for(let o=1;o<i.length;o++)i[o].low>a.low&&(a=i[o]);return a.event}}return null}forEach(e){if(this._root!==null){const i=[];this._root.traverse(a=>i.push(a)),i.forEach(a=>{a.event&&e(a.event)})}return this}forEachAtTime(e,i){if(this._root!==null){const a=[];this._root.search(e,a),a.forEach(o=>{o.event&&i(o.event)})}return this}forEachFrom(e,i){if(this._root!==null){const a=[];this._root.searchAfter(e,a),a.forEach(o=>{o.event&&i(o.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class gA{constructor(e,i,a){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=a,this.low=e,this.high=i,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,i){e>this.max||(this.left!==null&&this.left.search(e,i),this.low<=e&&this.high>e&&i.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,i))}searchAfter(e,i){this.low>=e&&(i.push(this),this.left!==null&&this.left.searchAfter(e,i)),this.right!==null&&this.right.searchAfter(e,i)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class _A extends ds{constructor(e){super(),this.name="TimelineValue",this._timeline=new Mn({memory:10}),this._initialValue=e}set(e,i){return this._timeline.add({value:e,time:i}),this}get(e){const i=this._timeline.get(e);return i?i.value:this._initialValue}}class xa extends At{constructor(){super(vt(xa.getDefaults(),arguments,["context"]))}connect(e,i=0,a=0){return Ef(this,e,i,a),this}}class Wr extends xa{constructor(){const e=vt(Wr.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,ln(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):H2(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(Se.getDefaults(),{length:1024})}setMap(e,i=1024){const a=new Float32Array(i);for(let o=0,u=i;o<u;o++){const f=o/(u-1)*2-1;a[o]=e(f,o)}return this.curve=a,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const i=["none","2x","4x"].some(a=>a.includes(e));gt(i,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class zf extends xa{constructor(){const e=vt(zf.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new Wr({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(xa.getDefaults(),{value:1})}_expFunc(e){return i=>Math.pow(Math.abs(i),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class Ys{constructor(e,i){this.id=Ys._eventId++,this._remainderTime=0;const a=Object.assign(Ys.getDefaults(),i);this.transport=e,this.callback=a.callback,this._once=a.once,this.time=Math.floor(a.time),this._remainderTime=a.time-this.time}static getDefaults(){return{callback:Ut,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const i=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*i),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}Ys._eventId=0;class Vf extends Ys{constructor(e,i){super(e,i),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const a=Object.assign(Vf.getDefaults(),i);this.duration=a.duration,this._interval=a.interval,this._nextTick=a.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Ys.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return qo(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new _a(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){qo(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new _a(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const i=this.transport.getTicksAtTime(e);Ma(i,this.time)&&(this._nextTick=this.floatTime+Math.ceil((i-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class ec extends Ze{constructor(){const e=vt(ec.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new _A(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Mn,this._repeatedEvents=new pA,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new tc({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),ee(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(Ze.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,i){if(this._loop.get(e)&&i>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),i=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&i%this._ppq!==0&&i%(this._swingTicks*2)!==0){const a=i%(this._swingTicks*2)/(this._swingTicks*2),o=Math.sin(a*Math.PI)*this._swingAmount;e+=new _a(this.context,this._swingTicks*2/3).toSeconds()*o}v_(!0),this._timeline.forEachAtTime(i,a=>a.invoke(e)),v_(!1)}schedule(e,i){const a=new Ys(this,{callback:e,time:new Dr(this.context,i).toTicks()});return this._addEvent(a,this._timeline)}scheduleRepeat(e,i,a,o=1/0){const u=new Vf(this,{callback:e,duration:new En(this.context,o).toTicks(),interval:new En(this.context,i).toTicks(),time:new Dr(this.context,a).toTicks()});return this._addEvent(u,this._repeatedEvents)}scheduleOnce(e,i){const a=new Ys(this,{callback:e,once:!0,time:new Dr(this.context,i).toTicks()});return this._addEvent(a,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const i=this._scheduledEvents[e.toString()];i.timeline.remove(i.event),i.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,i){return this._scheduledEvents[e.id.toString()]={event:e,timeline:i},i.add(e),e.id}cancel(e=0){const i=this.toTicks(e);return this._timeline.forEachFrom(i,a=>this.clear(a.id)),this._repeatedEvents.forEachFrom(i,a=>this.clear(a.id)),this}_bindClockEvents(){this._clock.on("start",(e,i)=>{i=new _a(this.context,i).toSeconds(),this.emit("start",e,i)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,i){this.context.resume();let a;return Ct(i)&&(a=this.toTicks(i)),this._clock.start(e,a),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){ln(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new En(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new En(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,i){return this.loopStart=e,this.loopEnd=i,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new _a(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),i=this._clock.getTicksAtTime(e);return new _a(this.context,i).toBarsBeatsSixteenths()}set position(e){const i=this.toTicks(e);this.ticks=i}get seconds(){return this._clock.seconds}set seconds(e){const i=this.now(),a=this._clock.frequency.timeToTicks(e,i);this.ticks=a}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const i=this.now();if(this.state==="started"){const a=this._clock.getTicksAtTime(i),o=this._clock.frequency.getDurationOfTicks(Math.ceil(a)-a,i),u=i+o;this.emit("stop",u),this._clock.setTicksAtTime(e,u),this.emit("start",u,this._clock.getSecondsAtTime(u))}else this.emit("ticks",i),this._clock.setTicksAtTime(e,i)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const i=this.now(),a=this.getTicksAtTime(i),o=e-a%e;return this._clock.nextTickTime(o,i)}}syncSignal(e,i){const a=this.now();let o=this.bpm,u=1/(60/o.getValueAtTime(a)/this.PPQ),f=[];if(e.units==="time"){const m=.015625/u,p=new Re(m),_=new zf(-1),y=new Re(m);o.chain(p,_,y),o=y,u=1/u,f=[p,_,y]}i||(e.getValueAtTime(a)!==0?i=e.getValueAtTime(a)/u:i=0);const d=new Re(i);return o.connect(d),d.connect(e._param),f.push(d),this._syncedSignals.push({initial:e.value,nodes:f,signal:e}),e.value=0,this}unsyncSignal(e){for(let i=this._syncedSignals.length-1;i>=0;i--){const a=this._syncedSignals[i];a.signal===e&&(a.nodes.forEach(o=>o.dispose()),a.signal.value=a.initial,this._syncedSignals.splice(i,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),ky(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Zr.mixin(ec);Ko(l=>{l.transport=new ec({context:l})});Jo(l=>{l.transport.dispose()});class on extends At{constructor(e){super(e),this.input=void 0,this._state=new Cf("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Ut,this._syncedStop=Ut,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new ja({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,ee(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(At.getDefaults(),{mute:!1,onstop:Ut,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,i,a){let o=Tn(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(o=this._clampToCurrentTime(o),!this._synced&&this._state.getValueAtTime(o)==="started")gt(Ma(o,this._state.get(o).time),"Start time must be strictly greater than previous start time"),this._state.cancel(o),this._state.setStateAtTime("started",o),this.log("restart",o),this.restart(o,i,a);else if(this.log("start",o),this._state.setStateAtTime("started",o),this._synced){const u=this._state.get(o);u&&(u.offset=this.toSeconds(va(i,0)),u.duration=a?this.toSeconds(a):void 0);const f=this.context.transport.schedule(d=>{this._start(d,i,a)},o);this._scheduled.push(f),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>o&&this._syncedStart(this.now(),this.context.transport.seconds)}else Cy(this.context),this._start(o,i,a);return this}stop(e){let i=Tn(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(i=this._clampToCurrentTime(i),this._state.getValueAtTime(i)==="started"||Ct(this._state.getNextState("started",i))){if(this.log("stop",i),!this._synced)this._stop(i);else{const a=this.context.transport.schedule(this._stop.bind(this),i);this._scheduled.push(a)}this._state.cancel(i),this._state.setStateAtTime("stopped",i)}return this}restart(e,i,a){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,i,a)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,i)=>{if(Ma(i,0)){const a=this._state.get(i);if(a&&a.state==="started"&&a.time!==i){const o=i-this.toSeconds(a.time);let u;a.duration&&(u=this.toSeconds(a.duration)-o),this._start(e,this.toSeconds(a.offset)+o,u)}}},this._syncedStop=e=>{const i=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(i)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Ut,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class nc extends Aa{constructor(){const e=vt(nc.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,ka(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Kt({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new Qt(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Aa.getDefaults(),{url:new Qt,loop:!1,loopEnd:0,loopStart:0,onload:Ut,onerror:Ut,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,i,a,o=1){gt(this.buffer.loaded,"buffer is either not set or not loaded");const u=this.toSeconds(e);this._startGain(u,o),this.loop?i=va(i,this.loopStart):i=va(i,0);let f=Math.max(this.toSeconds(i),0);if(this.loop){const d=this.toSeconds(this.loopEnd)||this.buffer.duration,m=this.toSeconds(this.loopStart),p=d-m;Qh(f,d)&&(f=(f-m)%p+m),wn(f,this.buffer.duration)&&(f=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,qo(f,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(u,f)),Ct(a)){let d=this.toSeconds(a);d=Math.max(d,0),this.stop(u+d)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function Ci(l,e){return fe(this,void 0,void 0,function*(){const i=e/l.context.sampleRate,a=new Af(1,i,l.context.sampleRate);return new l.constructor(Object.assign(l.get(),{frequency:2/i,detune:0,context:a})).toDestination().start(0),(yield a.render()).getChannelData(0)})}class Pf extends Aa{constructor(){const e=vt(Pf.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],ka(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new Kt({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new Kt({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),ee(this,["frequency","detune"])}static getDefaults(){return Object.assign(Aa.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const i=this.toSeconds(e);return this.log("start",i),this._startGain(i),this._oscillator.start(i),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class he extends on{constructor(){const e=vt(he.getDefaults(),arguments,["frequency","type"]);super(e),this.name="Oscillator",this._oscillator=null,this.frequency=new Se({context:this.context,units:"frequency",value:e.frequency}),ee(this,"frequency"),this.detune=new Se({context:this.context,units:"cents",value:e.detune}),ee(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(on.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const i=this.toSeconds(e),a=new Pf({context:this.context,onended:()=>this.onstop(this)});this._oscillator=a,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(i)}_stop(e){const i=this.toSeconds(e);this._oscillator&&this._oscillator.stop(i)}_restart(e){const i=this.toSeconds(e);return this.log("restart",i),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(i),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return he._periodicWaveCache.find(i=>i.phase===this._phase&&$2(i.partials,this._partials));{const e=he._periodicWaveCache.find(i=>i.type===this._type&&i.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const i=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&i)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const a=this._getCachedPeriodicWave();if(Ct(a)){const{partials:o,wave:u}=a;this._wave=u,this._partials=o,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[o,u]=this._getRealImaginary(e,this._phase),f=this.context.createPeriodicWave(o,u);this._wave=f,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),he._periodicWaveCache.push({imag:u,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:o,type:this._type,wave:this._wave}),he._periodicWaveCache.length>100&&he._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){Is(e,0);let i=this._type;const a=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(a&&(i=a[1]),this._type!=="custom")e===0?this.type=i:this.type=i+e.toString();else{const o=new Float32Array(e);this._partials.forEach((u,f)=>o[f]=u),this._partials=Array.from(o),this.type=this._type}}_getRealImaginary(e,i){let o=2048;const u=new Float32Array(o),f=new Float32Array(o);let d=1;if(e==="custom"){if(d=this._partials.length+1,this._partialCount=this._partials.length,o=d,this._partials.length===0)return[u,f]}else{const m=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);m?(d=parseInt(m[2],10)+1,this._partialCount=parseInt(m[2],10),e=m[1],d=Math.max(d,2),o=d):this._partialCount=0,this._partials=[]}for(let m=1;m<o;++m){const p=2/(m*Math.PI);let _;switch(e){case"sine":_=m<=d?1:0,this._partials[m-1]=_;break;case"square":_=m&1?2*p:0,this._partials[m-1]=_;break;case"sawtooth":_=p*(m&1?1:-1),this._partials[m-1]=_;break;case"triangle":m&1?_=2*(p*p)*(m-1>>1&1?-1:1):_=0,this._partials[m-1]=_;break;case"custom":_=this._partials[m-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}_!==0?(u[m]=-_*Math.sin(i*m),f[m]=_*Math.cos(i*m)):(u[m]=0,f[m]=0)}return[u,f]}_inverseFFT(e,i,a){let o=0;const u=e.length;for(let f=0;f<u;f++)o+=e[f]*Math.cos(f*a)+i[f]*Math.sin(f*a);return o}getInitialValue(){const[e,i]=this._getRealImaginary(this._type,0);let a=0;const o=Math.PI*2,u=32;for(let f=0;f<u;f++)a=Math.max(this._inverseFFT(e,i,f/u*o),a);return eA(-this._inverseFFT(e,i,this._phase)/a,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){return fe(this,arguments,void 0,function*(e=1024){return Ci(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}he._periodicWaveCache=[];class yA extends xa{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Wr({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Na extends Se{constructor(){const e=vt(Na.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new Re({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Se.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class sc extends on{constructor(){const e=vt(sc.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new yA({context:this.context}),this._modulationNode=new Re({context:this.context}),this._carrier=new he({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new he({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Na({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),ee(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(he.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return fe(this,arguments,void 0,function*(e=1024){return Ci(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class ic extends on{constructor(){const e=vt(ic.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new Re({context:this.context,gain:0}),this._carrier=new he({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new Se({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new he({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Na({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new Na({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),ee(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(he.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return fe(this,arguments,void 0,function*(e=1024){return Ci(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Kr extends on{constructor(){const e=vt(Kr.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new Re({context:this.context,gain:0}),this._thresh=new Wr({context:this.context,mapping:i=>i<=0?-1:1}),this.width=new Se({context:this.context,units:"audioRange",value:e.width}),this._triangle=new he({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),ee(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(on.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return fe(this,arguments,void 0,function*(e=1024){return Ci(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class ac extends on{constructor(){const e=vt(ac.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new Se({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Se({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,ee(this,["frequency","detune"])}static getDefaults(){return Object.assign(he.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(i=>i.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(i=>i.stop(e))}_restart(e){this._forEach(i=>i.restart(e))}_forEach(e){for(let i=0;i<this._oscillators.length;i++)e(this._oscillators[i],i)}get type(){return this._type}set type(e){this._type=e,this._forEach(i=>i.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const i=-e/2,a=e/(this._oscillators.length-1);this._forEach((o,u)=>o.detune.value=i+a*u)}}get count(){return this._oscillators.length}set count(e){if(Is(e,1),this._oscillators.length!==e){this._forEach(i=>i.dispose()),this._oscillators=[];for(let i=0;i<e;i++){const a=new he({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+i/e*360,partialCount:this._partialCount,onstop:i===0?()=>this.onstop(this):Ut});this.type==="custom"&&(a.partials=this._partials),this.frequency.connect(a.frequency),this.detune.connect(a.detune),a.detune.overridden=!1,a.connect(this.output),this._oscillators[i]=a}this.spread=this._spread,this.state==="started"&&this._forEach(i=>i.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((i,a)=>i.phase=this._phase+a/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(i=>i.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(i=>i.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(i=>i.partialCount=e),this._type=this._oscillators[0].type}asArray(){return fe(this,arguments,void 0,function*(e=1024){return Ci(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class rc extends on{constructor(){const e=vt(rc.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Na({context:this.context,value:2}),this._pulse=new Kr({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new he({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),ee(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(on.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return fe(this,arguments,void 0,function*(e=1024){return Ci(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const b_={am:sc,fat:ac,fm:ic,oscillator:he,pulse:Kr,pwm:rc};class Uo extends on{constructor(){const e=vt(Uo.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new Se({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Se({context:this.context,units:"cents",value:e.detune}),ee(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(he.getDefaults(),ic.getDefaults(),sc.getDefaults(),ac.getDefaults(),Kr.getDefaults(),rc.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(i=>this._sourceType===i)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const i=b_[e],a=this.now();if(this._oscillator){const o=this._oscillator;o.stop(a),this.context.setTimeout(()=>o.dispose(),this.blockTime)}this._oscillator=new i({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(a)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let i="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(i=this._oscillator.type),e==="fm"?this.type="fm"+i:e==="am"?this.type="am"+i:e==="fat"?this.type="fat"+i:e==="oscillator"?this.type=i:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,i){return e instanceof b_[i]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&Gs(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&Gs(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&hs(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return fe(this,arguments,void 0,function*(e=1024){return Ci(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function qy(l,e=1/0){const i=new WeakMap;return function(a,o){Reflect.defineProperty(a,o,{configurable:!0,enumerable:!0,get:function(){return i.get(this)},set:function(u){Is(u,l,e),i.set(this,u)}})}}function ms(l,e=1/0){const i=new WeakMap;return function(a,o){Reflect.defineProperty(a,o,{configurable:!0,enumerable:!0,get:function(){return i.get(this)},set:function(u){Is(this.toSeconds(u),l,e),i.set(this,u)}})}}class lc extends on{constructor(){const e=vt(lc.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new Qt({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(on.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Ut,onerror:Ut,playbackRate:1,reverse:!1})}load(e){return fe(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=Ut){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,i,a){return super.start(e,i,a),this}_start(e,i,a){this._loop?i=va(i,this._loopStart):i=va(i,0);const o=this.toSeconds(i),u=a;a=va(a,Math.max(this._buffer.duration-o,0));let f=this.toSeconds(a);f=f/this._playbackRate,e=this.toSeconds(e);const d=new nc({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+f),this._state.setStateAtTime("stopped",e+f,{implicitEnd:!0})),this._activeSources.add(d),this._loop&&Tn(u)?d.start(e,o):d.start(e,o,f-this.toSeconds(this.fadeOut))}_stop(e){const i=this.toSeconds(e);this._activeSources.forEach(a=>a.stop(i))}restart(e,i,a){return super.restart(e,i,a),this}_restart(e,i,a){var o;(o=[...this._activeSources].pop())===null||o===void 0||o.stop(e),this._start(e,i,a)}seek(e,i){const a=this.toSeconds(i);if(this._state.getValueAtTime(a)==="started"){const o=this.toSeconds(e);this._stop(a),this._start(a,o)}return this}setLoopPoints(e,i){return this.loopStart=e,this.loopEnd=i,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&Is(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(i=>{i.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&Is(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(i=>{i.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(i=>{i.loop=e}),e)){const i=this._state.getNextState("stopped",this.now());i&&this._state.cancel(i.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const i=this.now(),a=this._state.getNextState("stopped",i);a&&a.implicitEnd&&(this._state.cancel(a.time),this._activeSources.forEach(o=>o.cancelStop())),this._activeSources.forEach(o=>{o.playbackRate.setValueAtTime(e,i)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}jn([ms(0)],lc.prototype,"fadeIn",void 0);jn([ms(0)],lc.prototype,"fadeOut",void 0);class Qs extends At{constructor(){const e=vt(Qs.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new Se({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(At.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,i){if(hs(e))return e;{let a;for(a in So)if(So[a][i]===e)return a;return e}}_setCurve(e,i,a){if(hs(a)&&Reflect.has(So,a)){const o=So[a];yi(o)?e!=="_decayCurve"&&(this[e]=o[i]):this[e]=o}else if(ln(a)&&e!=="_decayCurve")this[e]=a;else throw new Error("Envelope: invalid curve: "+a)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,i=1){this.log("triggerAttack",e,i),e=this.toSeconds(e);let o=this.toSeconds(this.attack);const u=this.toSeconds(this.decay),f=this.getValueAtTime(e);if(f>0){const d=1/o;o=(1-f)/d}if(o<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(i,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(i,o,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(i,o,e);else{this._sig.cancelAndHoldAtTime(e);let d=this._attackCurve;for(let m=1;m<d.length;m++)if(d[m-1]<=f&&f<=d[m]){d=this._attackCurve.slice(m),d[0]=f;break}this._sig.setValueCurveAtTime(d,e,o,i)}if(u&&this.sustain<1){const d=i*this.sustain,m=e+o;this.log("decay",m),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(d,u+m):this._sig.exponentialApproachValueAtTime(d,m,u)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const i=this.getValueAtTime(e);if(i>0){const a=this.toSeconds(this.release);a<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,a,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,a,e):(gt(ln(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,a,i))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,i,a=1){return i=this.toSeconds(i),this.triggerAttack(i,a),this.triggerRelease(i+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,i=0,a=0){return Ef(this,e,i,a),this}asArray(){return fe(this,arguments,void 0,function*(e=1024){const i=e/this.context.sampleRate,a=new Af(1,i,this.context.sampleRate),o=this.toSeconds(this.attack)+this.toSeconds(this.decay),u=o+this.toSeconds(this.release),f=u*.1,d=u+f,m=new this.constructor(Object.assign(this.get(),{attack:i*this.toSeconds(this.attack)/d,decay:i*this.toSeconds(this.decay)/d,release:i*this.toSeconds(this.release)/d,context:a}));return m._sig.toDestination(),m.triggerAttackRelease(i*(o+f)/d,0),(yield a.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}jn([ms(0)],Qs.prototype,"attack",void 0);jn([ms(0)],Qs.prototype,"decay",void 0);jn([qy(0,1)],Qs.prototype,"sustain",void 0);jn([ms(0)],Qs.prototype,"release",void 0);const So=(()=>{let e,i;const a=[];for(e=0;e<128;e++)a[e]=Math.sin(e/127*(Math.PI/2));const o=[],u=6.4;for(e=0;e<127;e++){i=e/127;const b=Math.sin(i*(Math.PI*2)*u-Math.PI/2)+1;o[e]=b/10+i*.83}o[127]=1;const f=[],d=5;for(e=0;e<128;e++)f[e]=Math.ceil(e/127*d)/d;const m=[];for(e=0;e<128;e++)i=e/127,m[e]=.5*(1-Math.cos(Math.PI*i));const p=[];for(e=0;e<128;e++){i=e/127;const b=Math.pow(i,3)*4+.2,S=Math.cos(b*Math.PI*2*i);p[e]=Math.abs(S*(1-i))}function _(b){const S=new Array(b.length);for(let T=0;T<b.length;T++)S[T]=1-b[T];return S}function y(b){return b.slice(0).reverse()}return{bounce:{In:_(p),Out:p},cosine:{In:a,Out:y(a)},exponential:"exponential",linear:"linear",ripple:{In:o,Out:_(o)},sine:{In:m,Out:_(m)},step:{In:f,Out:_(f)}}})();class Fs extends At{constructor(){const e=vt(Fs.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=i=>this._original_triggerRelease(i),this._volume=this.output=new ja({context:this.context,volume:e.volume}),this.volume=this._volume.volume,ee(this,"volume")}static getDefaults(){return Object.assign(At.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,i){const a=this["_original_"+e]=this[e];this[e]=(...o)=>{const u=o[i],f=this.context.transport.schedule(d=>{o[i]=d,a.apply(this,o)},u);this._scheduledEvents.push(f)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,i,a,o){const u=this.toSeconds(a),f=this.toSeconds(i);return this.triggerAttack(e,u,o),this.triggerRelease(u+f),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Ti extends Fs{constructor(){const e=vt(Ti.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(Fs.getDefaults(),{detune:0,onsilence:Ut,portamento:0})}triggerAttack(e,i,a=1){this.log("triggerAttack",e,i,a);const o=this.toSeconds(i);return this._triggerEnvelopeAttack(o,a),this.setNote(e,o),this}triggerRelease(e){this.log("triggerRelease",e);const i=this.toSeconds(e);return this._triggerEnvelopeRelease(i),this}setNote(e,i){const a=this.toSeconds(i),o=e instanceof rn?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(a)>.05){const u=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(o,u,a)}else this.frequency.setValueAtTime(o,a);return this}}jn([ms(0)],Ti.prototype,"portamento",void 0);class qf extends Qs{constructor(){super(vt(qf.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Re({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Mi extends Ti{constructor(){const e=vt(Mi.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new Uo(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new qf(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),ee(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Ti.getDefaults(),{envelope:Object.assign(Zh(Qs.getDefaults(),Object.keys(At.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Zh(Uo.getDefaults(),[...Object.keys(on.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,i){if(this.envelope.triggerAttack(e,i),this.oscillator.start(e),this.envelope.sustain===0){const a=this.toSeconds(this.envelope.attack),o=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+a+o)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class oc extends Mi{constructor(){const e=vt(oc.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,ee(this,["oscillator","envelope"])}static getDefaults(){return vi(Ti.getDefaults(),Mi.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,i){const a=this.toSeconds(i),o=this.toFrequency(e instanceof rn?e.toFrequency():e),u=o*this.octaves;return this.oscillator.frequency.setValueAtTime(u,a),this.oscillator.frequency.exponentialRampToValueAtTime(o,a+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}jn([qy(0)],oc.prototype,"octaves",void 0);jn([ms(0)],oc.prototype,"pitchDecay",void 0);const By=new Set;function Bf(l){By.add(l)}function Uy(l,e){const i=`registerProcessor("${l}", ${e})`;By.add(i)}const vA=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Bf(vA);const bA=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Bf(bA);const SA=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Bf(SA);const TA="feedback-comb-filter",MA=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;Uy(TA,MA);class Uf extends Fs{constructor(){const e=vt(Uf.getDefaults(),arguments,["voice","options"]);super(e),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=o=>this.releaseAll(o),gt(!Gs(e.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const i=e.voice.getDefaults();this.options=Object.assign(i,e.options),this.voice=e.voice,this.maxPolyphony=e.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const a=this._voices.indexOf(this._dummyVoice);this._voices.splice(a,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(Fs.getDefaults(),{maxPolyphony:32,options:{},voice:Mi})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(e){this._availableVoices.push(e);const i=this._activeVoices.findIndex(a=>a.voice===e);this._activeVoices.splice(i,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const e=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return gt(e instanceof Ti,"Voice must extend Monophonic class"),e.connect(this.output),this._voices.push(e),e}else Wo("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const e=this._availableVoices.shift(),i=this._voices.indexOf(e);this._voices.splice(i,1),this.context.isOffline||e.dispose()}}_triggerAttack(e,i,a){e.forEach(o=>{const u=new Bo(this.context,o).toMidi(),f=this._getNextAvailableVoice();f&&(f.triggerAttack(o,i,a),this._activeVoices.push({midi:u,voice:f,released:!1}),this.log("triggerAttack",o,i))})}_triggerRelease(e,i){e.forEach(a=>{const o=new Bo(this.context,a).toMidi(),u=this._activeVoices.find(({midi:f,released:d})=>f===o&&!d);u&&(u.voice.triggerRelease(i),u.released=!0,this.log("triggerRelease",a,i))})}_scheduleEvent(e,i,a,o){gt(!this.disposed,"Synth was already disposed"),a<=this.now()?e==="attack"?this._triggerAttack(i,a,o):this._triggerRelease(i,a):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(e,i,a,o)},a-this.now())}triggerAttack(e,i,a){Array.isArray(e)||(e=[e]);const o=this.toSeconds(i);return this._scheduleEvent("attack",e,o,a),this}triggerRelease(e,i){Array.isArray(e)||(e=[e]);const a=this.toSeconds(i);return this._scheduleEvent("release",e,a),this}triggerAttackRelease(e,i,a,o){const u=this.toSeconds(a);if(this.triggerAttack(e,u,o),ln(i)){gt(ln(e),"If the duration is an array, the notes must also be an array"),e=e;for(let f=0;f<e.length;f++){const d=i[Math.min(f,i.length-1)],m=this.toSeconds(d);gt(m>0,"The duration must be greater than 0"),this.triggerRelease(e[f],u+m)}}else{const f=this.toSeconds(i);gt(f>0,"The duration must be greater than 0"),this.triggerRelease(e,u+f)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(e){const i=Zh(e,["onsilence","context"]);return this.options=vi(this.options,i),this._voices.forEach(a=>a.set(i)),this._dummyVoice.set(i),this}get(){return this._dummyVoice.get()}releaseAll(e){const i=this.toSeconds(e);return this._activeVoices.forEach(({voice:a})=>{a.triggerRelease(i)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(e=>e.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class cc extends Fs{constructor(){const e=vt(cc.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const i={};Object.keys(e.urls).forEach(a=>{const o=parseInt(a,10);if(gt(bo(a)||Gs(o)&&isFinite(o),`url key is neither a note or midi pitch: ${a}`),bo(a)){const u=new rn(this.context,a).toMidi();i[u]=e.urls[a]}else Gs(o)&&isFinite(o)&&(i[o]=e.urls[o])}),this._buffers=new jf({urls:i,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(Fs.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Ut,onerror:Ut,release:.1,urls:{}})}_findClosest(e){let a=0;for(;a<96;){if(this._buffers.has(e+a))return-a;if(this._buffers.has(e-a))return a;a++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,i,a=1){return this.log("triggerAttack",e,i,a),Array.isArray(e)||(e=[e]),e.forEach(o=>{const u=Vy(new rn(this.context,o).toFrequency()),f=Math.round(u),d=u-f,m=this._findClosest(f),p=f-m,_=this._buffers.get(p),y=zy(m+d),b=new nc({url:_,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:y}).connect(this.output);b.start(i,0,_.duration/y,a),ln(this._activeSources.get(f))||this._activeSources.set(f,[]),this._activeSources.get(f).push(b),b.onended=()=>{if(this._activeSources&&this._activeSources.has(f)){const S=this._activeSources.get(f),T=S.indexOf(b);T!==-1&&S.splice(T,1)}}}),this}triggerRelease(e,i){return this.log("triggerRelease",e,i),Array.isArray(e)||(e=[e]),e.forEach(a=>{const o=new rn(this.context,a).toMidi();if(this._activeSources.has(o)&&this._activeSources.get(o).length){const u=this._activeSources.get(o);i=this.toSeconds(i),u.forEach(f=>{f.stop(i)}),this._activeSources.set(o,[])}}),this}releaseAll(e){const i=this.toSeconds(e);return this._activeSources.forEach(a=>{for(;a.length;)a.shift().stop(i)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,i,a,o=1){const u=this.toSeconds(a);return this.triggerAttack(e,u,o),ln(i)?(gt(ln(e),"notes must be an array when duration is array"),e.forEach((f,d)=>{const m=i[Math.min(d,i.length-1)];this.triggerRelease(f,u+this.toSeconds(m))})):this.triggerRelease(e,u+this.toSeconds(i)),this}add(e,i,a){if(gt(bo(e)||isFinite(e),`note must be a pitch or midi: ${e}`),bo(e)){const o=new rn(this.context,e).toMidi();this._buffers.add(o,i,a)}else this._buffers.add(e,i,a);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(i=>i.dispose())}),this._activeSources.clear(),this}}jn([ms(0)],cc.prototype,"attack",void 0);jn([ms(0)],cc.prototype,"release",void 0);class Lf extends At{constructor(){const e=vt(Lf.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new Kt({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",ee(this,"pan")}static getDefaults(){return Object.assign(At.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const AA="bit-crusher",xA=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;Uy(AA,xA);class ue extends At{constructor(){const e=vt(ue.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new Re({context:this.context}),ue._allSolos.has(this.context)||ue._allSolos.set(this.context,new Set),ue._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(At.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),ue._allSolos.get(this.context).forEach(i=>i._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){ue._soloed.has(this.context)||ue._soloed.set(this.context,new Set),ue._soloed.get(this.context).add(this)}_removeSolo(){ue._soloed.has(this.context)&&ue._soloed.get(this.context).delete(this)}_isSoloed(){return ue._soloed.has(this.context)&&ue._soloed.get(this.context).has(this)}_noSolos(){return!ue._soloed.has(this.context)||ue._soloed.has(this.context)&&ue._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),ue._allSolos.get(this.context).delete(this),this._removeSolo(),this}}ue._allSolos=new Map;ue._soloed=new Map;class Hf extends At{constructor(){const e=vt(Hf.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new Lf({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new ja({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,ee(this,["pan","volume"])}static getDefaults(){return Object.assign(At.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class ya extends At{constructor(){const e=vt(ya.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new ue({solo:e.solo,context:this.context}),this._panVol=this.output=new Hf({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),ee(this,["pan","volume"])}static getDefaults(){return Object.assign(At.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return ya.buses.has(e)||ya.buses.set(e,new Re({context:this.context})),ya.buses.get(e)}send(e,i=0){const a=this._getBus(e),o=new Re({context:this.context,units:"decibels",gain:i});return this.connect(o),o.connect(a),o}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}ya.buses=new Map;function NA(){return Sn().now()}Sn().transport;Sn().destination;Sn().destination;Sn().listener;Sn().draw;Sn();let To=null;function Ly(){return To||(To=new Uf(Mi,{oscillator:{type:"triangle"},envelope:{attack:.02,decay:.3,sustain:.2,release:1},volume:-6}),To.toDestination()),To}async function CA(l,e="8n"){await xf(),Ly().triggerAttackRelease(l,e)}async function wA(l,e=120,i,a){await xf();const o=Ly(),u=60/e,f=NA();return l.forEach((d,m)=>{o.triggerAttackRelease(d,"8n",f+m*u)}),i&&l.forEach((d,m)=>{setTimeout(()=>{(!a||!a())&&i(m)},m*u*1e3)}),new Promise(d=>{setTimeout(()=>{d()},l.length*u*1e3)})}let Mo=null;function EA(){return Mo||(Mo=new Mi({oscillator:{type:"sine"},envelope:{attack:.005,decay:.1,sustain:0,release:.3},volume:-10}),Mo.toDestination()),Mo}async function OA(){await xf(),EA().triggerAttackRelease("E5","32n")}let Er=0;const Lo=Go((l,e)=>({isPlaying:!1,currentNoteIndex:null,playbackBpm:120,playNote:async i=>{await CA(i)},playScale:async i=>{const a=++Er,{playbackBpm:o}=e();l({isPlaying:!0,currentNoteIndex:0});try{await wA(i,o,u=>{Er===a&&l({currentNoteIndex:u})},()=>Er!==a)}finally{Er===a&&l({isPlaying:!1,currentNoteIndex:null})}},stop:()=>{Er++,l({isPlaying:!1,currentNoteIndex:null})},setPlaybackBpm:i=>l({playbackBpm:i})}));var jh,S_;function DA(){if(S_)return jh;S_=1;function l(e){if(this.size=e|0,this.size<=1||(this.size&this.size-1)!==0)throw new Error("FFT size must be a power of two and bigger than 1");this._csize=e<<1;for(var i=new Array(this.size*2),a=0;a<i.length;a+=2){const p=Math.PI*a/this.size;i[a]=Math.cos(p),i[a+1]=-Math.sin(p)}this.table=i;for(var o=0,u=1;this.size>u;u<<=1)o++;this._width=o%2===0?o-1:o,this._bitrev=new Array(1<<this._width);for(var f=0;f<this._bitrev.length;f++){this._bitrev[f]=0;for(var d=0;d<this._width;d+=2){var m=this._width-d-2;this._bitrev[f]|=(f>>>d&3)<<m}}this._out=null,this._data=null,this._inv=0}return jh=l,l.prototype.fromComplexArray=function(i,a){for(var o=a||new Array(i.length>>>1),u=0;u<i.length;u+=2)o[u>>>1]=i[u];return o},l.prototype.createComplexArray=function(){const i=new Array(this._csize);for(var a=0;a<i.length;a++)i[a]=0;return i},l.prototype.toComplexArray=function(i,a){for(var o=a||this.createComplexArray(),u=0;u<o.length;u+=2)o[u]=i[u>>>1],o[u+1]=0;return o},l.prototype.completeSpectrum=function(i){for(var a=this._csize,o=a>>>1,u=2;u<o;u+=2)i[a-u]=i[u],i[a-u+1]=-i[u+1]},l.prototype.transform=function(i,a){if(i===a)throw new Error("Input and output buffers must be different");this._out=i,this._data=a,this._inv=0,this._transform4(),this._out=null,this._data=null},l.prototype.realTransform=function(i,a){if(i===a)throw new Error("Input and output buffers must be different");this._out=i,this._data=a,this._inv=0,this._realTransform4(),this._out=null,this._data=null},l.prototype.inverseTransform=function(i,a){if(i===a)throw new Error("Input and output buffers must be different");this._out=i,this._data=a,this._inv=1,this._transform4();for(var o=0;o<i.length;o++)i[o]/=this.size;this._out=null,this._data=null},l.prototype._transform4=function(){var i=this._out,a=this._csize,o=this._width,u=1<<o,f=a/u<<1,d,m,p=this._bitrev;if(f===4)for(d=0,m=0;d<a;d+=f,m++){const x=p[m];this._singleTransform2(d,x,u)}else for(d=0,m=0;d<a;d+=f,m++){const x=p[m];this._singleTransform4(d,x,u)}var _=this._inv?-1:1,y=this.table;for(u>>=2;u>=2;u>>=2){f=a/u<<1;var b=f>>>2;for(d=0;d<a;d+=f)for(var S=d+b,T=d,M=0;T<S;T+=2,M+=u){const x=T,C=x+b,G=C+b,U=G+b,X=i[x],E=i[x+1],z=i[C],j=i[C+1],R=i[G],W=i[G+1],K=i[U],Q=i[U+1],Y=X,st=E,tt=y[M],ot=_*y[M+1],O=z*tt-j*ot,L=z*ot+j*tt,J=y[2*M],et=_*y[2*M+1],at=R*J-W*et,A=R*et+W*J,B=y[3*M],$=_*y[3*M+1],it=K*B-Q*$,nt=K*$+Q*B,ct=Y+at,mt=st+A,rt=Y-at,wt=st-A,de=O+it,_e=L+nt,Te=_*(O-it),zn=_*(L-nt),Be=ct+de,lt=mt+_e,ft=ct-de,It=mt-_e,kt=rt+zn,St=wt-Te,jt=rt-zn,ae=wt+Te;i[x]=Be,i[x+1]=lt,i[C]=kt,i[C+1]=St,i[G]=ft,i[G+1]=It,i[U]=jt,i[U+1]=ae}}},l.prototype._singleTransform2=function(i,a,o){const u=this._out,f=this._data,d=f[a],m=f[a+1],p=f[a+o],_=f[a+o+1],y=d+p,b=m+_,S=d-p,T=m-_;u[i]=y,u[i+1]=b,u[i+2]=S,u[i+3]=T},l.prototype._singleTransform4=function(i,a,o){const u=this._out,f=this._data,d=this._inv?-1:1,m=o*2,p=o*3,_=f[a],y=f[a+1],b=f[a+o],S=f[a+o+1],T=f[a+m],M=f[a+m+1],x=f[a+p],C=f[a+p+1],G=_+T,U=y+M,X=_-T,E=y-M,z=b+x,j=S+C,R=d*(b-x),W=d*(S-C),K=G+z,Q=U+j,Y=X+W,st=E-R,tt=G-z,ot=U-j,O=X-W,L=E+R;u[i]=K,u[i+1]=Q,u[i+2]=Y,u[i+3]=st,u[i+4]=tt,u[i+5]=ot,u[i+6]=O,u[i+7]=L},l.prototype._realTransform4=function(){var i=this._out,a=this._csize,o=this._width,u=1<<o,f=a/u<<1,d,m,p=this._bitrev;if(f===4)for(d=0,m=0;d<a;d+=f,m++){const un=p[m];this._singleRealTransform2(d,un>>>1,u>>>1)}else for(d=0,m=0;d<a;d+=f,m++){const un=p[m];this._singleRealTransform4(d,un>>>1,u>>>1)}var _=this._inv?-1:1,y=this.table;for(u>>=2;u>=2;u>>=2){f=a/u<<1;var b=f>>>1,S=b>>>1,T=S>>>1;for(d=0;d<a;d+=f)for(var M=0,x=0;M<=T;M+=2,x+=u){var C=d+M,G=C+S,U=G+S,X=U+S,E=i[C],z=i[C+1],j=i[G],R=i[G+1],W=i[U],K=i[U+1],Q=i[X],Y=i[X+1],st=E,tt=z,ot=y[x],O=_*y[x+1],L=j*ot-R*O,J=j*O+R*ot,et=y[2*x],at=_*y[2*x+1],A=W*et-K*at,B=W*at+K*et,$=y[3*x],it=_*y[3*x+1],nt=Q*$-Y*it,ct=Q*it+Y*$,mt=st+A,rt=tt+B,wt=st-A,de=tt-B,_e=L+nt,Te=J+ct,zn=_*(L-nt),Be=_*(J-ct),lt=mt+_e,ft=rt+Te,It=wt+Be,kt=de-zn;if(i[C]=lt,i[C+1]=ft,i[G]=It,i[G+1]=kt,M===0){var St=mt-_e,jt=rt-Te;i[U]=St,i[U+1]=jt;continue}if(M!==T){var ae=wt,cn=-de,In=mt,me=-rt,za=-_*Be,Ei=-_*zn,Jr=-_*Te,Oi=-_*_e,fc=ae+za,$r=cn+Ei,dc=In+Oi,mc=me-Jr,ps=d+S-M,Ee=d+b-M;i[ps]=fc,i[ps+1]=$r,i[Ee]=dc,i[Ee+1]=mc}}}},l.prototype._singleRealTransform2=function(i,a,o){const u=this._out,f=this._data,d=f[a],m=f[a+o],p=d+m,_=d-m;u[i]=p,u[i+1]=0,u[i+2]=_,u[i+3]=0},l.prototype._singleRealTransform4=function(i,a,o){const u=this._out,f=this._data,d=this._inv?-1:1,m=o*2,p=o*3,_=f[a],y=f[a+o],b=f[a+m],S=f[a+p],T=_+b,M=_-b,x=y+S,C=d*(y-S),G=T+x,U=M,X=-C,E=T-x,z=M,j=C;u[i]=G,u[i+1]=0,u[i+2]=U,u[i+3]=X,u[i+4]=E,u[i+5]=0,u[i+6]=z,u[i+7]=j},jh}var RA=DA();const kA=k_(RA);class Rr{_inputLength;_fft;_bufferSupplier;_paddedInputBuffer;_transformBuffer;_inverseBuffer;static forFloat32Array(e){return new Rr(e,i=>new Float32Array(i))}static forFloat64Array(e){return new Rr(e,i=>new Float64Array(i))}static forNumberArray(e){return new Rr(e,i=>Array(i))}constructor(e,i){if(e<1)throw new Error("Input length must be at least one");this._inputLength=e,this._fft=new kA(VA(2*e)),this._bufferSupplier=i,this._paddedInputBuffer=this._bufferSupplier(this._fft.size),this._transformBuffer=this._bufferSupplier(2*this._fft.size),this._inverseBuffer=this._bufferSupplier(2*this._fft.size)}get inputLength(){return this._inputLength}autocorrelate(e,i=this._bufferSupplier(e.length)){if(e.length!==this._inputLength)throw new Error(`Input must have length ${this._inputLength} but had length ${e.length}`);for(let o=0;o<e.length;o++)this._paddedInputBuffer[o]=e[o];for(let o=e.length;o<this._paddedInputBuffer.length;o++)this._paddedInputBuffer[o]=0;this._fft.realTransform(this._transformBuffer,this._paddedInputBuffer),this._fft.completeSpectrum(this._transformBuffer);const a=this._transformBuffer;for(let o=0;o<a.length;o+=2)a[o]=a[o]*a[o]+a[o+1]*a[o+1],a[o+1]=0;this._fft.inverseTransform(this._inverseBuffer,this._transformBuffer);for(let o=0;o<e.length;o++)i[o]=this._inverseBuffer[2*o];return i}}function jA(l){const e=[];let i=!1,a=-1/0,o=-1;for(let u=1;u<l.length-1;u++)l[u-1]<=0&&l[u]>0?(i=!0,o=u,a=l[u]):l[u-1]>0&&l[u]<=0?(i=!1,o!==-1&&e.push(o)):i&&l[u]>a&&(a=l[u],o=u);return e}function zA(l,e){const[i,a,o]=[l-1,l,l+1],[u,f,d]=[e[i],e[a],e[o]],m=u/2-f+d/2,p=-(u/2)*(a+o)+f*(i+o)-d/2*(i+a),_=u*a*o/2-f*i*o+d*i*a/2,y=-p/(2*m),b=m*y*y+p*y+_;return[y,b]}class kr{_autocorrelator;_nsdfBuffer;_clarityThreshold=.9;_minVolumeAbsolute=0;_maxInputAmplitude=1;static forFloat32Array(e){return new kr(e,i=>new Float32Array(i))}static forFloat64Array(e){return new kr(e,i=>new Float64Array(i))}static forNumberArray(e){return new kr(e,i=>Array(i))}constructor(e,i){this._autocorrelator=new Rr(e,i),this._nsdfBuffer=i(e)}get inputLength(){return this._autocorrelator.inputLength}set clarityThreshold(e){if(!Number.isFinite(e)||e<=0||e>1)throw new Error("clarityThreshold must be a number in the range (0, 1]");this._clarityThreshold=e}set minVolumeAbsolute(e){if(!Number.isFinite(e)||e<0||e>this._maxInputAmplitude)throw new Error(`minVolumeAbsolute must be a number in the range [0, ${this._maxInputAmplitude}]`);this._minVolumeAbsolute=e}set minVolumeDecibels(e){if(!Number.isFinite(e)||e>0)throw new Error("minVolumeDecibels must be a number <= 0");this._minVolumeAbsolute=this._maxInputAmplitude*10**(e/10)}set maxInputAmplitude(e){if(!Number.isFinite(e)||e<=0)throw new Error("maxInputAmplitude must be a number > 0");this._maxInputAmplitude=e}findPitch(e,i){if(this._belowMinimumVolume(e))return[0,0];this._nsdf(e);const a=jA(this._nsdfBuffer);if(a.length===0)return[0,0];const o=Math.max(...a.map(m=>this._nsdfBuffer[m])),u=a.find(m=>this._nsdfBuffer[m]>=this._clarityThreshold*o),[f,d]=zA(u,this._nsdfBuffer);return[i/f,Math.min(d,1)]}_belowMinimumVolume(e){if(this._minVolumeAbsolute===0)return!1;let i=0;for(let a=0;a<e.length;a++)i+=e[a]**2;return Math.sqrt(i/e.length)<this._minVolumeAbsolute}_nsdf(e){this._autocorrelator.autocorrelate(e,this._nsdfBuffer);let i=2*this._nsdfBuffer[0],a;for(a=0;a<this._nsdfBuffer.length&&i>0;a++)this._nsdfBuffer[a]=2*this._nsdfBuffer[a]/i,i-=e[a]**2+e[e.length-a-1]**2;for(;a<this._nsdfBuffer.length;a++)this._nsdfBuffer[a]=0}}function VA(l){return l--,l|=l>>1,l|=l>>2,l|=l>>4,l|=l>>8,l|=l>>16,l++,l}function Hy(l){return l!==null&&typeof l=="object"&&"name"in l&&typeof l.name=="string"}function Gy(l){return l!==null&&typeof l=="object"&&"step"in l&&typeof l.step=="number"&&"alt"in l&&typeof l.alt=="number"&&!isNaN(l.step)&&!isNaN(l.alt)}var Iy=[0,2,4,-1,1,3,5],Yy=Iy.map(l=>Math.floor(l*7/12));function Fy(l){const{step:e,alt:i,oct:a,dir:o=1}=l,u=Iy[e]+7*i;if(a===void 0)return[o*u];const f=a-Yy[e]-4*i;return[o*u,o*f]}var PA=[3,0,4,1,5,2,6];function Xy(l){const[e,i,a]=l,o=PA[qA(e)],u=Math.floor((e+1)/7);if(i===void 0)return{step:o,alt:u,dir:a};const f=i+4*u+Yy[o];return{step:o,alt:u,oct:f,dir:a}}function qA(l){const e=(l+1)%7;return e<0?7+e:e}var T_=(l,e)=>Array(Math.abs(e)+1).join(l),Kh=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),BA="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",UA="(AA|A|P|M|m|d|dd)([-+]?\\d+)",LA=new RegExp("^"+BA+"|"+UA+"$");function HA(l){const e=LA.exec(`${l}`);return e===null?["",""]:e[1]?[e[1],e[2]]:[e[4],e[3]]}var M_={};function qr(l){return typeof l=="string"?M_[l]||(M_[l]=GA(l)):Gy(l)?qr(FA(l)):Hy(l)?qr(l.name):Kh}var A_=[0,2,4,5,7,9,11],Zy="PMMPPMM";function GA(l){const e=HA(l);if(e[0]==="")return Kh;const i=+e[0],a=e[1],o=(Math.abs(i)-1)%7,u=Zy[o];if(u==="M"&&a==="P")return Kh;const f=u==="M"?"majorable":"perfectable",d=""+i+a,m=i<0?-1:1,p=i===8||i===-8?i:m*(o+1),_=YA(f,a),y=Math.floor((Math.abs(i)-1)/7),b=m*(A_[o]+_+12*y),S=(m*(A_[o]+_)%12+12)%12,T=Fy({step:o,alt:_,oct:y,dir:m});return{empty:!1,name:d,num:i,q:a,step:o,alt:_,dir:m,type:f,simple:p,semitones:b,chroma:S,coord:T,oct:y}}function IA(l,e){const[i,a=0]=l,o=i*7+a*12<0,u=e||o?[-i,-a,-1]:[i,a,1];return qr(Xy(u))}function YA(l,e){return e==="M"&&l==="majorable"||e==="P"&&l==="perfectable"?0:e==="m"&&l==="majorable"?-1:/^A+$/.test(e)?e.length:/^d+$/.test(e)?-1*(l==="perfectable"?e.length:e.length+1):0}function FA(l){const{step:e,alt:i,oct:a=0,dir:o}=l;if(!o)return"";const u=e+1+7*a,f=u===0?e+1:u,d=o<0?"-":"",m=Zy[e]==="M"?"majorable":"perfectable";return d+f+XA(m,i)}function XA(l,e){return e===0?l==="majorable"?"M":"P":e===-1&&l==="majorable"?"m":e>0?T_("A",e):T_("d",l==="perfectable"?e:e+1)}var x_=(l,e)=>Array(Math.abs(e)+1).join(l),Qy=Object.freeze({empty:!0,name:"",letter:"",acc:"",pc:"",step:NaN,alt:NaN,chroma:NaN,height:NaN,coord:[],midi:null,freq:null}),N_=new Map,ZA=l=>"CDEFGAB".charAt(l),QA=l=>l<0?x_("b",-l):x_("#",l),WA=l=>l[0]==="b"?-l.length:l.length;function Dn(l){const e=JSON.stringify(l),i=N_.get(e);if(i)return i;const a=typeof l=="string"?ex(l):Gy(l)?Dn(nx(l)):Hy(l)?Dn(l.name):Qy;return N_.set(e,a),a}var KA=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function JA(l){const e=KA.exec(l);return e?[e[1].toUpperCase(),e[2].replace(/x/g,"##"),e[3],e[4]]:["","","",""]}function $A(l){return Dn(Xy(l))}var tx=(l,e)=>(l%e+e)%e,zh=[0,2,4,5,7,9,11];function ex(l){const e=JA(l);if(e[0]===""||e[3]!=="")return Qy;const i=e[0],a=e[1],o=e[2],u=(i.charCodeAt(0)+3)%7,f=WA(a),d=o.length?+o:void 0,m=Fy({step:u,alt:f,oct:d}),p=i+a+o,_=i+a,y=(zh[u]+f+120)%12,b=d===void 0?tx(zh[u]+f,12)-1188:zh[u]+f+12*(d+1),S=b>=0&&b<=127?b:null,T=d===void 0?null:Math.pow(2,(b-69)/12)*440;return{empty:!1,acc:a,alt:f,chroma:y,coord:m,freq:T,height:b,letter:i,midi:S,name:p,oct:d,pc:_,step:u}}function nx(l){const{step:e,alt:i,oct:a}=l,o=ZA(e);if(!o)return"";const u=o+QA(i);return a||a===0?u+a:u}function Wy(l,e){const i=Dn(l),a=Array.isArray(e)?e:qr(e).coord;if(i.empty||!a||a.length<2)return"";const o=i.coord,u=o.length===1?[o[0]+a[0]]:[o[0]+a[0],o[1]+a[1]];return $A(u).name}function sx(l,e){const i=Dn(l),a=Dn(e);if(i.empty||a.empty)return"";const o=i.coord,u=a.coord,f=u[0]-o[0],d=o.length===2&&u.length===2?u[1]-o[1]:-Math.floor(f*7/12),m=a.height===i.height&&a.midi!==null&&i.oct===a.oct&&i.step>a.step;return IA([f,d],m).name}function Ky(l,e){const i=e.length,a=(l%i+i)%i;return e.slice(a,i).concat(e.slice(0,a))}var Ai={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},Jy=l=>Number(l).toString(2).padStart(12,"0"),C_=l=>parseInt(l,2),ix=/^[01]{12}$/;function $y(l){return ix.test(l)}var ax=l=>typeof l=="number"&&l>=0&&l<=4095,rx=l=>l&&$y(l.chroma),w_={[Ai.chroma]:Ai};function tv(l){const e=$y(l)?l:ax(l)?Jy(l):Array.isArray(l)?hx(l):rx(l)?l.chroma:Ai.chroma;return w_[e]=w_[e]||ux(e)}var lx=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function ox(l){const e=[];for(let i=0;i<12;i++)l.charAt(i)==="1"&&e.push(lx[i]);return e}function cx(l){const e=l.split("");return e.map((i,a)=>Ky(a,e).join(""))}function ux(l){const e=C_(l),i=cx(l).map(C_).filter(u=>u>=2048).sort()[0],a=Jy(i),o=ox(l);return{empty:!1,name:"",setNum:e,chroma:l,normalized:a,intervals:o}}function hx(l){if(l.length===0)return Ai.chroma;let e;const i=[0,0,0,0,0,0,0,0,0,0,0,0];for(let a=0;a<l.length;a++)e=Dn(l[a]),e.empty&&(e=qr(l[a])),e.empty||(i[e.chroma]=1);return i.join("")}var fx=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7  ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 #4 #11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -7 m -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim  o"],["1P 3m 5d 7d","diminished seventh","dim7 7 o7"],["1P 3m 5d 7m","half-diminished","m7b5  -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],dx=fx;({...Ai});var ev=[],No={};function mx(l,e,i){const a=gx(l),o={...tv(l),name:i||"",quality:a,intervals:l,aliases:e};ev.push(o),o.name&&(No[o.name]=o),No[o.setNum]=o,No[o.chroma]=o,o.aliases.forEach(u=>px(o,u))}function px(l,e){No[e]=l}function gx(l){const e=i=>l.indexOf(i)!==-1;return e("5A")?"Augmented":e("3M")?"Major":e("5d")?"Diminished":e("3m")?"Minor":"Unknown"}dx.forEach(([l,e,i])=>mx(l.split(" "),i.split(" "),e));ev.sort((l,e)=>l.setNum-e.setNum);var _x=sx,yx=[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2M 3m 4P 5P 6m 7m","minor","aeolian"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neapolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5p pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7m pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neapolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 6A","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neapolitan major"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]],vx=yx,bx={...Ai,intervals:[],aliases:[]},jr={};function nv(l){return jr[l]||bx}function Sx(l,e,i=[]){const a={...tv(l),name:e,intervals:l,aliases:i};return jr[a.name]=a,jr[a.setNum]=a,jr[a.chroma]=a,a.aliases.forEach(o=>Tx(a,o)),a}function Tx(l,e){jr[e]=l}vx.forEach(([l,e,...i])=>Sx(l.split(" "),e,i));var Mx=[[.125,"dl",["large","duplex longa","maxima","octuple","octuple whole"]],[.25,"l",["long","longa"]],[.5,"d",["double whole","double","breve"]],[1,"w",["whole","semibreve"]],[2,"h",["half","minim"]],[4,"q",["quarter","crotchet"]],[8,"e",["eighth","quaver"]],[16,"s",["sixteenth","semiquaver"]],[32,"t",["thirty-second","demisemiquaver"]],[64,"sf",["sixty-fourth","hemidemisemiquaver"]],[128,"h",["hundred twenty-eighth"]],[256,"th",["two hundred fifty-sixth"]]],Ax=Mx;Ax.forEach(([l,e,i])=>void 0);var xx="C C# D D# E F F# G G# A A# B".split(" "),Nx="C Db D Eb E F Gb G Ab A Bb B".split(" ");function Gf(l,e={}){if(isNaN(l)||l===-1/0||l===1/0)return"";l=Math.round(l);const a=(e.sharps===!0?xx:Nx)[l%12];if(e.pitchClass)return a;const o=Math.floor(l/12)-1;return a+o}var Ca=Dn,E_=l=>Ca(l).pc,Ho=l=>Ca(l).midi,Cx=l=>Ca(l).freq;function sv(l){return Gf(l)}var wx=l=>{const e=Ca(l);return e.empty?"":Gf(e.midi||e.chroma,{sharps:e.alt>0,pitchClass:e.midi===null})};function Ex(l,e){const i=Ca(l);if(i.empty)return"";const a=Ca(e||Gf(i.midi||i.chroma,{sharps:i.alt<0,pitchClass:!0}));if(a.empty||a.chroma!==i.chroma)return"";if(i.oct===void 0)return a.pc;const o=i.chroma-i.alt,u=a.chroma-a.alt,f=o>11||u<0?-1:o<0||u>11?1:0,d=i.oct+f;return a.pc+d}var If=[[0,2773,0,"ionian","","Maj7","major"],[1,2902,2,"dorian","m","m7"],[2,3418,4,"phrygian","m","m7"],[3,2741,-1,"lydian","","Maj7"],[4,2774,1,"mixolydian","","7"],[5,2906,3,"aeolian","m","m7","minor"],[6,3434,5,"locrian","dim","m7b5"]],O_={...Ai,name:"",alt:0,modeNum:NaN,triad:"",seventh:"",aliases:[]},Ox=If.map(Dx),Jh={};Ox.forEach(l=>{Jh[l.name]=l,l.aliases.forEach(e=>{Jh[e]=l})});function iv(l){return typeof l=="string"?Jh[l.toLowerCase()]||O_:l&&l.name?iv(l.name):O_}function Dx(l){const[e,i,a,o,u,f,d]=l,m=d?[d]:[],p=Number(i).toString(2);return{empty:!1,intervals:nv(o).intervals,modeNum:e,chroma:p,normalized:p,name:o,setNum:i,alt:a,triad:u,seventh:f,aliases:m}}function av(l){return(e,i)=>{const a=iv(e);if(a.empty)return[];const o=Ky(a.modeNum,l),u=a.intervals.map(f=>Wy(i,f));return o.map((f,d)=>u[d]+f)}}av(If.map(l=>l[4]));av(If.map(l=>l[5]));var Rx={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function kx(l){if(typeof l!="string")return["",""];const e=l.indexOf(" "),i=Dn(l.substring(0,e));if(i.empty){const o=Dn(l);return o.empty?["",l.toLowerCase()]:[o.name,""]}const a=l.substring(i.name.length+1).toLowerCase();return[i.name,a.length?a:""]}function Yf(l){const e=Array.isArray(l)?l:kx(l),i=Dn(e[0]).name,a=nv(e[1]);if(a.empty)return Rx;const o=a.name,u=i?a.intervals.map(d=>Wy(i,d)):[],f=i?i+" "+o:o;return{...a,name:f,type:o,tonic:i,notes:u}}const Vh=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],_i=["#EF4444","#F97316","#EAB308","#22C55E","#06B6D4","#3B82F6","#8B5CF6"];function Ff(l){const e=wx(l),i=Ex(e),a=E_(e);if(Vh.includes(a))return a;const o=E_(i);if(Vh.includes(o))return o;const u=Ho(l);if(u!==null){const f=u%12;return Vh[f]}return a}function jx(l,e){const i=Ho(l);if(i===null)throw new Error(`Invalid note: ${l}`);const a=i+e,o=sv(a),u=Ff(o),f=Math.floor((a-12)/12),d=`${u}${f}`,m=Cx(d)??0;return{note:u,noteWithOctave:d,midi:a,frequency:m}}function rv(l){const e=[];for(let i=0;i<6;i++){const a=l.notes[i];for(let o=0;o<=22;o++){const{note:u,noteWithOctave:f,midi:d,frequency:m}=jx(a,o);e.push({string:i,fret:o,note:u,noteWithOctave:f,midi:d,frequency:m})}}return e}function zx(l,e,i){const a=Yf(`${l} ${e}`);if(!a.notes.length)return[];const o=a.notes.map(Ff),u=rv(i),f=[];for(const d of u){const m=o.indexOf(d.note);if(m===-1)continue;const p=_x(l,d.note)||a.intervals[m]||"1P",_=m+1,y=d.note===l;f.push({...d,interval:p,degree:_,isRoot:y})}return f}function Cn(l,e,i){return e+i*(1-1/Math.pow(2,l/12))}function $h(l,e,i){if(l===0)return e-20;const a=Cn(l-1,e,i),o=Cn(l,e,i);return(a+o)/2}function Br(l,e,i){return e+l*i}function Vx(l){if(l.length===0)return[];const e=new Set(l.map(u=>u.degree)).size;let i=l.filter(u=>u.string===5);if(i.length===0&&(i=l.filter(u=>u.string===4)),i.length===0)return[];const a=[...new Set(i.filter(u=>u.fret<=11).map(u=>u.fret))].sort((u,f)=>u-f),o=[];for(const u of a){let f=null;for(let m=Math.max(0,u);m>=Math.max(0,u-4);m--)for(const p of[4,5]){const _=m+p-1;if(_>22||u>_)continue;const y=l.filter(S=>S.fret>=m&&S.fret<=_);new Set(y.map(S=>S.degree)).size>=e&&(!f||p<f.end-f.start+1)&&(f={start:m,end:_})}!f||o.some(m=>{const p=Math.max(f.start,m.startFret);return Math.min(f.end,m.endFret)-p>=2})||o.push({index:o.length,label:`Position ${o.length+1}`,startFret:f.start,endFret:f.end})}return o.forEach((u,f)=>{u.index=f,u.label=`Position ${f+1}`}),o}function Px(l){const e=12*Math.log2(l/440)+69,i=Math.round(e),a=Math.round((e-i)*100),o=Ff(sv(i)),u=Math.floor((i-12)/12),f=`${o}${u}`;return{note:o,noteWithOctave:f,midi:i,centOffset:a}}class qx{audioContext=null;analyser=null;stream=null;rafId=null;async start(e){this.stream=await navigator.mediaDevices.getUserMedia({audio:!0}),this.audioContext=new AudioContext({sampleRate:44100});const i=this.audioContext.createMediaStreamSource(this.stream);this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=2048,this.analyser.smoothingTimeConstant=.8,i.connect(this.analyser);const a=new Float32Array(this.analyser.fftSize),o=kr.forFloat32Array(this.analyser.fftSize),u=()=>{if(!this.analyser||!this.audioContext)return;this.analyser.getFloatTimeDomainData(a);const[f,d]=o.findPitch(a,this.audioContext.sampleRate);if(d>.9&&f>60&&f<1400){const m=Px(f);e({frequency:f,clarity:d,note:m.note,noteWithOctave:m.noteWithOctave,midi:m.midi,centOffset:m.centOffset})}this.rafId=requestAnimationFrame(u)};this.rafId=requestAnimationFrame(u)}stop(){this.rafId!==null&&(cancelAnimationFrame(this.rafId),this.rafId=null),this.stream&&(this.stream.getTracks().forEach(e=>e.stop()),this.stream=null),this.audioContext&&(this.audioContext.close(),this.audioContext=null),this.analyser=null}isActive(){return this.rafId!==null}}let Or=null;const ba=Go(l=>({isListening:!1,currentFrequency:null,currentNote:null,currentNoteWithOctave:null,clarity:0,centOffset:0,currentMidi:null,error:null,startListening:async()=>{try{Or=new qx;const e=ba.getState();await Or.start(e.updatePitch),l({isListening:!0,error:null})}catch(e){l({error:e instanceof Error?e.message:"Microphone access denied"})}},stopListening:()=>{Or&&(Or.stop(),Or=null),l({isListening:!1,currentFrequency:null,currentNote:null,currentNoteWithOctave:null,clarity:0,centOffset:0,currentMidi:null})},updatePitch:e=>l({currentFrequency:e.frequency,currentNote:e.note,currentNoteWithOctave:e.noteWithOctave,clarity:e.clarity,centOffset:e.centOffset,currentMidi:e.midi}),clearPitch:()=>l({currentFrequency:null,currentNote:null,currentNoteWithOctave:null,clarity:0,centOffset:0,currentMidi:null})})),tf=[{id:"major",name:"Major (Ionian)",intervals:["1P","2M","3M","4P","5P","6M","7M"],degrees:["Root","2nd","3rd","4th","5th","6th","7th"],category:"major",description:"The foundation of Western music. Bright, happy, and resolved.",tonalName:"ionian"},{id:"natural-minor",name:"Natural Minor (Aeolian)",intervals:["1P","2M","3m","4P","5P","6m","7m"],degrees:["Root","2nd","3rd","4th","5th","6th","7th"],category:"minor",description:"The relative minor scale. Dark, melancholic, and introspective.",tonalName:"aeolian"},{id:"harmonic-minor",name:"Harmonic Minor",intervals:["1P","2M","3m","4P","5P","6m","7M"],degrees:["Root","2nd","3rd","4th","5th","6th","7th"],category:"minor",description:"Minor scale with a raised 7th. Creates tension and a neoclassical feel.",tonalName:"harmonic minor"},{id:"melodic-minor",name:"Melodic Minor",intervals:["1P","2M","3m","4P","5P","6M","7M"],degrees:["Root","2nd","3rd","4th","5th","6th","7th"],category:"minor",description:"Minor scale with raised 6th and 7th. Smooth, jazzy quality.",tonalName:"melodic minor"},{id:"harmonic-major",name:"Harmonic Major",intervals:["1P","2M","3M","4P","5P","6m","7M"],degrees:["Root","2nd","3rd","4th","5th","6th","7th"],category:"major",description:"Major scale with a lowered 6th. Bittersweet, classical quality.",tonalName:"harmonic major"},{id:"neapolitan-major",name:"Neapolitan Major",intervals:["1P","2m","3m","4P","5P","6M","7M"],degrees:["Root","2nd","3rd","4th","5th","6th","7th"],category:"major",description:"Dramatic scale with a 2 and 3 resolving to a major upper half.",tonalName:"neapolitan major"},{id:"major-pentatonic",name:"Major Pentatonic",intervals:["1P","2M","3M","5P","6M"],degrees:["Root","2nd","3rd","5th","6th"],category:"pentatonic",description:"Five-note major scale. Universally pleasing, great for country and pop.",tonalName:"major pentatonic"},{id:"minor-pentatonic",name:"Minor Pentatonic",intervals:["1P","3m","4P","5P","7m"],degrees:["Root","3rd","4th","5th","7th"],category:"pentatonic",description:"The most common guitar scale. Essential for rock, blues, and metal.",tonalName:"minor pentatonic"},{id:"egyptian",name:"Egyptian (Suspended)",intervals:["1P","2M","4P","5P","7m"],degrees:["Root","2nd","4th","5th","7th"],category:"pentatonic",description:"Suspended pentatonic with no 3rd. Open, ancient, ambiguous quality.",tonalName:"egyptian"},{id:"hirajoshi",name:"Hirajoshi",intervals:["1P","2M","3m","5P","6m"],degrees:["Root","2nd","3rd","5th","6th"],category:"pentatonic",description:"Japanese pentatonic scale. Hauntingly beautiful, great for ambient and prog.",tonalName:"hirajoshi"},{id:"in-sen",name:"In-Sen",intervals:["1P","2m","4P","5P","7m"],degrees:["Root","2nd","4th","5th","7th"],category:"pentatonic",description:"Japanese scale with a dark 2. Brooding, sparse, and evocative.",tonalName:"in-sen"},{id:"iwato",name:"Iwato",intervals:["1P","2m","4P","5d","7m"],degrees:["Root","2nd","4th","5th","7th"],category:"pentatonic",description:"Darkest Japanese pentatonic. Diminished 5th adds extreme tension.",tonalName:"iwato"},{id:"kumoi",name:"Kumoi",intervals:["1P","2M","3m","5P","6M"],degrees:["Root","2nd","3rd","5th","6th"],category:"pentatonic",description:"Japanese minor pentatonic with a bright 6th. Wistful and nostalgic.",tonalName:"kumoi"},{id:"blues",name:"Blues",intervals:["1P","3m","4P","4A","5P","7m"],degrees:["Root","3rd","4th","5th","5th","7th"],category:"blues",description:'Minor pentatonic with the "blue note" (5). The soul of blues guitar.',tonalName:"blues"},{id:"major-blues",name:"Major Blues",intervals:["1P","2M","3m","3M","5P","6M"],degrees:["Root","2nd","3rd","3rd","5th","6th"],category:"blues",description:"Major pentatonic with a chromatic passing tone. Sweet and soulful.",tonalName:"major blues"},{id:"dorian",name:"Dorian",intervals:["1P","2M","3m","4P","5P","6M","7m"],degrees:["Root","2nd","3rd","4th","5th","6th","7th"],category:"modal",description:"Minor mode with a bright 6th. Great for jazz, funk, and latin.",tonalName:"dorian"},{id:"phrygian",name:"Phrygian",intervals:["1P","2m","3m","4P","5P","6m","7m"],degrees:["Root","2nd","3rd","4th","5th","6th","7th"],category:"modal",description:"Dark, Spanish-flavored mode. The 2 gives it an exotic quality.",tonalName:"phrygian"},{id:"lydian",name:"Lydian",intervals:["1P","2M","3M","4A","5P","6M","7M"],degrees:["Root","2nd","3rd","4th","5th","6th","7th"],category:"modal",description:"Dreamy, floating quality from the 4. Popular in progressive and emo.",tonalName:"lydian"},{id:"mixolydian",name:"Mixolydian",intervals:["1P","2M","3M","4P","5P","6M","7m"],degrees:["Root","2nd","3rd","4th","5th","6th","7th"],category:"modal",description:"Major scale with a 7. The sound of rock, blues-rock, and country.",tonalName:"mixolydian"},{id:"locrian",name:"Locrian",intervals:["1P","2m","3m","4P","5d","6m","7m"],degrees:["Root","2nd","3rd","4th","5th","6th","7th"],category:"modal",description:"The darkest mode. Diminished 5th creates extreme tension. Used in metal.",tonalName:"locrian"},{id:"dorian-b2",name:"Dorian 2",intervals:["1P","2m","3m","4P","5P","6M","7m"],degrees:["Root","2nd","3rd","4th","5th","6th","7th"],category:"melodic-minor-mode",description:"2nd mode of melodic minor. Phrygian with a natural 6th.",tonalName:"dorian b2"},{id:"lydian-augmented",name:"Lydian Augmented",intervals:["1P","2M","3M","4A","5A","6M","7M"],degrees:["Root","2nd","3rd","4th","5th","6th","7th"],category:"melodic-minor-mode",description:"3rd mode of melodic minor. Lydian with a 5. Bright and expansive.",tonalName:"lydian augmented"},{id:"lydian-dominant",name:"Lydian Dominant",intervals:["1P","2M","3M","4A","5P","6M","7m"],degrees:["Root","2nd","3rd","4th","5th","6th","7th"],category:"melodic-minor-mode",description:"Lydian with a 7. Works over 11 chords and tritone substitutions.",tonalName:"lydian dominant"},{id:"mixolydian-b6",name:"Mixolydian 6",intervals:["1P","2M","3M","4P","5P","6m","7m"],degrees:["Root","2nd","3rd","4th","5th","6th","7th"],category:"melodic-minor-mode",description:"5th mode of melodic minor. Mixolydian with a dark 6.",tonalName:"mixolydian b6"},{id:"locrian-natural2",name:"Locrian 2",intervals:["1P","2M","3m","4P","5d","6m","7m"],degrees:["Root","2nd","3rd","4th","5th","6th","7th"],category:"melodic-minor-mode",description:"6th mode of melodic minor. Locrian with a natural 2nd. Less harsh.",tonalName:"locrian #2"},{id:"altered",name:"Altered (Super Locrian)",intervals:["1P","2m","3m","3M","5d","6m","7m"],degrees:["Root","2nd","3rd","3rd","5th","6th","7th"],category:"melodic-minor-mode",description:"Every extension is altered. Maximum tension over dominant 7th chords.",tonalName:"altered"},{id:"locrian-natural6",name:"Locrian 6",intervals:["1P","2m","3m","4P","5d","6M","7m"],degrees:["Root","2nd","3rd","4th","5th","6th","7th"],category:"harmonic-minor-mode",description:"2nd mode of harmonic minor. Locrian with a natural 6th.",tonalName:"locrian 6"},{id:"ionian-augmented",name:"Ionian Augmented",intervals:["1P","2M","3M","4P","5A","6M","7M"],degrees:["Root","2nd","3rd","4th","5th","6th","7th"],category:"harmonic-minor-mode",description:"3rd mode of harmonic minor. Major scale with a 5.",tonalName:"ionian augmented"},{id:"dorian-sharp4",name:"Dorian 4",intervals:["1P","2M","3m","4A","5P","6M","7m"],degrees:["Root","2nd","3rd","4th","5th","6th","7th"],category:"harmonic-minor-mode",description:"4th mode of harmonic minor. Dorian with a raised 4th.",tonalName:"dorian #4"},{id:"phrygian-dominant",name:"Phrygian Dominant",intervals:["1P","2m","3M","4P","5P","6m","7m"],degrees:["Root","2nd","3rd","4th","5th","6th","7th"],category:"harmonic-minor-mode",description:"5th mode of harmonic minor. Middle Eastern / flamenco sound.",tonalName:"phrygian dominant"},{id:"hungarian-minor",name:"Hungarian Minor",intervals:["1P","2M","3m","4A","5P","6m","7M"],degrees:["Root","2nd","3rd","4th","5th","6th","7th"],category:"exotic",description:"Dramatic, exotic scale with two augmented seconds. Neoclassical metal staple.",tonalName:"hungarian minor"},{id:"double-harmonic-major",name:"Double Harmonic Major",intervals:["1P","2m","3M","4P","5P","6m","7M"],degrees:["Root","2nd","3rd","4th","5th","6th","7th"],category:"exotic",description:"Byzantine scale. Two augmented seconds create an intensely exotic sound.",tonalName:"double harmonic major"},{id:"hungarian-major",name:"Hungarian Major",intervals:["1P","2A","3M","4A","5P","6M","7m"],degrees:["Root","2nd","3rd","4th","5th","6th","7th"],category:"exotic",description:"Bright, angular scale with augmented 2nd and 4. Unique character.",tonalName:"hungarian major"},{id:"persian",name:"Persian",intervals:["1P","2m","3M","4P","5d","6m","7M"],degrees:["Root","2nd","3rd","4th","5th","6th","7th"],category:"exotic",description:"Mysterious, ornate scale. Diminished 5th with major 3rd and 7th.",tonalName:"persian"},{id:"enigmatic",name:"Enigmatic",intervals:["1P","2m","3M","4A","5A","6A","7M"],degrees:["Root","2nd","3rd","4th","5th","6th","7th"],category:"exotic",description:"Verdi's experimental scale. Rising chromatic tension, hard to classify.",tonalName:"enigmatic"},{id:"prometheus",name:"Prometheus",intervals:["1P","2M","3M","4A","6M","7m"],degrees:["Root","2nd","3rd","4th","6th","7th"],category:"exotic",description:"Scriabin's mystic scale. Six notes, no 5th. Impressionistic color.",tonalName:"prometheus"},{id:"augmented",name:"Augmented (Hexatonic)",intervals:["1P","3m","3M","5P","5A","7M"],degrees:["Root","3rd","3rd","5th","5th","7th"],category:"exotic",description:"Symmetrical hexatonic scale. Alternating minor 3rds and half steps.",tonalName:"augmented"},{id:"flamenco",name:"Flamenco",intervals:["1P","2m","3M","4P","5P","6m","7m"],degrees:["Root","2nd","3rd","4th","5th","6th","7th"],category:"exotic",description:"Traditional flamenco scale. Similar to Phrygian Dominant with distinct usage.",tonalName:"flamenco"},{id:"spanish-8-tone",name:"Spanish 8-Tone",intervals:["1P","2m","2A","3M","4P","5d","6m","7m"],degrees:["Root","2nd","2nd","3rd","4th","5th","6th","7th"],category:"exotic",description:"Eight-note Spanish scale. Rich chromatic movement in the lower half.",tonalName:"spanish heptatonic"},{id:"whole-tone",name:"Whole Tone",intervals:["1P","2M","3M","4A","5A","7m"],degrees:["Root","2nd","3rd","4th","5th","7th"],category:"exotic",description:"Symmetrical scale of all whole steps. Dreamlike, ambiguous quality.",tonalName:"whole tone"},{id:"diminished-hw",name:"Diminished (H-W)",intervals:["1P","2m","3m","3M","4A","5P","6M","7m"],degrees:["Root","2nd","3rd","3rd","4th","5th","6th","7th"],category:"exotic",description:"Alternating half-whole steps. Symmetrical, used over diminished chords.",tonalName:"diminished"},{id:"diminished-wh",name:"Diminished (W-H)",intervals:["1P","2M","3m","4P","4A","5A","6M","7M"],degrees:["Root","2nd","3rd","4th","4th","5th","6th","7th"],category:"exotic",description:"Alternating whole-half steps. Used over dominant 7th chords in jazz.",tonalName:"whole-half diminished"},{id:"chromatic",name:"Chromatic",intervals:["1P","2m","2M","3m","3M","4P","4A","5P","6m","6M","7m","7M"],degrees:["Root","2nd","2nd","3rd","3rd","4th","5th","5th","6th","6th","7th","7th"],category:"exotic",description:"All 12 semitones. Used for chromatic runs and passing tones.",tonalName:"chromatic"},{id:"bebop-dominant",name:"Bebop Dominant",intervals:["1P","2M","3M","4P","5P","6M","7m","7M"],degrees:["Root","2nd","3rd","4th","5th","6th","7th","7th"],category:"jazz",description:"Dominant scale with chromatic passing tone. Smooth eighth-note lines.",tonalName:"bebop"},{id:"bebop-major",name:"Bebop Major",intervals:["1P","2M","3M","4P","5P","5A","6M","7M"],degrees:["Root","2nd","3rd","4th","5th","5th","6th","7th"],category:"jazz",description:"Major scale with a chromatic 5 passing tone. Smooth bebop lines.",tonalName:"bebop major"},{id:"bebop-minor",name:"Bebop Minor",intervals:["1P","2M","3m","3M","4P","5P","6M","7m"],degrees:["Root","2nd","3rd","3rd","4th","5th","6th","7th"],category:"jazz",description:"Dorian scale with a chromatic major 3rd passing tone.",tonalName:"bebop minor"},{id:"half-whole-diminished",name:"Half-Whole Diminished",intervals:["1P","2m","3m","3M","4A","5P","6M","7m"],degrees:["Root","2nd","3rd","3rd","4th","5th","6th","7th"],category:"jazz",description:"Symmetrical diminished scale starting with a half step. Jazz dominant sound.",tonalName:"diminished"}],wi=Object.fromEntries(tf.map(l=>[l.id,l])),Co=[{id:"standard",name:"Standard",notes:["E4","B3","G3","D3","A2","E2"],description:"Standard EADGBE tuning",isCustom:!1},{id:"drop-d",name:"Drop D",notes:["E4","B3","G3","D3","A2","D2"],description:"Low string dropped one whole step",isCustom:!1},{id:"drop-cs",name:"Drop C#",notes:["D#4","A#3","F#3","C#3","G#2","C#2"],description:"Drop D tuned down a half step",isCustom:!1},{id:"dadgad",name:"DADGAD",notes:["D4","A3","G3","D3","A2","D2"],description:"Open Dsus4; popular for celtic/emo",isCustom:!1},{id:"open-g",name:"Open G",notes:["D4","B3","G3","D3","G2","D2"],description:"Open G major chord; slide guitar staple",isCustom:!1},{id:"open-d",name:"Open D",notes:["D4","A3","F#3","D3","A2","D2"],description:"Open D major chord; fingerstyle/blues",isCustom:!1},{id:"eb-standard",name:"Eb Standard",notes:["D#4","A#3","F#3","C#3","G#2","D#2"],description:"Half step down from standard; SRV, Hendrix",isCustom:!1}],ef=Object.fromEntries(Co.map(l=>[l.id,l]));function uc(){const{selectedRoot:l,selectedScaleId:e,selectedTuningId:i,customTuning:a,selectedPosition:o}=ke();return De.useMemo(()=>{const u=wi[e],f=i==="custom"&&a?a:ef[i]||ef.standard,d=u?zx(l,u.tonalName,f):[],m=rv(f),p=Vx(d),_=o!=null&&p[o]?p[o]:null,y=_?d.filter(b=>b.fret>=_.startFret&&b.fret<=_.endFret):d;return{positions:d,filteredPositions:y,tuning:f,allPositions:m,availablePositions:p,activePositionRange:_}},[l,e,i,a,o])}const mi=Go((l,e)=>({expectedNotes:[],currentStep:0,hitNotes:[],isActive:!1,startPractice:i=>l({expectedNotes:i,currentStep:0,hitNotes:new Array(i.length).fill(!1),isActive:!0}),checkNote:i=>{const{expectedNotes:a,currentStep:o,hitNotes:u,isActive:f}=e();if(!f||a.length===0)return!1;if(o>0&&i===a[0])return l({currentStep:1,hitNotes:a.map((d,m)=>m===0)}),!0;if(o>=a.length)return!1;if(i===a[o]){const d=[...u];return d[o]=!0,l({currentStep:o+1,hitNotes:d}),!0}return!1},reset:()=>l({expectedNotes:[],currentStep:0,hitNotes:[],isActive:!1})}));function Bx(l){const e=new Map;for(const i of l)e.has(i.degree)||e.set(i.degree,i.note);return[...e.entries()].sort(([i],[a])=>i-a).map(([,i])=>i)}function Ux(l,e,i){const a=De.useRef(null);De.useEffect(()=>{if(!e||l.length===0){mi.getState().reset(),a.current=null;return}const f=Bx(l);mi.getState().startPractice(f),a.current=null},[e,l]),De.useEffect(()=>{if(!e||!i){a.current=null;return}if(i===a.current)return;if(a.current=i,mi.getState().checkNote(i)){const{currentStep:d,expectedNotes:m}=mi.getState();d>=m.length&&OA()}},[e,i]);const o=mi(f=>f.hitNotes),u=mi(f=>f.isActive);return De.useMemo(()=>{if(!u)return new Set;const f=new Set;return o.forEach((d,m)=>{d&&f.add(m+1)}),f},[u,o])}const Lx=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];function Hx(l){const e=new URLSearchParams;return e.set("root",l.root),e.set("scale",l.scaleId),e.set("tuning",l.tuningId),l.genreId&&e.set("genre",l.genreId),l.pos!=null&&e.set("pos",String(l.pos)),"#"+e.toString()}function D_(l){const e={};if(!l||l.length<2)return e;const i=new URLSearchParams(l.slice(1)),a=i.get("root");a&&Lx.includes(a)&&(e.root=a);const o=i.get("scale");o&&wi[o]&&(e.scaleId=o);const u=i.get("tuning");u&&ef[u]&&(e.tuningId=u);const f=i.get("genre");f&&(e.genreId=f);const d=i.get("pos");if(d!=null){const m=parseInt(d,10);!isNaN(m)&&m>=0&&(e.pos=m)}return e}const hc=[{id:"midwest-emo",name:"Midwest Emo",description:"Twinkly, emotional guitar work with open strings and unconventional tunings.",scaleIds:["major","natural-minor","major-pentatonic","minor-pentatonic","dorian","lydian","mixolydian","kumoi"],suggestedTunings:["standard","dadgad","open-g"],tips:["Use open strings and let notes ring together for that twinkly sound","Tap harmonics at the 5th, 7th, and 12th frets over scale tones","Mix major and minor pentatonic over the same progression for tension","Try arpeggiated chord shapes moving up the neck in Lydian positions"],color:"amber"},{id:"metal",name:"Metal",description:"Heavy, aggressive scales with dark intervals and powerful low-end riffs.",scaleIds:["natural-minor","harmonic-minor","phrygian","phrygian-dominant","locrian","diminished-hw","chromatic","hungarian-minor","double-harmonic-major","persian","iwato"],suggestedTunings:["drop-d","drop-cs","standard"],tips:["Palm-muted chugs on the low string follow the root notes of the scale","Harmonic minor's raised 7th creates a neoclassical sound for sweeps","Phrygian dominant (2 with major 3rd) gives a Middle Eastern flavor","Use diminished arpeggios as passing tones between scale positions"],color:"red"},{id:"blues",name:"Blues",description:"Expressive, soulful playing with bends, slides, and the iconic blue note.",scaleIds:["blues","minor-pentatonic","major-pentatonic","major-blues","mixolydian","dorian","bebop-minor"],suggestedTunings:["standard","open-g","open-d","eb-standard"],tips:["Bend the minor 3rd up toward the major 3rd for the classic blues sound","The 'blue note' (4/5) resolves best when slid into the 5th","Mix major and minor pentatonic boxes for a sweet/sour feel","In open tunings, a slide covers full chord shapes across frets"],color:"indigo"},{id:"jazz",name:"Jazz",description:"Sophisticated harmony with extended scales, chromaticism, and voice leading.",scaleIds:["major","dorian","mixolydian","lydian","melodic-minor","bebop-dominant","altered","lydian-dominant","whole-tone","diminished-hw","half-whole-diminished","bebop-major","bebop-minor","locrian-natural2","lydian-augmented","dorian-b2","augmented"],suggestedTunings:["standard"],tips:["Bebop scales add a chromatic passing tone for smooth eighth-note lines","Play the altered scale over dominant 7th chords resolving to minor","Lydian dominant works over 11 chords and tritone substitutions","Practice scales in 3rds, 4ths, and enclosures  not just up and down"],color:"violet"},{id:"country-folk",name:"Country / Folk",description:"Open-string melodies, chicken pickin', and fingerstyle patterns.",scaleIds:["major","major-pentatonic","minor-pentatonic","mixolydian","blues","dorian","harmonic-major"],suggestedTunings:["standard","drop-d","dadgad","open-g","open-d"],tips:["Hybrid picking (pick + fingers) brings out scale runs on non-adjacent strings","Open string pull-offs in pentatonic runs create the 'chicken pickin' sound","Use Mixolydian over dominant 7th vamps for that country twang","DADGAD tuning excels for Celtic/folk fingerstyle patterns"],color:"emerald"},{id:"rock",name:"Rock / Classic Rock",description:"Power chords, driving riffs, and iconic pentatonic soloing.",scaleIds:["minor-pentatonic","blues","mixolydian","major-pentatonic"],suggestedTunings:["standard","eb-standard","drop-d"],tips:["Minor pentatonic box 1 is the foundation of most classic rock solos","Add the blue note (5) to pentatonic runs for extra grit","Mixolydian gives a major-but-bluesy feel over dominant 7th riffs","Slide into notes from a half step below for classic rock phrasing"],color:"orange"},{id:"funk-rnb",name:"Funk / R&B / Soul",description:"Groove-driven playing with rhythmic precision and soulful note choices.",scaleIds:["dorian","minor-pentatonic","mixolydian","bebop-dominant"],suggestedTunings:["standard","eb-standard"],tips:["Dorian is the go-to funk scale  the natural 6th keeps it bright over minor grooves","Mute unused strings for tight, percussive single-note lines","Bebop dominant adds chromatic passing tones for smooth R&B runs","Sixteenth-note rhythmic precision matters more than note choice in funk"],color:"fuchsia"},{id:"classical",name:"Classical",description:"Formal Western harmony with refined voice leading and counterpoint.",scaleIds:["major","harmonic-minor","melodic-minor","neapolitan-major"],suggestedTunings:["standard"],tips:["Harmonic minor is the backbone of classical cadences (Vi resolution)","Melodic minor ascending vs. natural minor descending is a classical convention","Practice scales with strict alternate picking or rest-stroke technique","Neapolitan chords (II) add dramatic color to minor-key passages"],color:"slate"},{id:"flamenco-latin",name:"Flamenco / Latin",description:"Passionate, rhythmic playing rooted in Spanish and Latin American traditions.",scaleIds:["phrygian","phrygian-dominant","flamenco","double-harmonic-major"],suggestedTunings:["standard","drop-d","dadgad"],tips:["Phrygian dominant is the defining flamenco sound  emphasize the 2 to 3 resolution","Rasgueado (rapid strumming) patterns accent scale tones rhythmically","Use picado (rest-stroke) technique for fast single-note scale runs","The 23 half-step movement is the emotional core of flamenco melody"],color:"rose"},{id:"prog-math",name:"Progressive / Math Rock",description:"Complex, angular playing with odd meters, tapping, and unusual scales.",scaleIds:["lydian","whole-tone","hirajoshi","lydian-augmented"],suggestedTunings:["standard","dadgad","drop-d"],tips:["Lydian's 4 creates a floating, otherworldly quality perfect for prog","Hirajoshi pentatonic gives an angular, math-rock texture","Two-hand tapping works beautifully with wide-interval scales like Lydian Augmented","Experiment with odd groupings (5s, 7s) over these scales for rhythmic complexity"],color:"cyan"},{id:"indie-alt",name:"Indie / Alternative",description:"Melodic, textural playing that blends major and minor colors.",scaleIds:["major","dorian","major-pentatonic","harmonic-major"],suggestedTunings:["standard","dadgad","open-g"],tips:["Dorian over minor progressions gives a bittersweet, indie feel","Let open strings ring against fretted scale tones for ambient textures","Harmonic major's 6 adds unexpected melancholy to major-key songs","Simple pentatonic melodies with reverb and delay define the indie sound"],color:"teal"},{id:"gospel-neosoul",name:"Gospel / Neo-Soul",description:"Rich harmonic movement with chromatic voice leading and extended chords.",scaleIds:["major","dorian","bebop-dominant","melodic-minor"],suggestedTunings:["standard","eb-standard"],tips:["Major scale runs with chromatic approach notes define the gospel sound","Dorian works over minor 7th vamps  the natural 6th is key","Bebop dominant connects chord tones smoothly over IIVI progressions","Melodic minor over minor-major 7th chords gives a sophisticated neo-soul color"],color:"purple"}];function Gx(){const{selectedGenreId:l,setGenre:e}=ke();return D.jsxs("div",{children:[D.jsx("label",{className:"block text-xs font-medium uppercase tracking-wider text-label mb-2",children:"Genre"}),D.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[D.jsx("button",{onClick:()=>e(null),className:`px-3 py-1 text-xs rounded-full font-medium transition-colors ${l===null?"bg-accent text-white":"bg-surface text-gray-400 hover:text-gray-200"}`,"aria-pressed":l===null,children:"All Scales"}),hc.map(i=>{const a=l===i.id;return D.jsx("button",{onClick:()=>e(a?null:i.id),className:`px-3 py-1 text-xs rounded-full font-medium transition-colors ${a?"bg-accent text-white":"bg-surface text-gray-400 hover:text-gray-200"}`,"aria-pressed":a,children:i.name},i.id)})]})]})}const Ix=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];function Yx(){const{selectedRoot:l,setRoot:e}=ke();return D.jsxs("div",{children:[D.jsx("label",{className:"block text-xs font-medium uppercase tracking-wider text-label mb-2",children:"Root Note"}),D.jsx("div",{className:"grid grid-cols-6 gap-1.5",children:Ix.map(i=>D.jsx("button",{onClick:()=>e(i),className:`aspect-square flex items-center justify-center text-xs rounded-full font-medium transition-colors ${l===i?"bg-accent text-white":"bg-surface text-gray-300 hover:text-white"}`,"aria-label":`Root note ${i}`,"aria-pressed":l===i,children:i},i))})]})}const Fx={major:"Major / Minor",minor:"Major / Minor",pentatonic:"Pentatonic & Blues",blues:"Pentatonic & Blues",modal:"Modes","melodic-minor-mode":"Melodic Minor Modes","harmonic-minor-mode":"Harmonic Minor Modes",exotic:"Exotic",jazz:"Jazz & Bebop"},Xx=["Major / Minor","Pentatonic & Blues","Modes","Melodic Minor Modes","Harmonic Minor Modes","Exotic","Jazz & Bebop"];function Zx(){const{selectedScaleId:l,setScale:e,selectedGenreId:i}=ke(),a=i?hc.find(d=>d.id===i):null,o=a?tf.filter(d=>a.scaleIds.includes(d.id)):tf;De.useEffect(()=>{o.length>0&&!o.some(d=>d.id===l)&&e(o[0].id)},[i,o,l,e]);const u=new Map;for(const d of o){const m=Fx[d.category];u.has(m)||u.set(m,[]),u.get(m).push(d)}const f=wi[l];return D.jsxs("div",{children:[D.jsx("label",{htmlFor:"scale-select",className:"block text-xs font-medium uppercase tracking-wider text-label mb-2",children:"Scale"}),D.jsxs("div",{className:"relative",children:[D.jsx("select",{id:"scale-select",value:l,onChange:d=>e(d.target.value),className:"w-full px-3 py-2 rounded-md border border-gray-700 bg-surface text-gray-100 text-sm appearance-none focus:outline-none focus:ring-2 focus:ring-accent focus:border-accent pr-8",children:Xx.map(d=>{const m=u.get(d);return!m||m.length===0?null:D.jsx("optgroup",{label:d,children:m.map(p=>D.jsx("option",{value:p.id,children:p.name},p.id))},d)})}),D.jsx("svg",{className:"pointer-events-none absolute right-2.5 top-1/2 -translate-y-1/2 text-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:D.jsx("path",{d:"m6 9 6 6 6-6"})})]}),f&&D.jsx("p",{className:"mt-1.5 text-xs text-label",children:f.description})]})}function Qx(){const{selectedTuningId:l,setTuning:e,selectedGenreId:i}=ke(),a=i?hc.find(d=>d.id===i):null,o=a?a.suggestedTunings:[],u=Co.filter(d=>o.includes(d.id)),f=Co.filter(d=>!o.includes(d.id));return D.jsxs("div",{children:[D.jsx("label",{htmlFor:"tuning-select",className:"block text-xs font-medium uppercase tracking-wider text-label mb-2",children:"Tuning"}),D.jsxs("div",{className:"relative",children:[D.jsxs("select",{id:"tuning-select",value:l,onChange:d=>e(d.target.value),className:"w-full px-3 py-2 rounded-md border border-gray-700 bg-surface text-gray-100 text-sm appearance-none focus:outline-none focus:ring-2 focus:ring-accent focus:border-accent pr-8",children:[u.length>0&&D.jsx("optgroup",{label:"Suggested",children:u.map(d=>D.jsxs("option",{value:d.id,children:[d.name,"  ",d.notes.map(m=>m.replace(/\d+$/,"")).join(" ")]},d.id))}),u.length>0&&f.length>0?D.jsx("optgroup",{label:"Other Tunings",children:f.map(d=>D.jsxs("option",{value:d.id,children:[d.name,"  ",d.notes.map(m=>m.replace(/\d+$/,"")).join(" ")]},d.id))}):Co.map(d=>D.jsxs("option",{value:d.id,children:[d.name,"  ",d.notes.map(m=>m.replace(/\d+$/,"")).join(" ")]},d.id)),D.jsx("option",{value:"custom",children:"Custom..."})]}),D.jsx("svg",{className:"pointer-events-none absolute right-2.5 top-1/2 -translate-y-1/2 text-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:D.jsx("path",{d:"m6 9 6 6 6-6"})})]})]})}function Wx(){const{showAllNotes:l,setShowAllNotes:e,highlightRoot:i,setHighlightRoot:a}=ke();return D.jsxs("div",{children:[D.jsx("label",{className:"block text-xs font-medium uppercase tracking-wider text-label mb-2",children:"Display"}),D.jsxs("div",{className:"space-y-2",children:[D.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[D.jsx("input",{type:"checkbox",checked:l,onChange:o=>e(o.target.checked),className:"rounded bg-surface border-gray-600 text-green-500 focus:ring-accent"}),D.jsx("span",{className:"text-sm text-gray-300",children:"Show all notes"})]}),D.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[D.jsx("input",{type:"checkbox",checked:i,onChange:o=>a(o.target.checked),className:"rounded bg-surface border-gray-600 text-green-500 focus:ring-accent"}),D.jsx("span",{className:"text-sm text-gray-300",children:"Highlight root"})]})]})]})}function Kx(){const{selectedPosition:l,setPosition:e}=ke(),{availablePositions:i}=uc();return i.length===0?null:D.jsxs("div",{children:[D.jsxs("label",{className:"block text-xs font-medium uppercase tracking-wider text-label mb-2",children:["Position",l!=null&&i[l]&&D.jsxs("span",{className:"ml-2 text-xs font-normal text-gray-500",children:["Frets ",i[l].startFret,"",i[l].endFret]})]}),D.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[D.jsx("button",{onClick:()=>e(null),className:`px-3 py-1 text-xs rounded-full font-medium transition-colors ${l===null?"bg-accent text-white":"bg-surface text-gray-400 hover:text-gray-200"}`,"aria-label":"Show all positions","aria-pressed":l===null,children:"All"}),i.map(a=>D.jsx("button",{onClick:()=>e(a.index),className:`px-3 py-1 text-xs rounded-full font-medium transition-colors ${l===a.index?"bg-accent text-white":"bg-surface text-gray-400 hover:text-gray-200"}`,"aria-label":`${a.label}, frets ${a.startFret} to ${a.endFret}`,"aria-pressed":l===a.index,children:a.label},a.index))]})]})}const Jx=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],$x=[1,2,3,4,5,6],tN=["1st (High E)","2nd (B)","3rd (G)","4th (D)","5th (A)","6th (Low E)"],eN=[["E",4],["B",3],["G",3],["D",3],["A",2],["E",2]];function nN(){const{setCustomTuning:l}=ke(),[e,i]=De.useState(eN);De.useEffect(()=>{const o=e.map(([u,f])=>`${u}${f}`);l({id:"custom",name:"Custom",notes:o,description:"User-defined tuning",isCustom:!0})},[e,l]);const a=(o,u,f)=>{i(d=>{const m=[...d];return u!==void 0&&(m[o]=[u,d[o][1]]),f!==void 0&&(m[o]=[d[o][0],f]),m})};return D.jsxs("div",{className:"bg-surface rounded-lg border border-gray-800 p-4",children:[D.jsx("h3",{className:"text-sm font-semibold text-gray-100 mb-3",children:"Custom Tuning"}),D.jsx("div",{className:"space-y-2",children:tN.map((o,u)=>D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx("span",{className:"text-xs text-gray-400 w-28",children:o}),D.jsx("select",{value:e[u][0],onChange:f=>a(u,f.target.value),className:"px-2 py-1 text-sm rounded border border-gray-700 bg-surface text-gray-100 focus:outline-none focus:ring-2 focus:ring-accent","aria-label":`${o} note`,children:Jx.map(f=>D.jsx("option",{value:f,children:f},f))}),D.jsx("select",{value:e[u][1],onChange:f=>a(u,void 0,parseInt(f.target.value)),className:"px-2 py-1 text-sm rounded border border-gray-700 bg-surface text-gray-100 focus:outline-none focus:ring-2 focus:ring-accent","aria-label":`${o} octave`,children:$x.map(f=>D.jsx("option",{value:f,children:f},f))})]},u))})]})}function sN(){const{selectedTuningId:l,sidebarOpen:e,setSidebarOpen:i}=ke();return D.jsxs(D.Fragment,{children:[e&&D.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>i(!1)}),D.jsxs("aside",{className:`fixed lg:sticky top-0 left-0 z-50 lg:z-auto h-screen w-[280px] bg-sidebar flex flex-col transition-transform duration-200 lg:translate-x-0 ${e?"translate-x-0":"-translate-x-full"}`,children:[D.jsxs("div",{className:"flex items-center gap-1 px-5 py-4 shrink-0",children:[D.jsx("span",{className:"text-xl font-bold text-white",children:"Scale"}),D.jsx("span",{className:"text-xl font-bold text-accent",children:"Pro"})]}),D.jsxs("div",{className:"flex-1 overflow-y-auto sidebar-scroll px-5 pb-6 space-y-5",children:[D.jsx(Gx,{}),D.jsx(Yx,{}),D.jsx(Zx,{}),D.jsx(Qx,{}),l==="custom"&&D.jsx(nN,{}),D.jsx(Wx,{}),D.jsx(Kx,{})]})]})]})}function iN(){const{selectedRoot:l,selectedScaleId:e,selectedPosition:i,setSidebarOpen:a}=ke(),{availablePositions:o}=uc(),u=wi[e],f=i!=null&&o[i]?`Position ${o[i].label} (Frets ${o[i].startFret}${o[i].endFret})`:"All positions";return D.jsxs("div",{className:"flex items-center gap-3 px-6 py-3 border-b border-gray-800",children:[D.jsx("button",{onClick:()=>a(!0),className:"lg:hidden p-1.5 rounded-md hover:bg-surface text-gray-400","aria-label":"Open sidebar",children:D.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[D.jsx("line",{x1:"4",x2:"20",y1:"12",y2:"12"}),D.jsx("line",{x1:"4",x2:"20",y1:"6",y2:"6"}),D.jsx("line",{x1:"4",x2:"20",y1:"18",y2:"18"})]})}),D.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-accent shrink-0",children:[D.jsx("path",{d:"M9 18V5l12-2v13"}),D.jsx("circle",{cx:"6",cy:"18",r:"3"}),D.jsx("circle",{cx:"18",cy:"16",r:"3"})]}),D.jsxs("div",{className:"min-w-0",children:[D.jsxs("h1",{className:"text-lg font-semibold text-gray-100 truncate",children:[l," ",u?.name??"Scale"]}),D.jsx("p",{className:"text-xs text-label",children:f})]})]})}function aN(l){const e=new Set,i=[];for(const d of l)e.has(d.midi)||(e.add(d.midi),i.push(d));if(i.sort((d,m)=>d.midi-m.midi),i.length===0)return[];const a=i.findIndex(d=>d.isRoot),o=a>=0?a:0,u=i.slice(o),f=[...u].reverse().slice(1);return[...u,...f].map(d=>d.noteWithOctave)}function rN(l,e){const i=Yf(`${l} ${e}`);if(!i.notes.length)return[];const a=i.notes.map(u=>{const f=Ho(`${u}3`),d=Ho(`${l}3`);return f!==null&&d!==null&&f<d?`${u}4`:`${u}3`});a.push(`${l}4`);const o=[...a].reverse().slice(1);return[...a,...o]}function lN(){const{isPlaying:l,playScale:e,stop:i}=Lo(),{selectedRoot:a,selectedScaleId:o}=ke(),{filteredPositions:u,activePositionRange:f}=uc(),d=async()=>{if(l){i();return}const m=wi[o];if(!m)return;let p;f&&u.length>0?p=aN(u):p=rN(a,m.tonalName),p.length!==0&&await e(p)};return D.jsx("button",{onClick:d,className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${l?"bg-red-500 hover:bg-red-600 text-white":"bg-accent hover:bg-accent-hover text-white"}`,"aria-label":l?"Stop playback":"Play scale",children:l?"Stop":"Play Scale"})}const oN=[{bpm:60,label:"Slow"},{bpm:100,label:"Med"},{bpm:140,label:"Fast"}];function cN(){const{playbackBpm:l,setPlaybackBpm:e}=Lo();return D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("span",{className:"text-xs font-medium text-label",children:"Tempo"}),D.jsx("div",{className:"flex gap-1",children:oN.map(({bpm:i,label:a})=>D.jsx("button",{onClick:()=>e(i),className:`px-2 py-1 text-xs rounded transition-colors ${l===i?"bg-accent text-white":"bg-surface text-gray-400 hover:text-gray-200"}`,children:a},i))}),D.jsx("input",{type:"range",min:40,max:200,step:5,value:l,onChange:i=>e(Number(i.target.value)),className:"w-16 h-1 accent-amber-500 cursor-pointer","aria-label":"Playback speed"}),D.jsxs("span",{className:"text-xs tabular-nums text-label w-12",children:[l," bpm"]})]})}function uN(){const{isListening:l,startListening:e,stopListening:i,...a}=ba();return De.useEffect(()=>()=>{ba.getState().isListening&&ba.getState().stopListening()},[]),{isListening:l,startListening:e,stopListening:i,...a}}function hN(){const{isListening:l,startListening:e,stopListening:i,error:a}=uN(),o=()=>{l?i():e()};return D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsxs("button",{onClick:o,className:`px-4 py-2 rounded-md text-sm font-medium transition-colors flex items-center gap-2 ${l?"bg-green-500 hover:bg-green-600 text-white":"bg-surface text-gray-300 border border-gray-700 hover:text-white"}`,"aria-label":l?"Stop listening":"Enable microphone",children:[D.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[D.jsx("path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"}),D.jsx("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),D.jsx("line",{x1:"12",x2:"12",y1:"19",y2:"22"})]}),l?"Listening...":"Enable Mic",l&&D.jsx("span",{className:"w-2 h-2 bg-white rounded-full animate-pulse"})]}),a&&D.jsx("span",{className:"text-xs text-red-500",children:a})]})}function fN(){const{isListening:l,currentNote:e,currentNoteWithOctave:i,centOffset:a,clarity:o}=ba();return l?D.jsxs("div",{className:"flex items-center gap-4 w-[260px]",children:[D.jsxs("div",{className:"text-center min-w-[60px]",children:[D.jsx("div",{className:"text-2xl font-bold text-gray-100",children:i||""}),D.jsxs("div",{className:`text-xs text-label ${e?"visible":"invisible"}`,children:[a>0?"+":"",a,""]})]}),D.jsxs("div",{className:`flex items-center gap-1 ${e?"visible":"invisible"}`,children:[D.jsxs("div",{className:"w-32 h-2 bg-gray-700 rounded-full relative overflow-hidden",children:[D.jsx("div",{className:"absolute top-0 h-full bg-green-500 rounded-full transition-all duration-75",style:{left:"50%",width:`${Math.abs(a)}%`,transform:a<0?`translateX(-${Math.abs(a)}%)`:"none"}}),D.jsx("div",{className:"absolute left-1/2 top-0 w-0.5 h-full bg-gray-500"})]}),D.jsxs("span",{className:"text-xs text-gray-500 w-8",children:[Math.round(o*100),"%"]})]})]}):null}function dN(){const{isActive:l,expectedNotes:e,hitNotes:i,currentStep:a}=mi();if(!l||e.length===0)return null;const o=a>=e.length;return D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("span",{className:"text-xs font-medium text-label",children:"Practice"}),D.jsx("div",{className:"flex gap-1",children:e.map((u,f)=>D.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium transition-colors ${i[f]?"bg-green-500 text-white":f===a?"bg-amber-900/50 text-amber-400 ring-2 ring-amber-400":"bg-surface text-gray-400"}`,children:i[f]?"":u},f))}),o&&D.jsx("span",{className:"text-xs font-medium text-green-400",children:"Complete!"})]})}function mN(){return D.jsxs("div",{className:"flex flex-wrap items-center gap-3 px-6 py-2.5 bg-surface/50 border-b border-gray-800",children:[D.jsx(lN,{}),D.jsx("div",{className:"w-px h-6 bg-gray-700"}),D.jsx(cN,{}),D.jsx("div",{className:"w-px h-6 bg-gray-700"}),D.jsx(hN,{}),D.jsx(fN,{}),D.jsx(dN,{})]})}function pN({children:l}){return D.jsx("div",{className:"w-full overflow-x-auto",children:D.jsx("div",{className:"min-w-[800px]",children:l})})}const gN=[3,5,7,9,15,17,19,21],_N=[12];function yN({height:l,nutX:e,scaleLength:i,topPadding:a,stringSpacing:o,tuningNotes:u,numFrets:f,activePositionRange:d}){const m=o*5,p=a,_=a+m,y=(p+_)/2;return D.jsxs("g",{children:[D.jsx("rect",{x:e-4,y:p-10,width:i+8,height:m+20,rx:2,fill:"currentColor",className:"text-amber-900/20 dark:text-amber-800/15"}),gN.map(b=>{if(b>f)return null;const S=b===0?e:Cn(b-1,e,i),T=Cn(b,e,i),M=(S+T)/2;return D.jsx("circle",{cx:M,cy:y,r:6,className:"fill-gray-300 dark:fill-gray-600",opacity:.5},`marker-${b}`)}),_N.map(b=>{if(b>f)return null;const S=Cn(b-1,e,i),T=Cn(b,e,i),M=(S+T)/2;return D.jsxs("g",{children:[D.jsx("circle",{cx:M,cy:y-o*1.2,r:6,className:"fill-gray-300 dark:fill-gray-600",opacity:.5}),D.jsx("circle",{cx:M,cy:y+o*1.2,r:6,className:"fill-gray-300 dark:fill-gray-600",opacity:.5})]},`marker-double-${b}`)}),D.jsx("rect",{x:e-2,y:p-5,width:4,height:m+10,className:"fill-gray-800 dark:fill-gray-200"}),Array.from({length:f},(b,S)=>S+1).map(b=>{const S=Cn(b,e,i);return D.jsx("line",{x1:S,y1:p-3,x2:S,y2:_+3,stroke:"#9CA3AF",strokeWidth:2,opacity:.6},`fret-${b}`)}),Array.from({length:6},(b,S)=>{const T=Br(S,a,o),M=1+S*.4;return D.jsx("line",{x1:e-2,y1:T,x2:e+i,y2:T,stroke:"#B0B0B0",strokeWidth:M,opacity:.7},`string-${S}`)}),u.map((b,S)=>{const T=Br(S,a,o),M=b.replace(/\d+$/,"");return D.jsx("text",{x:e-20,y:T+4,textAnchor:"middle",className:"fill-gray-500 dark:fill-gray-400",fontSize:10,fontFamily:"system-ui",children:M},`label-${S}`)}),d&&(()=>{const b=d.startFret===0?e-4:Cn(d.startFret-1,e,i),S=Cn(d.endFret,e,i);return D.jsx("rect",{x:b,y:p-12,width:S-b,height:m+24,rx:4,fill:"rgba(59, 130, 246, 0.08)",stroke:"rgba(59, 130, 246, 0.4)",strokeWidth:1.5,strokeDasharray:"6 3"})})(),[1,3,5,7,9,12,15,17,19,21].map(b=>{if(b>f)return null;const S=b===1?e:Cn(b-1,e,i),T=Cn(b,e,i),M=(S+T)/2;return D.jsx("text",{x:M,y:l-3,textAnchor:"middle",className:"fill-gray-400 dark:fill-gray-500",fontSize:9,fontFamily:"system-ui",children:b},`fretnum-${b}`)})]})}function vN({positions:l,nutX:e,scaleLength:i,topPadding:a,stringSpacing:o,onNoteClick:u,activeNoteIndex:f,highlightRoot:d=!0,showAllNotes:m=!1,allPositions:p=[],hitDegrees:_}){return D.jsxs("g",{children:[m&&p.filter(y=>!l.some(b=>b.string===y.string&&b.fret===y.fret)).map(y=>{const b=$h(y.fret,e,i),S=Br(y.string,a,o);return D.jsxs("g",{children:[D.jsx("circle",{cx:b,cy:S,r:8,fill:"#6B7280",opacity:.2}),D.jsx("text",{x:b,y:S+3,textAnchor:"middle",fill:"#9CA3AF",fontSize:7,fontFamily:"system-ui",opacity:.5,children:y.note})]},`all-${y.string}-${y.fret}`)}),l.map(y=>{const b=$h(y.fret,e,i),S=Br(y.string,a,o),T=(y.degree-1)%_i.length,M=_i[T],x=y.isRoot&&d,C=x?16:14,G=f!=null&&y.degree===f+1,U=_?.has(y.degree)??!1;return D.jsxs("g",{onClick:()=>u(y),style:{cursor:"pointer"},role:"button","aria-label":`${y.note}, fret ${y.fret}, string ${y.string+1}`,children:[U&&D.jsx("circle",{cx:b,cy:S,r:C+5,fill:"none",stroke:"#22C55E",strokeWidth:2.5,opacity:.85}),G&&D.jsx("circle",{cx:b,cy:S,r:C+6,fill:"none",stroke:M,strokeWidth:2,opacity:.6,className:"animate-ping"}),D.jsx("circle",{cx:b,cy:S,r:C,fill:M,opacity:.9,stroke:x?"#fff":"none",strokeWidth:x?2:0}),D.jsx("text",{x:b,y:S+4,textAnchor:"middle",fill:"white",fontSize:10,fontWeight:x?"bold":"normal",fontFamily:"system-ui",pointerEvents:"none",children:y.note})]},`note-${y.string}-${y.fret}`)})]})}function bN({detectedNoteWithOctave:l,positions:e,nutX:i,scaleLength:a,topPadding:o,stringSpacing:u}){const f=e.filter(d=>d.noteWithOctave===l);return D.jsx("g",{children:f.map(d=>{const m=$h(d.fret,i,a),p=Br(d.string,o,u);return D.jsx("g",{children:D.jsxs("circle",{cx:m,cy:p,r:20,fill:"none",stroke:"#22C55E",strokeWidth:3,opacity:.8,children:[D.jsx("animate",{attributeName:"r",values:"16;24;16",dur:"1s",repeatCount:"indefinite"}),D.jsx("animate",{attributeName:"opacity",values:"1;0.3;1",dur:"1s",repeatCount:"indefinite"})]})},`pitch-${d.string}-${d.fret}`)})})}const R_=1200,nf=200,Ph=60,qh=1120,wo=25,SN=25,Bh=(nf-wo-SN)/5,TN=22;function MN({positions:l,tuningNotes:e,onNoteClick:i,activeNoteIndex:a,highlightRoot:o=!0,showAllNotes:u=!1,allPositions:f=[],detectedNoteWithOctave:d,scaleName:m,rootName:p,activePositionRange:_,hitDegrees:y}){return D.jsxs("svg",{viewBox:`0 0 ${R_} ${nf}`,preserveAspectRatio:"xMinYMid meet",className:"w-full h-auto",role:"img","aria-label":`Guitar fretboard showing ${m||"scale"} in ${p||"key"}`,children:[D.jsx(yN,{width:R_,height:nf,nutX:Ph,scaleLength:qh,topPadding:wo,stringSpacing:Bh,tuningNotes:e,numFrets:TN,activePositionRange:_}),D.jsx(vN,{positions:l,nutX:Ph,scaleLength:qh,topPadding:wo,stringSpacing:Bh,onNoteClick:i,activeNoteIndex:a,highlightRoot:o,showAllNotes:u,allPositions:f,hitDegrees:y}),d&&D.jsx(bN,{detectedNoteWithOctave:d,positions:l,nutX:Ph,scaleLength:qh,topPadding:wo,stringSpacing:Bh})]})}const AN=["Root","2nd","3rd","4th","5th","6th","7th"];function xN(){return D.jsx("div",{className:"flex flex-wrap gap-3 justify-center py-2",children:AN.map((l,e)=>D.jsxs("div",{className:"flex items-center gap-1.5",children:[D.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:_i[e]}}),D.jsx("span",{className:"text-xs text-gray-400",children:l})]},l))})}function NN(){const{selectedGenreId:l}=ke();if(!l)return null;const e=hc.find(i=>i.id===l);return e?D.jsxs("div",{className:"bg-surface rounded-xl border border-gray-800 p-4",children:[D.jsxs("h3",{className:"font-semibold text-sm text-gray-100 mb-1",children:[e.name," Tips"]}),D.jsx("p",{className:"text-xs text-label mb-2",children:e.description}),D.jsx("ul",{className:"space-y-1",children:e.tips.map((i,a)=>D.jsxs("li",{className:"text-xs text-gray-300 flex gap-2",children:[D.jsx("span",{className:"text-gray-500 select-none",children:""}),D.jsx("span",{children:i})]},a))})]}):null}function CN(){const{selectedRoot:l,selectedScaleId:e}=ke(),i=wi[e];if(!i)return null;const o=Yf(`${l} ${i.tonalName}`).notes||[];return D.jsxs("div",{className:"space-y-4",children:[D.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[D.jsxs("div",{className:"bg-surface rounded-xl border border-gray-800 p-4",children:[D.jsx("h4",{className:"text-xs font-medium uppercase tracking-wider text-label mb-3",children:"Formula"}),D.jsx("div",{className:"flex flex-wrap gap-1.5",children:i.intervals.map((u,f)=>D.jsx("span",{className:"px-2.5 py-1 text-xs rounded-full text-white font-medium",style:{backgroundColor:_i[f%_i.length]},children:u},f))})]}),D.jsxs("div",{className:"bg-surface rounded-xl border border-gray-800 p-4",children:[D.jsx("h4",{className:"text-xs font-medium uppercase tracking-wider text-label mb-3",children:"Notes"}),D.jsx("div",{className:"flex flex-wrap gap-1.5",children:o.map((u,f)=>D.jsxs("span",{className:"px-2.5 py-1 text-xs rounded-md font-medium text-white",style:{backgroundColor:_i[f%_i.length]},children:[u,D.jsx("span",{className:"ml-1 opacity-70",children:i.degrees[f]})]},f))})]})]}),D.jsx(NN,{})]})}function wN(){const{theme:l}=ke();De.useEffect(()=>{const e=i=>{document.documentElement.classList.toggle("dark",i==="dark")};if(l==="system"){const i=window.matchMedia("(prefers-color-scheme: dark)");e(i.matches?"dark":"light");const a=o=>e(o.matches?"dark":"light");return i.addEventListener("change",a),()=>i.removeEventListener("change",a)}else e(l)},[l])}function EN(){const{selectedRoot:l,selectedScaleId:e,selectedTuningId:i,selectedGenreId:a,selectedPosition:o,setRoot:u,setScale:f,setTuning:d,setGenre:m,setPosition:p}=ke();De.useEffect(()=>{const _=D_(window.location.hash);_.root&&u(_.root),_.scaleId&&f(_.scaleId),_.tuningId&&d(_.tuningId),_.genreId&&m(_.genreId),_.pos!=null&&p(_.pos)},[]),De.useEffect(()=>{const _=Hx({root:l,scaleId:e,tuningId:i,genreId:a,pos:o});window.location.hash!==_&&window.history.replaceState(null,"",_)},[l,e,i,a,o]),De.useEffect(()=>{const _=()=>{const y=D_(window.location.hash);y.root&&u(y.root),y.scaleId&&f(y.scaleId),y.tuningId&&d(y.tuningId),y.genreId!==void 0&&m(y.genreId??null),p(y.pos??null)};return window.addEventListener("hashchange",_),()=>window.removeEventListener("hashchange",_)},[])}function ON(){wN(),EN();const{selectedRoot:l,selectedScaleId:e,showAllNotes:i,highlightRoot:a}=ke(),{currentNoteIndex:o}=Lo(),{isListening:u,currentNote:f,currentNoteWithOctave:d}=ba(),{filteredPositions:m,tuning:p,allPositions:_,activePositionRange:y}=uc(),b=Ux(m,u,f),S=wi[e],T=De.useCallback(async M=>{const{playNote:x}=Lo.getState();await x(M.noteWithOctave)},[]);return D.jsxs("div",{className:"flex min-h-screen bg-content text-gray-100",children:[D.jsx(sN,{}),D.jsxs("main",{className:"flex-1 flex flex-col min-w-0",children:[D.jsx(iN,{}),D.jsx(mN,{}),D.jsxs("div",{className:"flex-1 px-6 py-6 space-y-6 overflow-y-auto",children:[D.jsxs(pN,{children:[D.jsx(MN,{positions:m,tuningNotes:p.notes,onNoteClick:T,activeNoteIndex:o,highlightRoot:a,showAllNotes:i,allPositions:_,detectedNoteWithOctave:d,scaleName:S?.name,rootName:l,activePositionRange:y,hitDegrees:b}),D.jsx(xN,{})]}),D.jsx(CN,{})]})]})]})}R1.createRoot(document.getElementById("root")).render(D.jsx(De.StrictMode,{children:D.jsx(ON,{})}));
